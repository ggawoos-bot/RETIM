(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var yf={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function C0(){if(Xp)return Ul;Xp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:r,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Ul.Fragment=e,Ul.jsx=i,Ul.jsxs=i,Ul}var Kp;function D0(){return Kp||(Kp=1,yf.exports=C0()),yf.exports}var At=D0(),_f={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function V0(){if(Zp)return St;Zp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function M(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,tt={};function Z(D,X,nt){this.props=D,this.context=X,this.refs=tt,this.updater=nt||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Tt(){}Tt.prototype=Z.prototype;function yt(D,X,nt){this.props=D,this.context=X,this.refs=tt,this.updater=nt||j}var ut=yt.prototype=new Tt;ut.constructor=yt,$(ut,Z.prototype),ut.isPureReactComponent=!0;var Pt=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function N(D,X,nt,W,lt,Dt){return nt=Dt.ref,{$$typeof:r,type:D,key:X,ref:nt!==void 0?nt:null,props:Dt}}function S(D,X){return N(D.type,X,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return X[nt]})}var I=/\/+/g;function U(D,X){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):X.toString(36)}function R(){}function ae(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function te(D,X,nt,W,lt){var Dt=typeof D;(Dt==="undefined"||Dt==="boolean")&&(D=null);var mt=!1;if(D===null)mt=!0;else switch(Dt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(D.$$typeof){case r:case e:mt=!0;break;case A:return mt=D._init,te(mt(D._payload),X,nt,W,lt)}}if(mt)return lt=lt(D),mt=W===""?"."+U(D,0):W,Pt(lt)?(nt="",mt!=null&&(nt=mt.replace(I,"$&/")+"/"),te(lt,X,nt,"",function(Dn){return Dn})):lt!=null&&(w(lt)&&(lt=S(lt,nt+(lt.key==null||D&&D.key===lt.key?"":(""+lt.key).replace(I,"$&/")+"/")+mt)),X.push(lt)),1;mt=0;var Oe=W===""?".":W+":";if(Pt(D))for(var Ht=0;Ht<D.length;Ht++)W=D[Ht],Dt=Oe+U(W,Ht),mt+=te(W,X,nt,Dt,lt);else if(Ht=M(D),typeof Ht=="function")for(D=Ht.call(D),Ht=0;!(W=D.next()).done;)W=W.value,Dt=Oe+U(W,Ht++),mt+=te(W,X,nt,Dt,lt);else if(Dt==="object"){if(typeof D.then=="function")return te(ae(D),X,nt,W,lt);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return mt}function H(D,X,nt){if(D==null)return D;var W=[],lt=0;return te(D,W,"","",function(Dt){return X.call(nt,Dt,lt++)}),W}function et(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ut(){}return St.Children={map:H,forEach:function(D,X,nt){H(D,function(){X.apply(this,arguments)},nt)},count:function(D){var X=0;return H(D,function(){X++}),X},toArray:function(D){return H(D,function(X){return X})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},St.Component=Z,St.Fragment=i,St.Profiler=u,St.PureComponent=yt,St.StrictMode=a,St.Suspense=v,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,St.__COMPILER_RUNTIME={__proto__:null,c:function(D){return pt.H.useMemoCache(D)}},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cloneElement=function(D,X,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=$({},D.props),lt=D.key,Dt=void 0;if(X!=null)for(mt in X.ref!==void 0&&(Dt=void 0),X.key!==void 0&&(lt=""+X.key),X)!xt.call(X,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&X.ref===void 0||(W[mt]=X[mt]);var mt=arguments.length-2;if(mt===1)W.children=nt;else if(1<mt){for(var Oe=Array(mt),Ht=0;Ht<mt;Ht++)Oe[Ht]=arguments[Ht+2];W.children=Oe}return N(D.type,lt,void 0,void 0,Dt,W)},St.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},St.createElement=function(D,X,nt){var W,lt={},Dt=null;if(X!=null)for(W in X.key!==void 0&&(Dt=""+X.key),X)xt.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(lt[W]=X[W]);var mt=arguments.length-2;if(mt===1)lt.children=nt;else if(1<mt){for(var Oe=Array(mt),Ht=0;Ht<mt;Ht++)Oe[Ht]=arguments[Ht+2];lt.children=Oe}if(D&&D.defaultProps)for(W in mt=D.defaultProps,mt)lt[W]===void 0&&(lt[W]=mt[W]);return N(D,Dt,void 0,void 0,null,lt)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:y,render:D}},St.isValidElement=w,St.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:et}},St.memo=function(D,X){return{$$typeof:_,type:D,compare:X===void 0?null:X}},St.startTransition=function(D){var X=pt.T,nt={};pt.T=nt;try{var W=D(),lt=pt.S;lt!==null&&lt(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Ut,ot)}catch(Dt){ot(Dt)}finally{pt.T=X}},St.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},St.use=function(D){return pt.H.use(D)},St.useActionState=function(D,X,nt){return pt.H.useActionState(D,X,nt)},St.useCallback=function(D,X){return pt.H.useCallback(D,X)},St.useContext=function(D){return pt.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,X){return pt.H.useDeferredValue(D,X)},St.useEffect=function(D,X,nt){var W=pt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(D,X)},St.useId=function(){return pt.H.useId()},St.useImperativeHandle=function(D,X,nt){return pt.H.useImperativeHandle(D,X,nt)},St.useInsertionEffect=function(D,X){return pt.H.useInsertionEffect(D,X)},St.useLayoutEffect=function(D,X){return pt.H.useLayoutEffect(D,X)},St.useMemo=function(D,X){return pt.H.useMemo(D,X)},St.useOptimistic=function(D,X){return pt.H.useOptimistic(D,X)},St.useReducer=function(D,X,nt){return pt.H.useReducer(D,X,nt)},St.useRef=function(D){return pt.H.useRef(D)},St.useState=function(D){return pt.H.useState(D)},St.useSyncExternalStore=function(D,X,nt){return pt.H.useSyncExternalStore(D,X,nt)},St.useTransition=function(){return pt.H.useTransition()},St.version="19.1.1",St}var $p;function nd(){return $p||($p=1,_f.exports=V0()),_f.exports}var sn=nd(),vf={exports:{}},Ll={},Ef={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function I0(){return Jp||(Jp=1,(function(r){function e(H,et){var ot=H.length;H.push(et);t:for(;0<ot;){var Ut=ot-1>>>1,D=H[Ut];if(0<u(D,et))H[Ut]=et,H[ot]=D,ot=Ut;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var et=H[0],ot=H.pop();if(ot!==et){H[0]=ot;t:for(var Ut=0,D=H.length,X=D>>>1;Ut<X;){var nt=2*(Ut+1)-1,W=H[nt],lt=nt+1,Dt=H[lt];if(0>u(W,ot))lt<D&&0>u(Dt,W)?(H[Ut]=Dt,H[lt]=ot,Ut=lt):(H[Ut]=W,H[nt]=ot,Ut=nt);else if(lt<D&&0>u(Dt,ot))H[Ut]=Dt,H[lt]=ot,Ut=lt;else break t}}return et}function u(H,et){var ot=H.sortIndex-et.sortIndex;return ot!==0?ot:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,C=null,M=3,j=!1,$=!1,tt=!1,Z=!1,Tt=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Pt(H){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=H)a(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function pt(H){if(tt=!1,Pt(H),!$)if(i(v)!==null)$=!0,xt||(xt=!0,U());else{var et=i(_);et!==null&&te(pt,et.startTime-H)}}var xt=!1,N=-1,S=5,w=-1;function O(){return Z?!0:!(r.unstable_now()-w<S)}function I(){if(Z=!1,xt){var H=r.unstable_now();w=H;var et=!0;try{t:{$=!1,tt&&(tt=!1,yt(N),N=-1),j=!0;var ot=M;try{e:{for(Pt(H),C=i(v);C!==null&&!(C.expirationTime>H&&O());){var Ut=C.callback;if(typeof Ut=="function"){C.callback=null,M=C.priorityLevel;var D=Ut(C.expirationTime<=H);if(H=r.unstable_now(),typeof D=="function"){C.callback=D,Pt(H),et=!0;break e}C===i(v)&&a(v),Pt(H)}else a(v);C=i(v)}if(C!==null)et=!0;else{var X=i(_);X!==null&&te(pt,X.startTime-H),et=!1}}break t}finally{C=null,M=ot,j=!1}et=void 0}}finally{et?U():xt=!1}}}var U;if(typeof ut=="function")U=function(){ut(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ae=R.port2;R.port1.onmessage=I,U=function(){ae.postMessage(null)}}else U=function(){Tt(I,0)};function te(H,et){N=Tt(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(H){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ot=M;M=et;try{return H()}finally{M=ot}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=M;M=H;try{return et()}finally{M=ot}},r.unstable_scheduleCallback=function(H,et,ot){var Ut=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Ut+ot:Ut):ot=Ut,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,H={id:A++,callback:et,priorityLevel:H,startTime:ot,expirationTime:D,sortIndex:-1},ot>Ut?(H.sortIndex=ot,e(_,H),i(v)===null&&H===i(_)&&(tt?(yt(N),N=-1):tt=!0,te(pt,ot-Ut))):(H.sortIndex=D,e(v,H),$||j||($=!0,xt||(xt=!0,U()))),H},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(H){var et=M;return function(){var ot=M;M=et;try{return H.apply(this,arguments)}finally{M=ot}}}})(Tf)),Tf}var Wp;function N0(){return Wp||(Wp=1,Ef.exports=I0()),Ef.exports}var Af={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function O0(){if(ty)return He;ty=1;var r=nd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},He.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},He.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},He.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},He.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,C=y(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:M,fetchPriority:j}):A==="script"&&a.d.X(v,{crossOrigin:C,integrity:M,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},He.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},He.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,C=y(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},He.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},He.requestFormReset=function(v){a.d.r(v)},He.unstable_batchedUpdates=function(v,_){return v(_)},He.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.1",He}var ey;function M0(){if(ey)return Af.exports;ey=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Af.exports=O0(),Af.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function x0(){if(ny)return Ll;ny=1;var r=N0(),e=nd(),i=M0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return y(c),t;if(f===l)return y(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var p=!1,E=c.child;E;){if(E===s){p=!0,s=c,l=f;break}if(E===l){p=!0,l=c,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=c;break}if(E===l){p=!0,l=f,s=c;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),yt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case Z:return"Profiler";case tt:return"StrictMode";case pt:return"Suspense";case xt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case ut:return(t.displayName||"Context")+".Provider";case yt:return(t._context.displayName||"Context")+".Consumer";case Pt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:ae(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ae(t(n))}catch{}}return null}var te=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Ut=[],D=-1;function X(t){return{current:t}}function nt(t){0>D||(t.current=Ut[D],Ut[D]=null,D--)}function W(t,n){D++,Ut[D]=t.current,t.current=n}var lt=X(null),Dt=X(null),mt=X(null),Oe=X(null);function Ht(t,n){switch(W(mt,n),W(Dt,t),W(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ap(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ap(n),t=Sp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(lt),W(lt,t)}function Dn(){nt(lt),nt(Dt),nt(mt)}function Vr(t){t.memoizedState!==null&&W(Oe,t);var n=lt.current,s=Sp(n,t.type);n!==s&&(W(Dt,t),W(lt,s))}function Ea(t){Dt.current===t&&(nt(lt),nt(Dt)),Oe.current===t&&(nt(Oe),Il._currentValue=ot)}var Ta=Object.prototype.hasOwnProperty,Ds=r.unstable_scheduleCallback,Aa=r.unstable_cancelCallback,yc=r.unstable_shouldYield,Ir=r.unstable_requestPaint,Je=r.unstable_now,ru=r.unstable_getCurrentPriorityLevel,ve=r.unstable_ImmediatePriority,we=r.unstable_UserBlockingPriority,li=r.unstable_NormalPriority,_c=r.unstable_LowPriority,Nr=r.unstable_IdlePriority,vc=r.log,Vs=r.unstable_setDisableYieldValue,Oi=null,qe=null;function gn(t){if(typeof vc=="function"&&Vs(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Oi,t)}catch{}}var Fe=Math.clz32?Math.clz32:uu,Ec=Math.log,lu=Math.LN2;function uu(t){return t>>>=0,t===0?32:31-(Ec(t)/lu|0)|0}var Bn=256,Mi=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pn(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Vn(l):(p&=E,p!==0?c=Vn(p):s||(s=E&~t,s!==0&&(c=Vn(s))))):(E=l&~f,E!==0?c=Vn(E):p!==0?c=Vn(p):s||(s=l&~t,s!==0&&(c=Vn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function xi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Sa(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Or(){var t=Bn;return Bn<<=1,(Bn&4194048)===0&&(Bn=256),t}function Ui(){var t=Mi;return Mi<<=1,(Mi&62914560)===0&&(Mi=4194304),t}function ba(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ue(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ou(t,n,s,l,c,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(s=p&~s;0<s;){var G=31-Fe(s),Y=1<<G;E[G]=0,b[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}s&=~Y}l!==0&&Li(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Li(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function zi(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Fe(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Mr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ui(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:jp(t.type))}function Tc(t,n){var s=et.p;try{return et.p=t,n()}finally{et.p=s}}var qn=Math.random().toString(36).slice(2),oe="__reactFiber$"+qn,Me="__reactProps$"+qn,oi="__reactContainer$"+qn,Is="__reactEvents$"+qn,Ns="__reactListeners$"+qn,Ac="__reactHandles$"+qn,In="__reactResources$"+qn,Pi="__reactMarker$"+qn;function Ra(t){delete t[oe],delete t[Me],delete t[Is],delete t[Ns],delete t[Ac]}function kn(t){var n=t[oe];if(n)return n;for(var s=t.parentNode;s;){if(n=s[oi]||s[oe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Cp(t);t!==null;){if(s=t[oe])return s;t=Cp(t)}return n}t=s,s=t.parentNode}return null}function jn(t){if(t=t[oe]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function qi(t){var n=t[In];return n||(n=t[In]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[Pi]=!0}var cu=new Set,Os={};function Hn(t,n){Gn(t,n),Gn(t+"Capture",n)}function Gn(t,n){for(Os[t]=n,t=0;t<n.length;t++)cu.add(n[t])}var Ms=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qn={},wa={};function Sc(t){return Ta.call(wa,t)?!0:Ta.call(Qn,t)?!1:Ms.test(t)?wa[t]=!0:(Qn[t]=!0,!1)}function xs(t,n,s){if(Sc(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Us(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function yn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}var Ls,Ca;function ci(t){if(Ls===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ls=n&&n[1]||"",Ca=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ls+t+Ca}var Da=!1;function Va(t,n){if(!t||Da)return"";Da=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var B=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){B=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){B=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var b=p.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Da=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ci(s):""}function bc(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Va(t.type,!1);case 11:return Va(t.type.render,!1);case 1:return Va(t.type,!0);case 31:return ci("Activity");default:return""}}function Nn(t){try{var n="";do n+=bc(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ne(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ki(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zs(t){var n=ki(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ji(t){t._valueTracker||(t._valueTracker=zs(t))}function Gt(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=ki(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ps=/[\n"\\]/g;function Ce(t){return t.replace(Ps,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ur(t,n,s,l,c,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ne(n)):t.value!==""+ne(n)&&(t.value=""+ne(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?zr(t,p,ne(n)):s!=null?zr(t,p,ne(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ne(E):t.removeAttribute("name")}function Lr(t,n,s,l,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+ne(s):"",n=n!=null?""+ne(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function zr(t,n,s){n==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Hi(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+ne(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function hu(t,n,s){if(n!=null&&(n=""+ne(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+ne(s):""}function fu(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(te(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ne(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var fi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pr(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||fi.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Br(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&Pr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Pr(t,f,n[f])}function Ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function On(t){return mu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var qr=null;function kr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gi=null,Xe=null;function gu(t){var n=jn(t);if(n&&(t=n.stateNode)){var s=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ur(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ce(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Me]||null;if(!c)throw Error(a(90));Ur(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Gt(l)}break t;case"textarea":hu(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Hi(t,!!s.multiple,n,!1)}}}var Bs=!1;function qs(t,n,s){if(Bs)return t(n,s);Bs=!0;try{var l=t(n);return l}finally{if(Bs=!1,(Gi!==null||Xe!==null)&&(so(),Gi&&(n=Gi,t=Xe,Xe=Gi=null,gu(n),t)))for(n=0;n<t.length;n++)gu(t[n])}}function Qi(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Me]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Ke=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),di=!1;if(Ke)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){di=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{di=!1}var vn=null,Kt=null,Na=null;function pu(){if(Na)return Na;var t,n=Kt,s=n.length,l,c="value"in vn?vn.value:vn.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var p=s-t;for(l=1;l<=p&&n[s-l]===c[f-l];l++);return Na=c.slice(t,1<l?1-l:void 0)}function ks(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function js(){return!0}function jr(){return!1}function Ee(t){function n(s,l,c,f,p){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?js:jr,this.isPropagationStopped=jr,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),n}var ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Ee(ke),Gs=A({},ke,{view:0,detail:0}),Qs=Ee(Gs),Oa,Ys,Yn,Fs=A({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Oa=t.screenX-Yn.screenX,Ys=t.screenY-Yn.screenY):Ys=Oa=0,Yn=t),Oa)},movementY:function(t){return"movementY"in t?t.movementY:Ys}}),Xs=Ee(Fs),Rc=A({},Fs,{dataTransfer:0}),yu=Ee(Rc),Ks=A({},Gs,{relatedTarget:0}),Ma=Ee(Ks),_u=A({},ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Hr=Ee(_u),Gr=A({},ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=Ee(Gr),xa=A({},ke,{data:0}),Qr=Ee(xa),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function Ua(){return Au}var Su=A({},Gs,{key:function(t){if(t.key){var n=Eu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(t){return t.type==="keypress"?ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),La=Ee(Su),Ze=A({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yr=Ee(Ze),bu=A({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),Fi=Ee(bu),o=A({},ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=Ee(o),g=A({},Fs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T=Ee(g),z=A({},ke,{newState:0,oldState:0}),k=Ee(z),J=[9,13,27,32],vt=Ke&&"CompositionEvent"in window,$t=null;Ke&&"documentMode"in document&&($t=document.documentMode);var qt=Ke&&"TextEvent"in window&&!$t,he=Ke&&(!vt||$t&&8<$t&&11>=$t),rn=" ",Fn=!1;function Mn(t,n){switch(t){case"keyup":return J.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Un=!1;function Fr(t,n){switch(t){case"compositionend":return xn(n);case"keypress":return n.which!==32?null:(Fn=!0,rn);case"textInput":return t=n.data,t===rn&&Fn?null:t;default:return null}}function tE(t,n){if(Un)return t==="compositionend"||!vt&&Mn(t,n)?(t=pu(),Na=Kt=vn=null,Un=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return he&&n.locale!=="ko"?null:n.data;default:return null}}var eE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!eE[t.type]:n==="textarea"}function zd(t,n,s,l){Gi?Xe?Xe.push(l):Xe=[l]:Gi=l,n=co(n,"onChange"),0<n.length&&(s=new Hs("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Xr=null,Kr=null;function nE(t){yp(t,0)}function Ru(t){var n=Bi(t);if(Gt(n))return t}function Pd(t,n){if(t==="change")return n}var Bd=!1;if(Ke){var wc;if(Ke){var Cc="oninput"in document;if(!Cc){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),Cc=typeof qd.oninput=="function"}wc=Cc}else wc=!1;Bd=wc&&(!document.documentMode||9<document.documentMode)}function kd(){Xr&&(Xr.detachEvent("onpropertychange",jd),Kr=Xr=null)}function jd(t){if(t.propertyName==="value"&&Ru(Kr)){var n=[];zd(n,Kr,t,kr(t)),qs(nE,n)}}function iE(t,n,s){t==="focusin"?(kd(),Xr=n,Kr=s,Xr.attachEvent("onpropertychange",jd)):t==="focusout"&&kd()}function sE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Kr)}function aE(t,n){if(t==="click")return Ru(n)}function rE(t,n){if(t==="input"||t==="change")return Ru(n)}function lE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:lE;function Zr(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Ta.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Hd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gd(t,n){var s=Hd(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Hd(s)}}function Qd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Qd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Yd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=hi(t.document)}return n}function Dc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var uE=Ke&&"documentMode"in document&&11>=document.documentMode,za=null,Vc=null,$r=null,Ic=!1;function Fd(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ic||za==null||za!==hi(l)||(l=za,"selectionStart"in l&&Dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$r&&Zr($r,l)||($r=l,l=co(Vc,"onSelect"),0<l.length&&(n=new Hs("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=za)))}function Zs(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Pa={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},Nc={},Xd={};Ke&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function $s(t){if(Nc[t])return Nc[t];if(!Pa[t])return t;var n=Pa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Xd)return Nc[t]=n[s];return t}var Kd=$s("animationend"),Zd=$s("animationiteration"),$d=$s("animationstart"),oE=$s("transitionrun"),cE=$s("transitionstart"),hE=$s("transitioncancel"),Jd=$s("transitionend"),Wd=new Map,Oc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oc.push("scrollEnd");function Ln(t,n){Wd.set(t,n),Hn(n,[t])}var tm=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var s=tm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Nn(n)},tm.set(t,n),n)}return{value:t,source:n,stack:Nn(n)}}var Tn=[],Ba=0,Mc=0;function wu(){for(var t=Ba,n=Mc=Ba=0;n<t;){var s=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&em(s,c,f)}}function Cu(t,n,s,l){Tn[Ba++]=t,Tn[Ba++]=n,Tn[Ba++]=s,Tn[Ba++]=l,Mc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xc(t,n,s,l){return Cu(t,n,s,l),Du(t)}function qa(t,n){return Cu(t,null,null,n),Du(t)}function em(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Fe(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Du(t){if(50<Al)throw Al=0,qh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ka={};function fE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,s,l){return new fE(t,n,s,l)}function Uc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,n){var s=t.alternate;return s===null?(s=un(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function nm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vu(t,n,s,l,c,f){var p=0;if(l=t,typeof t=="function")Uc(t)&&(p=1);else if(typeof t=="string")p=m0(t,s,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=un(31,s,n,c),t.elementType=w,t.lanes=f,t;case $:return Js(s.children,c,f,n);case tt:p=8,c|=24;break;case Z:return t=un(12,s,n,c|2),t.elementType=Z,t.lanes=f,t;case pt:return t=un(13,s,n,c),t.elementType=pt,t.lanes=f,t;case xt:return t=un(19,s,n,c),t.elementType=xt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tt:case ut:p=10;break t;case yt:p=9;break t;case Pt:p=11;break t;case N:p=14;break t;case S:p=16,l=null;break t}p=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=un(p,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Js(t,n,s,l){return t=un(7,t,l,n),t.lanes=s,t}function Lc(t,n,s){return t=un(6,t,null,n),t.lanes=s,t}function zc(t,n,s){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ja=[],Ha=0,Iu=null,Nu=0,An=[],Sn=0,Ws=null,pi=1,yi="";function ta(t,n){ja[Ha++]=Nu,ja[Ha++]=Iu,Iu=t,Nu=n}function im(t,n,s){An[Sn++]=pi,An[Sn++]=yi,An[Sn++]=Ws,Ws=t;var l=pi;t=yi;var c=32-Fe(l)-1;l&=~(1<<c),s+=1;var f=32-Fe(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,pi=1<<32-Fe(n)+c|s<<c|l,yi=f+t}else pi=1<<f|s<<c|l,yi=t}function Pc(t){t.return!==null&&(ta(t,1),im(t,1,0))}function Bc(t){for(;t===Iu;)Iu=ja[--Ha],ja[Ha]=null,Nu=ja[--Ha],ja[Ha]=null;for(;t===Ws;)Ws=An[--Sn],An[Sn]=null,yi=An[--Sn],An[Sn]=null,pi=An[--Sn],An[Sn]=null}var $e=null,re=null,zt=!1,ea=null,Xn=!1,qc=Error(a(519));function na(t){var n=Error(a(418,""));throw tl(En(n,t)),qc}function sm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[oe]=t,n[Me]=l,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<bl.length;s++)Ct(bl[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Lr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ji(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),fu(n,l.value,l.defaultValue,l.children),ji(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Tp(n.textContent,s)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=ho),n=!0):n=!1,n||na(t)}function am(t){for($e=t.return;$e;)switch($e.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:$e=$e.return}}function Jr(t){if(t!==$e)return!1;if(!zt)return am(t),zt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||nf(t.type,t.memoizedProps)),s=!s),s&&re&&na(t),am(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){re=Pn(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}re=null}}else n===27?(n=re,os(t.type)?(t=lf,lf=null,re=t):re=n):re=$e?Pn(t.stateNode.nextSibling):null;return!0}function Wr(){re=$e=null,zt=!1}function rm(){var t=ea;return t!==null&&(en===null?en=t:en.push.apply(en,t),ea=null),t}function tl(t){ea===null?ea=[t]:ea.push(t)}var kc=X(null),ia=null,_i=null;function Xi(t,n,s){W(kc,n._currentValue),n._currentValue=s}function vi(t){t._currentValue=kc.current,nt(kc)}function jc(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Hc(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),jc(f.return,s,t),l||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),jc(p,s,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function el(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=c.type;ln(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===Oe.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}c=c.return}t!==null&&Hc(n,t,s,l),n.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){ia=t,_i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return lm(ia,t)}function Mu(t,n){return ia===null&&sa(t),lm(t,n)}function lm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},_i===null){if(t===null)throw Error(a(308));_i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else _i=_i.next=n;return s}var dE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},mE=r.unstable_scheduleCallback,gE=r.unstable_NormalPriority,Te={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gc(){return{controller:new dE,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&mE(gE,function(){t.controller.abort()})}var il=null,Qc=0,Ga=0,Qa=null;function pE(t,n){if(il===null){var s=il=[];Qc=0,Ga=Fh(),Qa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Qc++,n.then(um,um),n}function um(){if(--Qc===0&&il!==null){Qa!==null&&(Qa.status="fulfilled");var t=il;il=null,Ga=0,Qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function yE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var om=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&pE(t,n),om!==null&&om(t,n)};var aa=X(null);function Yc(){var t=aa.current;return t!==null?t:Zt.pooledCache}function xu(t,n){n===null?W(aa,aa.current):W(aa,n.pool)}function cm(){var t=Yc();return t===null?null:{parent:Te._currentValue,pool:t}}var sl=Error(a(460)),hm=Error(a(474)),Uu=Error(a(542)),Fc={then:function(){}};function fm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Lu(){}function dm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Lu,Lu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gm(t),t;default:if(typeof n.status=="string")n.then(Lu,Lu);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gm(t),t}throw al=n,sl}}var al=null;function mm(){if(al===null)throw Error(a(459));var t=al;return al=null,t}function gm(t){if(t===sl||t===Uu)throw Error(a(483))}var Ki=!1;function Xc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $i(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(kt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Du(t),em(t,null,s),n}return Cu(t,l,n,s),Du(t)}function rl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,zi(t,s)}}function Zc(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var $c=!1;function ll(){if($c){var t=Qa;if(t!==null)throw t}}function ul(t,n,s,l){$c=!1;var c=t.updateQueue;Ki=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,p===null?f=P:p.next=P,p=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;p=0,G=P=b=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Nt&B)===B:(l&B)===B){B!==0&&B===Ga&&($c=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=t,ht=E;B=n;var Ft=s;switch(ht.tag){case 1:if(gt=ht.payload,typeof gt=="function"){Y=gt.call(Ft,Y,B);break t}Y=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ht.payload,B=typeof gt=="function"?gt.call(Ft,Y,B):gt,B==null)break t;Y=A({},Y,B);break t;case 2:Ki=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=q,b=Y):G=G.next=q,p|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),as|=p,t.lanes=p,t.memoizedState=Y}}function pm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ym(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)pm(s[t],n)}var Ya=X(null),zu=X(0);function _m(t,n){t=wi,W(zu,t),W(Ya,n),wi=t|n.baseLanes}function Jc(){W(zu,wi),W(Ya,Ya.current)}function Wc(){wi=zu.current,nt(Ya),nt(zu)}var Ji=0,bt=null,Qt=null,ge=null,Pu=!1,Fa=!1,ra=!1,Bu=0,ol=0,Xa=null,_E=0;function fe(){throw Error(a(321))}function th(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!ln(t[s],n[s]))return!1;return!0}function eh(t,n,s,l,c,f){return Ji=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?eg:ng,ra=!1,f=s(l,c),ra=!1,Fa&&(f=Em(n,s,l,c)),vm(t),f}function vm(t){H.H=Qu;var n=Qt!==null&&Qt.next!==null;if(Ji=0,ge=Qt=bt=null,Pu=!1,ol=0,Xa=null,n)throw Error(a(300));t===null||De||(t=t.dependencies,t!==null&&Ou(t)&&(De=!0))}function Em(t,n,s,l){bt=t;var c=0;do{if(Fa&&(Xa=null),ol=0,Fa=!1,25<=c)throw Error(a(301));if(c+=1,ge=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=RE,f=n(s,l)}while(Fa);return f}function vE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?cl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(bt.flags|=1024),n}function nh(){var t=Bu!==0;return Bu=0,t}function ih(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function sh(t){if(Pu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Pu=!1}Ji=0,ge=Qt=bt=null,Fa=!1,ol=Bu=0,Xa=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?bt.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Qt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=ge===null?bt.memoizedState:ge.next;if(n!==null)ge=n,Qt=t;else{if(t===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ge===null?bt.memoizedState=ge=t:ge=ge.next=t}return ge}function ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var n=ol;return ol+=1,Xa===null&&(Xa=[]),t=dm(Xa,t,n),n=bt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?eg:ng),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===ut)return je(t)}throw Error(a(438,String(t)))}function rh(t){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ah(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=O;return n.index++,s}function Ei(t,n){return typeof n=="function"?n(t):n}function ku(t){var n=pe();return lh(n,Qt,t)}function lh(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=p=null,b=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Nt&Y)===Y:(Ji&Y)===Y){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Ga&&(G=!0);else if((Ji&B)===B){P=P.next,B===Ga&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=Y,p=f):b=b.next=Y,bt.lanes|=B,as|=B;Y=P.action,ra&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,p=f):b=b.next=B,bt.lanes|=Y,as|=Y;P=P.next}while(P!==null&&P!==n);if(b===null?p=f:b.next=E,!ln(f,t.memoizedState)&&(De=!0,G&&(s=Qa,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function uh(t){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);ln(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Tm(t,n,s){var l=bt,c=pe(),f=zt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!ln((Qt||c).memoizedState,s);p&&(c.memoizedState=s,De=!0),c=c.queue;var E=bm.bind(null,l,c,t);if(hl(2048,8,E,[t]),c.getSnapshot!==n||p||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Ka(9,ju(),Sm.bind(null,l,c,s,n),null),Zt===null)throw Error(a(349));f||(Ji&124)!==0||Am(l,n,s)}return s}function Am(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=ah(),bt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Sm(t,n,s,l){n.value=s,n.getSnapshot=l,Rm(n)&&wm(t)}function bm(t,n,s){return s(function(){Rm(n)&&wm(t)})}function Rm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!ln(t,s)}catch{return!0}}function wm(t){var n=qa(t,2);n!==null&&dn(n,t,2)}function oh(t){var n=We();if(typeof t=="function"){var s=t;if(t=s(),ra){gn(!0);try{s()}finally{gn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function Cm(t,n,s,l){return t.baseState=s,lh(t,Qt,typeof l=="function"?l:Ei)}function EE(t,n,s,l,c){if(Gu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Dm(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Dm(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=s(c,l),b=H.S;b!==null&&b(p,E),Vm(t,n,E)}catch(P){ch(t,n,P)}finally{H.T=f}}else try{f=s(c,l),Vm(t,n,f)}catch(P){ch(t,n,P)}}function Vm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Im(t,n,l)},function(l){return ch(t,n,l)}):Im(t,n,s)}function Im(t,n,s){n.status="fulfilled",n.value=s,Nm(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Dm(t,s)))}function ch(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Nm(n),n=n.next;while(n!==l)}t.action=null}function Nm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Om(t,n){return n}function Mm(t,n){if(zt){var s=Zt.formState;if(s!==null){t:{var l=bt;if(zt){if(re){e:{for(var c=re,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Pn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){re=Pn(c.nextSibling),l=c.data==="F!";break t}}na(l)}l=!1}l&&(n=s[0])}}return s=We(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:n},s.queue=l,s=Jm.bind(null,bt,l),l.dispatch=s,l=oh(!1),f=gh.bind(null,bt,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=EE.bind(null,bt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function xm(t){var n=pe();return Um(n,Qt,t)}function Um(t,n,s){if(n=lh(t,n,Om)[0],t=ku(Ei)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=cl(n)}catch(p){throw p===sl?Uu:p}else l=n;n=pe();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,Ka(9,ju(),TE.bind(null,c,s),null)),[l,f,t]}function TE(t,n){t.action=n}function Lm(t){var n=pe(),s=Qt;if(s!==null)return Um(n,s,t);pe(),n=n.memoizedState,s=pe();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Ka(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=ah(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function ju(){return{destroy:void 0,resource:void 0}}function zm(){return pe().memoizedState}function Hu(t,n,s,l){var c=We();l=l===void 0?null:l,bt.flags|=t,c.memoizedState=Ka(1|n,ju(),s,l)}function hl(t,n,s,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&th(l,Qt.memoizedState.deps)?c.memoizedState=Ka(n,f,s,l):(bt.flags|=t,c.memoizedState=Ka(1|n,f,s,l))}function Pm(t,n){Hu(8390656,8,t,n)}function Bm(t,n){hl(2048,8,t,n)}function qm(t,n){return hl(4,2,t,n)}function km(t,n){return hl(4,4,t,n)}function jm(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Hm(t,n,s){s=s!=null?s.concat([t]):null,hl(4,4,jm.bind(null,n,t),s)}function hh(){}function Gm(t,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&th(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Qm(t,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&th(n,l[1]))return l[0];if(l=t(),ra){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[l,n],l}function fh(t,n,s){return s===void 0||(Ji&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=Xg(),bt.lanes|=t,as|=t,s)}function Ym(t,n,s,l){return ln(s,n)?s:Ya.current!==null?(t=fh(t,s,l),ln(t,n)||(De=!0),t):(Ji&42)===0?(De=!0,t.memoizedState=s):(t=Xg(),bt.lanes|=t,as|=t,n)}function Fm(t,n,s,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,gh(t,!1,n,s);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=yE(b,l);fl(t,n,G,fn(t))}else fl(t,n,l,fn(t))}catch(Y){fl(t,n,{then:function(){},status:"rejected",reason:Y},fn())}finally{et.p=f,H.T=p}}function AE(){}function dh(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=Xm(t).queue;Fm(t,c,n,ot,s===null?AE:function(){return Km(t),s(l)})}function Xm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:ot},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Km(t){var n=Xm(t).next.queue;fl(t,n,{},fn())}function mh(){return je(Il)}function Zm(){return pe().memoizedState}function $m(){return pe().memoizedState}function SE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=fn();t=Zi(s);var l=$i(n,t,s);l!==null&&(dn(l,n,s),rl(l,n,s)),n={cache:Gc()},t.payload=n;return}n=n.return}}function bE(t,n,s){var l=fn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(t)?Wm(n,s):(s=xc(t,n,s,l),s!==null&&(dn(s,t,l),tg(s,n,l)))}function Jm(t,n,s){var l=fn();fl(t,n,s,l)}function fl(t,n,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))Wm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(c.hasEagerState=!0,c.eagerState=E,ln(E,p))return Cu(t,n,c,0),Zt===null&&wu(),!1}catch{}finally{}if(s=xc(t,n,c,l),s!==null)return dn(s,t,l),tg(s,n,l),!0}return!1}function gh(t,n,s,l){if(l={lane:2,revertLane:Fh(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(n)throw Error(a(479))}else n=xc(t,s,l,2),n!==null&&dn(n,t,2)}function Gu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function Wm(t,n){Fa=Pu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function tg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,zi(t,s)}}var Qu={readContext:je,use:qu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},eg={readContext:je,use:qu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:Pm,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Hu(4194308,4,jm.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Hu(4194308,4,t,n)},useInsertionEffect:function(t,n){Hu(4,2,t,n)},useMemo:function(t,n){var s=We();n=n===void 0?null:n;var l=t();if(ra){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=We();if(s!==void 0){var c=s(n);if(ra){gn(!0);try{s(n)}finally{gn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=bE.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=oh(t);var n=t.queue,s=Jm.bind(null,bt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:hh,useDeferredValue:function(t,n){var s=We();return fh(s,t,n)},useTransition:function(){var t=oh(!1);return t=Fm.bind(null,bt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=bt,c=We();if(zt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Zt===null)throw Error(a(349));(Nt&124)!==0||Am(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Pm(bm.bind(null,l,f,t),[t]),l.flags|=2048,Ka(9,ju(),Sm.bind(null,l,f,s,n),null),s},useId:function(){var t=We(),n=Zt.identifierPrefix;if(zt){var s=yi,l=pi;s=(l&~(1<<32-Fe(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=Bu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=_E++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:mh,useFormState:Mm,useActionState:Mm,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=gh.bind(null,bt,!0,s),s.dispatch=n,[t,n]},useMemoCache:rh,useCacheRefresh:function(){return We().memoizedState=SE.bind(null,bt)}},ng={readContext:je,use:qu,useCallback:Gm,useContext:je,useEffect:Bm,useImperativeHandle:Hm,useInsertionEffect:qm,useLayoutEffect:km,useMemo:Qm,useReducer:ku,useRef:zm,useState:function(){return ku(Ei)},useDebugValue:hh,useDeferredValue:function(t,n){var s=pe();return Ym(s,Qt.memoizedState,t,n)},useTransition:function(){var t=ku(Ei)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Tm,useId:Zm,useHostTransitionStatus:mh,useFormState:xm,useActionState:xm,useOptimistic:function(t,n){var s=pe();return Cm(s,Qt,t,n)},useMemoCache:rh,useCacheRefresh:$m},RE={readContext:je,use:qu,useCallback:Gm,useContext:je,useEffect:Bm,useImperativeHandle:Hm,useInsertionEffect:qm,useLayoutEffect:km,useMemo:Qm,useReducer:uh,useRef:zm,useState:function(){return uh(Ei)},useDebugValue:hh,useDeferredValue:function(t,n){var s=pe();return Qt===null?fh(s,t,n):Ym(s,Qt.memoizedState,t,n)},useTransition:function(){var t=uh(Ei)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Tm,useId:Zm,useHostTransitionStatus:mh,useFormState:Lm,useActionState:Lm,useOptimistic:function(t,n){var s=pe();return Qt!==null?Cm(s,Qt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:rh,useCacheRefresh:$m},Za=null,dl=0;function Yu(t){var n=dl;return dl+=1,Za===null&&(Za=[]),dm(Za,t,n)}function ml(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fu(t,n){throw n.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ig(t){var n=t._init;return n(t._payload)}function sg(t){function n(x,V){if(t){var L=x.deletions;L===null?(x.deletions=[V],x.flags|=16):L.push(V)}}function s(x,V){if(!t)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function c(x,V){return x=gi(x,V),x.index=0,x.sibling=null,x}function f(x,V,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<V?(x.flags|=67108866,V):L):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function p(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,L,Q){return V===null||V.tag!==6?(V=Lc(L,x.mode,Q),V.return=x,V):(V=c(V,L),V.return=x,V)}function b(x,V,L,Q){var st=L.type;return st===$?G(x,V,L.props.children,Q,L.key):V!==null&&(V.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&ig(st)===V.type)?(V=c(V,L.props),ml(V,L),V.return=x,V):(V=Vu(L.type,L.key,L.props,null,x.mode,Q),ml(V,L),V.return=x,V)}function P(x,V,L,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=zc(L,x.mode,Q),V.return=x,V):(V=c(V,L.children||[]),V.return=x,V)}function G(x,V,L,Q,st){return V===null||V.tag!==7?(V=Js(L,x.mode,Q,st),V.return=x,V):(V=c(V,L),V.return=x,V)}function Y(x,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Lc(""+V,x.mode,L),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case M:return L=Vu(V.type,V.key,V.props,null,x.mode,L),ml(L,V),L.return=x,L;case j:return V=zc(V,x.mode,L),V.return=x,V;case S:var Q=V._init;return V=Q(V._payload),Y(x,V,L)}if(te(V)||U(V))return V=Js(V,x.mode,L,null),V.return=x,V;if(typeof V.then=="function")return Y(x,Yu(V),L);if(V.$$typeof===ut)return Y(x,Mu(x,V),L);Fu(x,V)}return null}function B(x,V,L,Q){var st=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return st!==null?null:E(x,V,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return L.key===st?b(x,V,L,Q):null;case j:return L.key===st?P(x,V,L,Q):null;case S:return st=L._init,L=st(L._payload),B(x,V,L,Q)}if(te(L)||U(L))return st!==null?null:G(x,V,L,Q,null);if(typeof L.then=="function")return B(x,V,Yu(L),Q);if(L.$$typeof===ut)return B(x,V,Mu(x,L),Q);Fu(x,L)}return null}function q(x,V,L,Q,st){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,E(V,x,""+Q,st);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case M:return x=x.get(Q.key===null?L:Q.key)||null,b(V,x,Q,st);case j:return x=x.get(Q.key===null?L:Q.key)||null,P(V,x,Q,st);case S:var Rt=Q._init;return Q=Rt(Q._payload),q(x,V,L,Q,st)}if(te(Q)||U(Q))return x=x.get(L)||null,G(V,x,Q,st,null);if(typeof Q.then=="function")return q(x,V,L,Yu(Q),st);if(Q.$$typeof===ut)return q(x,V,L,Mu(V,Q),st);Fu(V,Q)}return null}function gt(x,V,L,Q){for(var st=null,Rt=null,rt=V,ft=V=0,Ie=null;rt!==null&&ft<L.length;ft++){rt.index>ft?(Ie=rt,rt=null):Ie=rt.sibling;var Lt=B(x,rt,L[ft],Q);if(Lt===null){rt===null&&(rt=Ie);break}t&&rt&&Lt.alternate===null&&n(x,rt),V=f(Lt,V,ft),Rt===null?st=Lt:Rt.sibling=Lt,Rt=Lt,rt=Ie}if(ft===L.length)return s(x,rt),zt&&ta(x,ft),st;if(rt===null){for(;ft<L.length;ft++)rt=Y(x,L[ft],Q),rt!==null&&(V=f(rt,V,ft),Rt===null?st=rt:Rt.sibling=rt,Rt=rt);return zt&&ta(x,ft),st}for(rt=l(rt);ft<L.length;ft++)Ie=q(rt,x,ft,L[ft],Q),Ie!==null&&(t&&Ie.alternate!==null&&rt.delete(Ie.key===null?ft:Ie.key),V=f(Ie,V,ft),Rt===null?st=Ie:Rt.sibling=Ie,Rt=Ie);return t&&rt.forEach(function(ms){return n(x,ms)}),zt&&ta(x,ft),st}function ht(x,V,L,Q){if(L==null)throw Error(a(151));for(var st=null,Rt=null,rt=V,ft=V=0,Ie=null,Lt=L.next();rt!==null&&!Lt.done;ft++,Lt=L.next()){rt.index>ft?(Ie=rt,rt=null):Ie=rt.sibling;var ms=B(x,rt,Lt.value,Q);if(ms===null){rt===null&&(rt=Ie);break}t&&rt&&ms.alternate===null&&n(x,rt),V=f(ms,V,ft),Rt===null?st=ms:Rt.sibling=ms,Rt=ms,rt=Ie}if(Lt.done)return s(x,rt),zt&&ta(x,ft),st;if(rt===null){for(;!Lt.done;ft++,Lt=L.next())Lt=Y(x,Lt.value,Q),Lt!==null&&(V=f(Lt,V,ft),Rt===null?st=Lt:Rt.sibling=Lt,Rt=Lt);return zt&&ta(x,ft),st}for(rt=l(rt);!Lt.done;ft++,Lt=L.next())Lt=q(rt,x,ft,Lt.value,Q),Lt!==null&&(t&&Lt.alternate!==null&&rt.delete(Lt.key===null?ft:Lt.key),V=f(Lt,V,ft),Rt===null?st=Lt:Rt.sibling=Lt,Rt=Lt);return t&&rt.forEach(function(w0){return n(x,w0)}),zt&&ta(x,ft),st}function Ft(x,V,L,Q){if(typeof L=="object"&&L!==null&&L.type===$&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case M:t:{for(var st=L.key;V!==null;){if(V.key===st){if(st=L.type,st===$){if(V.tag===7){s(x,V.sibling),Q=c(V,L.props.children),Q.return=x,x=Q;break t}}else if(V.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&ig(st)===V.type){s(x,V.sibling),Q=c(V,L.props),ml(Q,L),Q.return=x,x=Q;break t}s(x,V);break}else n(x,V);V=V.sibling}L.type===$?(Q=Js(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=Vu(L.type,L.key,L.props,null,x.mode,Q),ml(Q,L),Q.return=x,x=Q)}return p(x);case j:t:{for(st=L.key;V!==null;){if(V.key===st)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){s(x,V.sibling),Q=c(V,L.children||[]),Q.return=x,x=Q;break t}else{s(x,V);break}else n(x,V);V=V.sibling}Q=zc(L,x.mode,Q),Q.return=x,x=Q}return p(x);case S:return st=L._init,L=st(L._payload),Ft(x,V,L,Q)}if(te(L))return gt(x,V,L,Q);if(U(L)){if(st=U(L),typeof st!="function")throw Error(a(150));return L=st.call(L),ht(x,V,L,Q)}if(typeof L.then=="function")return Ft(x,V,Yu(L),Q);if(L.$$typeof===ut)return Ft(x,V,Mu(x,L),Q);Fu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(s(x,V.sibling),Q=c(V,L),Q.return=x,x=Q):(s(x,V),Q=Lc(L,x.mode,Q),Q.return=x,x=Q),p(x)):s(x,V)}return function(x,V,L,Q){try{dl=0;var st=Ft(x,V,L,Q);return Za=null,st}catch(rt){if(rt===sl||rt===Uu)throw rt;var Rt=un(29,rt,null,x.mode);return Rt.lanes=Q,Rt.return=x,Rt}finally{}}}var $a=sg(!0),ag=sg(!1),bn=X(null),Kn=null;function Wi(t){var n=t.alternate;W(Ae,Ae.current&1),W(bn,t),Kn===null&&(n===null||Ya.current!==null||n.memoizedState!==null)&&(Kn=t)}function rg(t){if(t.tag===22){if(W(Ae,Ae.current),W(bn,t),Kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Kn=t)}}else ts()}function ts(){W(Ae,Ae.current),W(bn,bn.current)}function Ti(t){nt(bn),Kn===t&&(Kn=null),nt(Ae)}var Ae=X(0);function Xu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||rf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ph(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var yh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=fn(),c=Zi(l);c.payload=n,s!=null&&(c.callback=s),n=$i(t,c,l),n!==null&&(dn(n,t,l),rl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=fn(),c=Zi(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=$i(t,c,l),n!==null&&(dn(n,t,l),rl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=fn(),l=Zi(s);l.tag=2,n!=null&&(l.callback=n),n=$i(t,l,s),n!==null&&(dn(n,t,s),rl(n,t,s))}};function lg(t,n,s,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Zr(s,l)||!Zr(c,f):!0}function ug(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&yh.enqueueReplaceState(n,n.state,null)}function la(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var Ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function og(t){Ku(t)}function cg(t){console.error(t)}function hg(t){Ku(t)}function Zu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function fg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function _h(t,n,s){return s=Zi(s),s.tag=3,s.payload={element:null},s.callback=function(){Zu(t,n)},s}function dg(t){return t=Zi(t),t.tag=3,t}function mg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){fg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){fg(n,s,l),typeof c!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function wE(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&el(n,s,c,!0),s=bn.current,s!==null){switch(s.tag){case 13:return Kn===null?jh():s.alternate===null&&le===0&&(le=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Fc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Gh(t,l,c)),!1;case 22:return s.flags|=65536,l===Fc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Gh(t,l,c)),!1}throw Error(a(435,s.tag))}return Gh(t,l,c),jh(),!1}if(zt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==qc&&(t=Error(a(422),{cause:l}),tl(En(t,s)))):(l!==qc&&(n=Error(a(423),{cause:l}),tl(En(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,s),c=_h(t.stateNode,l,c),Zc(t,c),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:l});if(f=En(f,s),Tl===null?Tl=[f]:Tl.push(f),le!==4&&(le=2),n===null)return!0;l=En(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=_h(s.stateNode,l,t),Zc(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rs===null||!rs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=dg(c),mg(c,t,s,l),Zc(s,c),!1}s=s.return}while(s!==null);return!1}var gg=Error(a(461)),De=!1;function xe(t,n,s,l){n.child=t===null?ag(n,null,s,l):$a(n,t.child,s,l)}function pg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return sa(n),l=eh(t,n,s,p,f,c),E=nh(),t!==null&&!De?(ih(t,n,c),Ai(t,n,c)):(zt&&E&&Pc(n),n.flags|=1,xe(t,n,l,c),n.child)}function yg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Uc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,_g(t,n,f,l,c)):(t=Vu(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!wh(t,c)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Zr,s(p,l)&&t.ref===n.ref)return Ai(t,n,c)}return n.flags|=1,t=gi(f,l),t.ref=n.ref,t.return=n,n.child=t}function _g(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(Zr(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,wh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ai(t,n,c)}return vh(t,n,s,l,c)}function vg(t,n,s){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Eg(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&xu(n,f!==null?f.cachePool:null),f!==null?_m(n,f):Jc(),rg(n);else return n.lanes=n.childLanes=536870912,Eg(t,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(xu(n,f.cachePool),_m(n,f),ts(),n.memoizedState=null):(t!==null&&xu(n,null),Jc(),ts());return xe(t,n,c,s),n.child}function Eg(t,n,s,l){var c=Yc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&xu(n,null),Jc(),rg(n),t!==null&&el(t,n,l,!0),null}function $u(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function vh(t,n,s,l,c){return sa(n),s=eh(t,n,s,l,void 0,c),l=nh(),t!==null&&!De?(ih(t,n,c),Ai(t,n,c)):(zt&&l&&Pc(n),n.flags|=1,xe(t,n,s,c),n.child)}function Tg(t,n,s,l,c,f){return sa(n),n.updateQueue=null,s=Em(n,l,s,c),vm(t),l=nh(),t!==null&&!De?(ih(t,n,f),Ai(t,n,f)):(zt&&l&&Pc(n),n.flags|=1,xe(t,n,s,f),n.child)}function Ag(t,n,s,l,c){if(sa(n),n.stateNode===null){var f=ka,p=s.contextType;typeof p=="object"&&p!==null&&(f=je(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=yh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Xc(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?je(p):ka,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(ph(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&yh.enqueueReplaceState(f,f.state,null),ul(n,l,f,c),ll(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=la(s,E);f.props=b;var P=f.context,G=s.contextType;p=ka,typeof G=="object"&&G!==null&&(p=je(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&ug(n,f,l,p),Ki=!1;var B=n.memoizedState;f.state=B,ul(n,l,f,c),ll(),P=n.memoizedState,E||B!==P||Ki?(typeof Y=="function"&&(ph(n,s,Y,l),P=n.memoizedState),(b=Ki||lg(n,s,b,l,B,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Kc(t,n),p=n.memoizedProps,G=la(s,p),f.props=G,Y=n.pendingProps,B=f.context,P=s.contextType,b=ka,typeof P=="object"&&P!==null&&(b=je(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||B!==b)&&ug(n,f,l,b),Ki=!1,B=n.memoizedState,f.state=B,ul(n,l,f,c),ll();var q=n.memoizedState;p!==Y||B!==q||Ki||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof E=="function"&&(ph(n,s,E,l),q=n.memoizedState),(G=Ki||lg(n,s,G,l,B,q,b)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,$u(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=$a(n,t.child,null,c),n.child=$a(n,null,s,c)):xe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Ai(t,n,c),t}function Sg(t,n,s,l){return Wr(),n.flags|=256,xe(t,n,s,l),n.child}var Eh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Th(t){return{baseLanes:t,cachePool:cm()}}function Ah(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Rn),t}function bg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?Wi(n):ts(),zt){var E=re,b;if(b=E){t:{for(b=E,E=Xn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Pn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Ws!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},b=un(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,$e=n,re=null,b=!0):b=!1}b||na(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return rf(E)?n.lanes=32:n.lanes=536870912,null;Ti(n)}return E=l.children,l=l.fallback,c?(ts(),c=n.mode,E=Ju({mode:"hidden",children:E},c),l=Js(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Th(s),c.childLanes=Ah(t,p,s),n.memoizedState=Eh,l):(Wi(n),Sh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Wi(n),n.flags&=-257,n=bh(t,n,s)):n.memoizedState!==null?(ts(),n.child=t.child,n.flags|=128,n=null):(ts(),c=l.fallback,E=n.mode,l=Ju({mode:"visible",children:l.children},E),c=Js(c,E,s,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,$a(n,t.child,null,s),l=n.child,l.memoizedState=Th(s),l.childLanes=Ah(t,p,s),n.memoizedState=Eh,n=c);else if(Wi(n),rf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,tl({value:l,source:null,stack:null}),n=bh(t,n,s)}else if(De||el(t,n,s,!1),p=(s&t.childLanes)!==0,De||p){if(p=Zt,p!==null&&(l=s&-s,l=(l&42)!==0?1:Mr(l),l=(l&(p.suspendedLanes|s))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,qa(t,l),dn(p,t,l),gg;E.data==="$?"||jh(),n=bh(t,n,s)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,re=Pn(E.nextSibling),$e=n,zt=!0,ea=null,Xn=!1,t!==null&&(An[Sn++]=pi,An[Sn++]=yi,An[Sn++]=Ws,pi=t.id,yi=t.overflow,Ws=n),n=Sh(n,l.children),n.flags|=4096);return n}return c?(ts(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=gi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=gi(P,c):(c=Js(c,E,s,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Th(s):(b=E.cachePool,b!==null?(P=Te._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=cm(),E={baseLanes:E.baseLanes|s,cachePool:b}),c.memoizedState=E,c.childLanes=Ah(t,p,s),n.memoizedState=Eh,l):(Wi(n),s=t.child,t=s.sibling,s=gi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function Sh(t,n){return n=Ju({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ju(t,n){return t=un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function bh(t,n,s){return $a(n,t.child,null,s),t=Sh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Rg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),jc(t.return,n,s)}function Rh(t,n,s,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=c)}function wg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,s),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rg(t,s,n);else if(t.tag===19)Rg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Ae,l),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&Xu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Rh(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Xu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Rh(n,!0,s,null,f);break;case"together":Rh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ai(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),as|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(el(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=gi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=gi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function wh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function CE(t,n,s){switch(n.tag){case 3:Ht(n,n.stateNode.containerInfo),Xi(n,Te,t.memoizedState.cache),Wr();break;case 27:case 5:Vr(n);break;case 4:Ht(n,n.stateNode.containerInfo);break;case 10:Xi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(n),n.flags|=128,null):(s&n.child.childLanes)!==0?bg(t,n,s):(Wi(n),t=Ai(t,n,s),t!==null?t.sibling:null);Wi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(el(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return wg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,vg(t,n,s);case 24:Xi(n,Te,t.memoizedState.cache)}return Ai(t,n,s)}function Cg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!wh(t,s)&&(n.flags&128)===0)return De=!1,CE(t,n,s);De=(t.flags&131072)!==0}else De=!1,zt&&(n.flags&1048576)!==0&&im(n,Nu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Uc(l)?(t=la(l,t),n.tag=1,n=Ag(null,n,l,t,s)):(n.tag=0,n=vh(null,n,l,t,s));else{if(l!=null){if(c=l.$$typeof,c===Pt){n.tag=11,n=pg(null,n,l,t,s);break t}else if(c===N){n.tag=14,n=yg(null,n,l,t,s);break t}}throw n=ae(l)||l,Error(a(306,n,""))}}return n;case 0:return vh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=la(l,n.pendingProps),Ag(t,n,l,c,s);case 3:t:{if(Ht(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Kc(t,n),ul(n,l,null,s);var p=n.memoizedState;if(l=p.cache,Xi(n,Te,l),l!==f.cache&&Hc(n,[Te],s,!0),ll(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Sg(t,n,l,s);break t}else if(l!==c){c=En(Error(a(424)),n),tl(c),n=Sg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=Pn(t.firstChild),$e=n,zt=!0,ea=null,Xn=!0,s=ag(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Wr(),l===c){n=Ai(t,n,s);break t}xe(t,n,l,s)}n=n.child}return n;case 26:return $u(t,n),t===null?(s=Np(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,t=n.pendingProps,l=fo(mt.current).createElement(s),l[oe]=n,l[Me]=t,Le(l,s,t),ce(l),n.stateNode=l):n.memoizedState=Np(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Vr(n),t===null&&zt&&(l=n.stateNode=Dp(n.type,n.pendingProps,mt.current),$e=n,Xn=!0,c=re,os(n.type)?(lf=c,re=Pn(l.firstChild)):re=c),xe(t,n,n.pendingProps.children,s),$u(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=re)&&(l=e0(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,$e=n,re=Pn(l.firstChild),Xn=!1,c=!0):c=!1),c||na(n)),Vr(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,nf(c,f)?l=null:p!==null&&nf(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=eh(t,n,vE,null,null,s),Il._currentValue=c),$u(t,n),xe(t,n,l,s),n.child;case 6:return t===null&&zt&&((t=s=re)&&(s=n0(s,n.pendingProps,Xn),s!==null?(n.stateNode=s,$e=n,re=null,t=!0):t=!1),t||na(n)),null;case 13:return bg(t,n,s);case 4:return Ht(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=$a(n,null,l,s):xe(t,n,l,s),n.child;case 11:return pg(t,n,n.type,n.pendingProps,s);case 7:return xe(t,n,n.pendingProps,s),n.child;case 8:return xe(t,n,n.pendingProps.children,s),n.child;case 12:return xe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Xi(n,n.type,l.value),xe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,sa(n),c=je(c),l=l(c),n.flags|=1,xe(t,n,l,s),n.child;case 14:return yg(t,n,n.type,n.pendingProps,s);case 15:return _g(t,n,n.type,n.pendingProps,s);case 19:return wg(t,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},t===null?(s=Ju(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=gi(t.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return vg(t,n,s);case 24:return sa(n),l=je(Te),t===null?(c=Yc(),c===null&&(c=Zt,f=Gc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},Xc(n),Xi(n,Te,c)):((t.lanes&s)!==0&&(Kc(t,n),ul(n,null,null,s),ll()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Xi(n,Te,l)):(l=f.cache,Xi(n,Te,l),l!==c.cache&&Hc(n,[Te],s,!0))),xe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Si(t){t.flags|=4}function Dg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Lp(n)){if(n=bn.current,n!==null&&((Nt&4194048)===Nt?Kn!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||n!==Kn))throw al=Fc,hm;t.flags|=8192}}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ui():536870912,t.lanes|=n,er|=n)}function gl(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function DE(t,n,s){var l=n.pendingProps;switch(Bc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vi(Te),Dn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Jr(n)?Si(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rm())),ie(n),null;case 26:return s=n.memoizedState,t===null?(Si(n),s!==null?(ie(n),Dg(n,s)):(ie(n),n.flags&=-16777217)):s?s!==t.memoizedState?(Si(n),ie(n),Dg(n,s)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Si(n),ie(n),n.flags&=-16777217),null;case 27:Ea(n),s=mt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}t=lt.current,Jr(n)?sm(n):(t=Dp(c,l,s),n.stateNode=t,Si(n))}return ie(n),null;case 5:if(Ea(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(t=lt.current,Jr(n))sm(n);else{switch(c=fo(mt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}t[oe]=n,t[Me]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Si(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=mt.current,Jr(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[oe]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Tp(t.nodeValue,s)),t||na(n)}else t=fo(t).createTextNode(l),t[oe]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Jr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[oe]=n}else Wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=rm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ti(n),n):(Ti(n),null)}if(Ti(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),Wu(n,n.updateQueue),ie(n),null;case 4:return Dn(),t===null&&$h(n.stateNode.containerInfo),ie(n),null;case 10:return vi(n.type),ie(n),null;case 19:if(nt(Ae),c=n.memoizedState,c===null)return ie(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)gl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Xu(t),f!==null){for(n.flags|=128,gl(c,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)nm(s,t),s=s.sibling;return W(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>no&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Xu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),gl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!zt)return ie(n),null}else 2*Je()-c.renderingStartTime>no&&s!==536870912&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Ae.current,W(Ae,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return Ti(n),Wc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&Wu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&nt(aa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),vi(Te),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function VE(t,n){switch(Bc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vi(Te),Dn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ea(n),null;case 13:if(Ti(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ae),null;case 4:return Dn(),null;case 10:return vi(n.type),null;case 22:case 23:return Ti(n),Wc(),t!==null&&nt(aa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return vi(Te),null;case 25:return null;default:return null}}function Vg(t,n){switch(Bc(n),n.tag){case 3:vi(Te),Dn();break;case 26:case 27:case 5:Ea(n);break;case 4:Dn();break;case 13:Ti(n);break;case 19:nt(Ae);break;case 10:vi(n.type);break;case 22:case 23:Ti(n),Wc(),t!==null&&nt(aa);break;case 24:vi(Te)}}function pl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==c)}}catch(E){Xt(n,n.return,E)}}function es(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var b=s,P=E;try{P()}catch(G){Xt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function Ig(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{ym(n,s)}catch(l){Xt(t,t.return,l)}}}function Ng(t,n,s){s.props=la(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Xt(t,n,l)}}function yl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Xt(t,n,c)}}function Zn(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Xt(t,n,c)}else s.current=null}function Og(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Xt(t,t.return,c)}}function Ch(t,n,s){try{var l=t.stateNode;ZE(l,t.type,s,n),l[Me]=n}catch(c){Xt(t,t.return,c)}}function Mg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&os(t.type)||t.tag===4}function Dh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Mg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&os(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ho));else if(l!==4&&(l===27&&os(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Vh(t,n,s),t=t.sibling;t!==null;)Vh(t,n,s),t=t.sibling}function to(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&os(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(to(t,n,s),t=t.sibling;t!==null;)to(t,n,s),t=t.sibling}function xg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,s),n[oe]=t,n[Me]=s}catch(f){Xt(t,t.return,f)}}var bi=!1,de=!1,Ih=!1,Ug=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function IE(t,n){if(t=t.containerInfo,tf=vo,t=Yd(t),Dc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,b=-1,P=0,G=0,Y=t,B=null;e:for(;;){for(var q;Y!==s||c!==0&&Y.nodeType!==3||(E=p+c),Y!==f||l!==0&&Y.nodeType!==3||(b=p+l),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)B=Y,Y=q;for(;;){if(Y===t)break e;if(B===s&&++P===c&&(E=p),B===f&&++G===l&&(b=p),(q=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=q}s=E===-1||b===-1?null:{start:E,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(ef={focusedElem:t,selectionRange:s},vo=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var gt=la(s.type,c,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(gt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Xt(s,s.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)af(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function Lg(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ns(t,s),l&4&&pl(5,s);break;case 1:if(ns(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){Xt(s,s.return,p)}else{var c=la(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Xt(s,s.return,p)}}l&64&&Ig(s),l&512&&yl(s,s.return);break;case 3:if(ns(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ym(t,n)}catch(p){Xt(s,s.return,p)}}break;case 27:n===null&&l&4&&xg(s);case 26:case 5:ns(t,s),n===null&&l&4&&Og(s),l&512&&yl(s,s.return);break;case 12:ns(t,s);break;case 13:ns(t,s),l&4&&Bg(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=BE.bind(null,s),i0(t,s))));break;case 22:if(l=s.memoizedState!==null||bi,!l){n=n!==null&&n.memoizedState!==null||de,c=bi;var f=de;bi=l,(de=n)&&!f?is(t,s,(s.subtreeFlags&8772)!==0):ns(t,s),bi=c,de=f}break;case 30:break;default:ns(t,s)}}function zg(t){var n=t.alternate;n!==null&&(t.alternate=null,zg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ra(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,tn=!1;function Ri(t,n,s){for(s=s.child;s!==null;)Pg(t,n,s),s=s.sibling}function Pg(t,n,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Oi,s)}catch{}switch(s.tag){case 26:de||Zn(s,n),Ri(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:de||Zn(s,n);var l=ee,c=tn;os(s.type)&&(ee=s.stateNode,tn=!1),Ri(t,n,s),wl(s.stateNode),ee=l,tn=c;break;case 5:de||Zn(s,n);case 6:if(l=ee,c=tn,ee=null,Ri(t,n,s),ee=l,tn=c,ee!==null)if(tn)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{ee.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:ee!==null&&(tn?(t=ee,wp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),xl(t)):wp(ee,s.stateNode));break;case 4:l=ee,c=tn,ee=s.stateNode.containerInfo,tn=!0,Ri(t,n,s),ee=l,tn=c;break;case 0:case 11:case 14:case 15:de||es(2,s,n),de||es(4,s,n),Ri(t,n,s);break;case 1:de||(Zn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ng(s,n,l)),Ri(t,n,s);break;case 21:Ri(t,n,s);break;case 22:de=(l=de)||s.memoizedState!==null,Ri(t,n,s),de=l;break;default:Ri(t,n,s)}}function Bg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xl(t)}catch(s){Xt(n,n.return,s)}}function NE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ug),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ug),n;default:throw Error(a(435,t.tag))}}function Nh(t,n){var s=NE(t);n.forEach(function(l){var c=qE.bind(null,t,l);s.has(l)||(s.add(l),l.then(c,c))})}function on(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(os(E.type)){ee=E.stateNode,tn=!1;break t}break;case 5:ee=E.stateNode,tn=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(ee===null)throw Error(a(160));Pg(f,p,c),ee=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)qg(n,t),n=n.sibling}var zn=null;function qg(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),cn(t),l&4&&(es(3,t,t.return),pl(3,t),es(5,t,t.return));break;case 1:on(n,t),cn(t),l&512&&(de||s===null||Zn(s,s.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=zn;if(on(n,t),cn(t),l&512&&(de||s===null||Zn(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Pi]||f[oe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,s),f[oe]=t,ce(f),l=f;break t;case"link":var p=xp("link","href",c).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(l),Le(f,l,s),c.head.appendChild(f);break;case"meta":if(p=xp("meta","content",c).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=c.createElement(l),Le(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[oe]=t,ce(f),l=f}t.stateNode=l}else Up(c,t.type,t.stateNode);else t.stateNode=Mp(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Up(c,t.type,t.stateNode):Mp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ch(t,t.memoizedProps,s.memoizedProps)}break;case 27:on(n,t),cn(t),l&512&&(de||s===null||Zn(s,s.return)),s!==null&&l&4&&Ch(t,t.memoizedProps,s.memoizedProps);break;case 5:if(on(n,t),cn(t),l&512&&(de||s===null||Zn(s,s.return)),t.flags&32){c=t.stateNode;try{_n(c,"")}catch(q){Xt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ch(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Ih=!0);break;case 6:if(on(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(q){Xt(t,t.return,q)}}break;case 3:if(po=null,c=zn,zn=mo(n.containerInfo),on(n,t),zn=c,cn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{xl(n.containerInfo)}catch(q){Xt(t,t.return,q)}Ih&&(Ih=!1,kg(t));break;case 4:l=zn,zn=mo(t.stateNode.containerInfo),on(n,t),cn(t),zn=l;break;case 12:on(n,t),cn(t);break;case 13:on(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(zh=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nh(t,l)));break;case 22:c=t.memoizedState!==null;var b=s!==null&&s.memoizedState!==null,P=bi,G=de;if(bi=P||c,de=G||b,on(n,t),de=G,bi=P,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||b||bi||de||ua(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){b=s=n;try{if(f=b.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Xt(b,b.return,q)}}}else if(n.tag===6){if(s===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Xt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Nh(t,s))));break;case 19:on(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nh(t,l)));break;case 30:break;case 21:break;default:on(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Mg(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Dh(t);to(t,f,c);break;case 5:var p=s.stateNode;s.flags&32&&(_n(p,""),s.flags&=-33);var E=Dh(t);to(t,E,p);break;case 3:case 4:var b=s.stateNode.containerInfo,P=Dh(t);Vh(t,P,b);break;default:throw Error(a(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ns(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Lg(t,n.alternate,n),n=n.sibling}function ua(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:es(4,n,n.return),ua(n);break;case 1:Zn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ng(n,n.return,s),ua(n);break;case 27:wl(n.stateNode);case 26:case 5:Zn(n,n.return),ua(n);break;case 22:n.memoizedState===null&&ua(n);break;case 30:ua(n);break;default:ua(n)}t=t.sibling}}function is(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:is(c,f,s),pl(4,f);break;case 1:if(is(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)pm(b[c],E)}catch(P){Xt(l,l.return,P)}}s&&p&64&&Ig(f),yl(f,f.return);break;case 27:xg(f);case 26:case 5:is(c,f,s),s&&l===null&&p&4&&Og(f),yl(f,f.return);break;case 12:is(c,f,s);break;case 13:is(c,f,s),s&&p&4&&Bg(c,f);break;case 22:f.memoizedState===null&&is(c,f,s),yl(f,f.return);break;case 30:break;default:is(c,f,s)}n=n.sibling}}function Oh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&nl(s))}function Mh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function $n(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jg(t,n,s,l),n=n.sibling}function jg(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,s,l),c&2048&&pl(9,n);break;case 1:$n(t,n,s,l);break;case 3:$n(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(c&2048){$n(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else $n(t,n,s,l);break;case 13:$n(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,s,l):_l(t,n):f._visibility&2?$n(t,n,s,l):(f._visibility|=2,Ja(t,n,s,l,(n.subtreeFlags&10256)!==0)),c&2048&&Oh(p,n);break;case 24:$n(t,n,s,l),c&2048&&Mh(n.alternate,n);break;default:$n(t,n,s,l)}}function Ja(t,n,s,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,p=n,E=s,b=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ja(f,p,E,b,c),pl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ja(f,p,E,b,c):_l(f,p):(G._visibility|=2,Ja(f,p,E,b,c)),c&&P&2048&&Oh(p.alternate,p);break;case 24:Ja(f,p,E,b,c),c&&P&2048&&Mh(p.alternate,p);break;default:Ja(f,p,E,b,c)}n=n.sibling}}function _l(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:_l(s,l),c&2048&&Oh(l.alternate,l);break;case 24:_l(s,l),c&2048&&Mh(l.alternate,l);break;default:_l(s,l)}n=n.sibling}}var vl=8192;function Wa(t){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)Hg(t),t=t.sibling}function Hg(t){switch(t.tag){case 26:Wa(t),t.flags&vl&&t.memoizedState!==null&&p0(zn,t.memoizedState,t.memoizedProps);break;case 5:Wa(t);break;case 3:case 4:var n=zn;zn=mo(t.stateNode.containerInfo),Wa(t),zn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=vl,vl=16777216,Wa(t),vl=n):Wa(t));break;default:Wa(t)}}function Gg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function El(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ve=l,Yg(l,t)}Gg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qg(t),t=t.sibling}function Qg(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&es(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,eo(t)):El(t);break;default:El(t)}}function eo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ve=l,Yg(l,t)}Gg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:es(8,n,n.return),eo(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,eo(n));break;default:eo(n)}t=t.sibling}}function Yg(t,n){for(;Ve!==null;){var s=Ve;switch(s.tag){case 0:case 11:case 15:es(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ve=l;else t:for(s=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(zg(l),l===s){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var OE={getCacheForType:function(t){var n=je(Te),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},ME=typeof WeakMap=="function"?WeakMap:Map,kt=0,Zt=null,wt=null,Nt=0,jt=0,hn=null,ss=!1,tr=!1,xh=!1,wi=0,le=0,as=0,oa=0,Uh=0,Rn=0,er=0,Tl=null,en=null,Lh=!1,zh=0,no=1/0,io=null,rs=null,Ue=0,ls=null,nr=null,ir=0,Ph=0,Bh=null,Fg=null,Al=0,qh=null;function fn(){if((kt&2)!==0&&Nt!==0)return Nt&-Nt;if(H.T!==null){var t=Ga;return t!==0?t:Fh()}return ui()}function Xg(){Rn===0&&(Rn=(Nt&536870912)===0||zt?Or():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function dn(t,n,s){(t===Zt&&(jt===2||jt===9)||t.cancelPendingCommit!==null)&&(sr(t,0),us(t,Nt,Rn,!1)),ue(t,s),((kt&2)===0||t!==Zt)&&(t===Zt&&((kt&2)===0&&(oa|=s),le===4&&us(t,Nt,Rn,!1)),Jn(t))}function Kg(t,n,s){if((kt&6)!==0)throw Error(a(327));var l=!s&&(n&124)===0&&(n&t.expiredLanes)===0||xi(t,n),c=l?LE(t,n):Hh(t,n,!0),f=l;do{if(c===0){tr&&!l&&us(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!xE(s)){c=Hh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=Tl;var b=E.current.memoizedState.isDehydrated;if(b&&(sr(E,p).flags|=256),p=Hh(E,p,!1),p!==2){if(xh&&!b){E.errorRecoveryDisabledLanes|=f,oa|=f,c=4;break t}f=en,en=c,f!==null&&(en===null?en=f:en.push.apply(en,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){sr(t,0),us(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:us(l,n,Rn,!ss);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=zh+300-Je(),10<c)){if(us(l,n,Rn,!ss),pn(l,0,!0)!==0)break t;l.timeoutHandle=bp(Zg.bind(null,l,s,en,io,Lh,n,Rn,oa,er,ss,f,2,-0,0),c);break t}Zg(l,s,en,io,Lh,n,Rn,oa,er,ss,f,0,-0,0)}}break}while(!0);Jn(t)}function Zg(t,n,s,l,c,f,p,E,b,P,G,Y,B,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:g0},Hg(n),Y=y0(),Y!==null)){t.cancelPendingCommit=Y(ip.bind(null,t,n,f,s,l,c,p,E,b,G,1,B,q)),us(t,f,p,!P);return}ip(t,n,f,s,l,c,p,E,b)}function xE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function us(t,n,s,l){n&=~Uh,n&=~oa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Fe(c),p=1<<f;l[f]=-1,c&=~p}s!==0&&Li(t,s,n)}function so(){return(kt&6)===0?(Sl(0),!1):!0}function kh(){if(wt!==null){if(jt===0)var t=wt.return;else t=wt,_i=ia=null,sh(t),Za=null,dl=0,t=wt;for(;t!==null;)Vg(t.alternate,t),t=t.return;wt=null}}function sr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,JE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),kh(),Zt=t,wt=s=gi(t.current,null),Nt=n,jt=0,hn=null,ss=!1,tr=xi(t,n),xh=!1,er=Rn=Uh=oa=as=le=0,en=Tl=null,Lh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Fe(l),f=1<<c;n|=t[c],l&=~f}return wi=n,wu(),s}function $g(t,n){bt=null,H.H=Qu,n===sl||n===Uu?(n=mm(),jt=3):n===hm?(n=mm(),jt=4):jt=n===gg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,wt===null&&(le=1,Zu(t,En(n,t.current)))}function Jg(){var t=H.H;return H.H=Qu,t===null?Qu:t}function Wg(){var t=H.A;return H.A=OE,t}function jh(){le=4,ss||(Nt&4194048)!==Nt&&bn.current!==null||(tr=!0),(as&134217727)===0&&(oa&134217727)===0||Zt===null||us(Zt,Nt,Rn,!1)}function Hh(t,n,s){var l=kt;kt|=2;var c=Jg(),f=Wg();(Zt!==t||Nt!==n)&&(io=null,sr(t,n)),n=!1;var p=le;t:do try{if(jt!==0&&wt!==null){var E=wt,b=hn;switch(jt){case 8:kh(),p=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var P=jt;if(jt=0,hn=null,ar(t,E,b,P),s&&tr){p=0;break t}break;default:P=jt,jt=0,hn=null,ar(t,E,b,P)}}UE(),p=le;break}catch(G){$g(t,G)}while(!0);return n&&t.shellSuspendCounter++,_i=ia=null,kt=l,H.H=c,H.A=f,wt===null&&(Zt=null,Nt=0,wu()),p}function UE(){for(;wt!==null;)tp(wt)}function LE(t,n){var s=kt;kt|=2;var l=Jg(),c=Wg();Zt!==t||Nt!==n?(io=null,no=Je()+500,sr(t,n)):tr=xi(t,n);t:do try{if(jt!==0&&wt!==null){n=wt;var f=hn;e:switch(jt){case 1:jt=0,hn=null,ar(t,n,f,1);break;case 2:case 9:if(fm(f)){jt=0,hn=null,ep(n);break}n=function(){jt!==2&&jt!==9||Zt!==t||(jt=7),Jn(t)},f.then(n,n);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:fm(f)?(jt=0,hn=null,ep(n)):(jt=0,hn=null,ar(t,n,f,7));break;case 5:var p=null;switch(wt.tag){case 26:p=wt.memoizedState;case 5:case 27:var E=wt;if(!p||Lp(p)){jt=0,hn=null;var b=E.sibling;if(b!==null)wt=b;else{var P=E.return;P!==null?(wt=P,ao(P)):wt=null}break e}}jt=0,hn=null,ar(t,n,f,5);break;case 6:jt=0,hn=null,ar(t,n,f,6);break;case 8:kh(),le=6;break t;default:throw Error(a(462))}}zE();break}catch(G){$g(t,G)}while(!0);return _i=ia=null,H.H=l,H.A=c,kt=s,wt!==null?0:(Zt=null,Nt=0,wu(),le)}function zE(){for(;wt!==null&&!yc();)tp(wt)}function tp(t){var n=Cg(t.alternate,t,wi);t.memoizedProps=t.pendingProps,n===null?ao(t):wt=n}function ep(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Tg(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Tg(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:sh(n);default:Vg(s,n),n=wt=nm(n,wi),n=Cg(s,n,wi)}t.memoizedProps=t.pendingProps,n===null?ao(t):wt=n}function ar(t,n,s,l){_i=ia=null,sh(n),Za=null,dl=0;var c=n.return;try{if(wE(t,c,n,s,Nt)){le=1,Zu(t,En(s,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;le=1,Zu(t,En(s,t.current)),wt=null;return}n.flags&32768?(zt||l===1?t=!0:tr||(Nt&536870912)!==0?t=!1:(ss=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),np(n,t)):ao(n)}function ao(t){var n=t;do{if((n.flags&32768)!==0){np(n,ss);return}t=n.return;var s=DE(n.alternate,n,wi);if(s!==null){wt=s;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);le===0&&(le=5)}function np(t,n){do{var s=VE(t.alternate,t);if(s!==null){s.flags&=32767,wt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=s}while(t!==null);le=6,wt=null}function ip(t,n,s,l,c,f,p,E,b){t.cancelPendingCommit=null;do ro();while(Ue!==0);if((kt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Mc,ou(t,s,f,p,E,b),t===Zt&&(wt=Zt=null,Nt=0),nr=n,ls=t,ir=s,Ph=f,Bh=c,Fg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kE(li,function(){return up(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,p=kt,kt|=4;try{IE(t,n,s)}finally{kt=p,et.p=c,H.T=l}}Ue=1,sp(),ap(),rp()}}function sp(){if(Ue===1){Ue=0;var t=ls,n=nr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{qg(n,t);var f=ef,p=Yd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Qd(E.ownerDocument.documentElement,E)){if(b!==null&&Dc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var q=B.getSelection(),gt=E.textContent.length,ht=Math.min(b.start,gt),Ft=b.end===void 0?ht:Math.min(b.end,gt);!q.extend&&ht>Ft&&(p=Ft,Ft=ht,ht=p);var x=Gd(E,ht),V=Gd(E,Ft);if(x&&V&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var L=Y.createRange();L.setStart(x.node,x.offset),q.removeAllRanges(),ht>Ft?(q.addRange(L),q.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),q.addRange(L))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}vo=!!tf,ef=tf=null}finally{kt=c,et.p=l,H.T=s}}t.current=n,Ue=2}}function ap(){if(Ue===2){Ue=0;var t=ls,n=nr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{Lg(t,n.alternate,n)}finally{kt=c,et.p=l,H.T=s}}Ue=3}}function rp(){if(Ue===4||Ue===3){Ue=0,Ir();var t=ls,n=nr,s=ir,l=Fg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,nr=ls=null,lp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(rs=null),xr(s),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Oi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(ir&3)!==0&&ro(),Jn(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===qh?Al++:(Al=0,qh=t):Al=0,Sl(0)}}function lp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function ro(t){return sp(),ap(),rp(),up()}function up(){if(Ue!==5)return!1;var t=ls,n=Ph;Ph=0;var s=xr(ir),l=H.T,c=et.p;try{et.p=32>s?32:s,H.T=null,s=Bh,Bh=null;var f=ls,p=ir;if(Ue=0,nr=ls=null,ir=0,(kt&6)!==0)throw Error(a(331));var E=kt;if(kt|=4,Qg(f.current),jg(f,f.current,p,s),kt=E,Sl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Oi,f)}catch{}return!0}finally{et.p=c,H.T=l,lp(t,n)}}function op(t,n,s){n=En(s,n),n=_h(t.stateNode,n,2),t=$i(t,n,2),t!==null&&(ue(t,2),Jn(t))}function Xt(t,n,s){if(t.tag===3)op(t,t,s);else for(;n!==null;){if(n.tag===3){op(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rs===null||!rs.has(l))){t=En(s,t),s=dg(2),l=$i(n,s,2),l!==null&&(mg(s,l,n,t),ue(l,2),Jn(l));break}}n=n.return}}function Gh(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new ME;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(xh=!0,c.add(s),t=PE.bind(null,t,n,s),n.then(t,t))}function PE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Zt===t&&(Nt&s)===s&&(le===4||le===3&&(Nt&62914560)===Nt&&300>Je()-zh?(kt&2)===0&&sr(t,0):Uh|=s,er===Nt&&(er=0)),Jn(t)}function cp(t,n){n===0&&(n=Ui()),t=qa(t,n),t!==null&&(ue(t,n),Jn(t))}function BE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),cp(t,s)}function qE(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),cp(t,s)}function kE(t,n){return Ds(t,n)}var lo=null,rr=null,Qh=!1,uo=!1,Yh=!1,ca=0;function Jn(t){t!==rr&&t.next===null&&(rr===null?lo=rr=t:rr=rr.next=t),uo=!0,Qh||(Qh=!0,HE())}function Sl(t,n){if(!Yh&&uo){Yh=!0;do for(var s=!1,l=lo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Fe(42|t)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,mp(l,f))}else f=Nt,f=pn(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||xi(l,f)||(s=!0,mp(l,f));l=l.next}while(s);Yh=!1}}function jE(){hp()}function hp(){uo=Qh=!1;var t=0;ca!==0&&($E()&&(t=ca),ca=0);for(var n=Je(),s=null,l=lo;l!==null;){var c=l.next,f=fp(l,n);f===0?(l.next=null,s===null?lo=c:s.next=c,c===null&&(rr=s)):(s=l,(t!==0||(f&3)!==0)&&(uo=!0)),l=c}Sl(t)}function fp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Fe(f),E=1<<p,b=c[p];b===-1?((E&s)===0||(E&l)!==0)&&(c[p]=Sa(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Zt,s=Nt,s=pn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(jt===2||jt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Aa(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||xi(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Aa(l),xr(s)){case 2:case 8:s=we;break;case 32:s=li;break;case 268435456:s=Nr;break;default:s=li}return l=dp.bind(null,t),s=Ds(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Aa(l),t.callbackPriority=2,t.callbackNode=null,2}function dp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ro()&&t.callbackNode!==s)return null;var l=Nt;return l=pn(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Kg(t,l,n),fp(t,Je()),t.callbackNode!=null&&t.callbackNode===s?dp.bind(null,t):null)}function mp(t,n){if(ro())return null;Kg(t,n,!0)}function HE(){WE(function(){(kt&6)!==0?Ds(ve,jE):hp()})}function Fh(){return ca===0&&(ca=Or()),ca}function gp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:On(""+t)}function pp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function GE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=gp((c[Me]||null).action),p=l.submitter;p&&(n=(n=p[Me]||null)?gp(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Hs("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var b=p?pp(c,p):new FormData(c);dh(s,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=p?pp(c,p):new FormData(c),dh(s,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Xh=0;Xh<Oc.length;Xh++){var Kh=Oc[Xh],QE=Kh.toLowerCase(),YE=Kh[0].toUpperCase()+Kh.slice(1);Ln(QE,"on"+YE)}Ln(Kd,"onAnimationEnd"),Ln(Zd,"onAnimationIteration"),Ln($d,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(oE,"onTransitionRun"),Ln(cE,"onTransitionStart"),Ln(hE,"onTransitionCancel"),Ln(Jd,"onTransitionEnd"),Gn("onMouseEnter",["mouseout","mouseover"]),Gn("onMouseLeave",["mouseout","mouseover"]),Gn("onPointerEnter",["pointerout","pointerover"]),Gn("onPointerLeave",["pointerout","pointerover"]),Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function yp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){Ku(G)}c.currentTarget=null,f=b}else for(p=0;p<l.length;p++){if(E=l[p],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){Ku(G)}c.currentTarget=null,f=b}}}}function Ct(t,n){var s=n[Is];s===void 0&&(s=n[Is]=new Set);var l=t+"__bubble";s.has(l)||(_p(n,t,2,!1),s.add(l))}function Zh(t,n,s){var l=0;n&&(l|=4),_p(s,t,l,n)}var oo="_reactListening"+Math.random().toString(36).slice(2);function $h(t){if(!t[oo]){t[oo]=!0,cu.forEach(function(s){s!=="selectionchange"&&(FE.has(s)||Zh(s,!1,t),Zh(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[oo]||(n[oo]=!0,Zh("selectionchange",!1,n))}}function _p(t,n,s,l){switch(jp(n)){case 2:var c=E0;break;case 8:c=T0;break;default:c=ff}s=c.bind(null,n,s,t),c=void 0,!di||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function Jh(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=l.return;p!==null;){var b=p.tag;if((b===3||b===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=kn(E),p===null)return;if(b=p.tag,b===5||b===6||b===26||b===27){l=f=p;continue t}E=E.parentNode}}l=l.return}qs(function(){var P=f,G=kr(s),Y=[];t:{var B=Wd.get(t);if(B!==void 0){var q=Hs,gt=t;switch(t){case"keypress":if(ks(s)===0)break t;case"keydown":case"keyup":q=La;break;case"focusin":gt="focus",q=Ma;break;case"focusout":gt="blur",q=Ma;break;case"beforeblur":case"afterblur":q=Ma;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Fi;break;case Kd:case Zd:case $d:q=Hr;break;case Jd:q=m;break;case"scroll":case"scrollend":q=Qs;break;case"wheel":q=T;break;case"copy":case"cut":case"paste":q=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Yr;break;case"toggle":case"beforetoggle":q=k}var ht=(n&4)!==0,Ft=!ht&&(t==="scroll"||t==="scrollend"),x=ht?B!==null?B+"Capture":null:B;ht=[];for(var V=P,L;V!==null;){var Q=V;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=Qi(V,x),Q!=null&&ht.push(Rl(V,Q,L))),Ft)break;V=V.return}0<ht.length&&(B=new q(B,gt,null,s,G),Y.push({event:B,listeners:ht}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&s!==qr&&(gt=s.relatedTarget||s.fromElement)&&(kn(gt)||gt[oi]))break t;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(gt=s.relatedTarget||s.toElement,q=P,gt=gt?kn(gt):null,gt!==null&&(Ft=h(gt),ht=gt.tag,gt!==Ft||ht!==5&&ht!==27&&ht!==6)&&(gt=null)):(q=null,gt=P),q!==gt)){if(ht=Xs,Q="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ht=Yr,Q="onPointerLeave",x="onPointerEnter",V="pointer"),Ft=q==null?B:Bi(q),L=gt==null?B:Bi(gt),B=new ht(Q,V+"leave",q,s,G),B.target=Ft,B.relatedTarget=L,Q=null,kn(G)===P&&(ht=new ht(x,V+"enter",gt,s,G),ht.target=L,ht.relatedTarget=Ft,Q=ht),Ft=Q,q&&gt)e:{for(ht=q,x=gt,V=0,L=ht;L;L=lr(L))V++;for(L=0,Q=x;Q;Q=lr(Q))L++;for(;0<V-L;)ht=lr(ht),V--;for(;0<L-V;)x=lr(x),L--;for(;V--;){if(ht===x||x!==null&&ht===x.alternate)break e;ht=lr(ht),x=lr(x)}ht=null}else ht=null;q!==null&&vp(Y,B,q,ht,!1),gt!==null&&Ft!==null&&vp(Y,Ft,gt,ht,!0)}}t:{if(B=P?Bi(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var st=Pd;else if(Ld(B))if(Bd)st=rE;else{st=sE;var Rt=iE}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Ia(P.elementType)&&(st=Pd):st=aE;if(st&&(st=st(t,P))){zd(Y,st,s,G);break t}Rt&&Rt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&zr(B,"number",B.value)}switch(Rt=P?Bi(P):window,t){case"focusin":(Ld(Rt)||Rt.contentEditable==="true")&&(za=Rt,Vc=P,$r=null);break;case"focusout":$r=Vc=za=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,Fd(Y,s,G);break;case"selectionchange":if(uE)break;case"keydown":case"keyup":Fd(Y,s,G)}var rt;if(vt)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Un?Mn(t,s)&&(ft="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ft="onCompositionStart");ft&&(he&&s.locale!=="ko"&&(Un||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Un&&(rt=pu()):(vn=G,Kt="value"in vn?vn.value:vn.textContent,Un=!0)),Rt=co(P,ft),0<Rt.length&&(ft=new Qr(ft,t,null,s,G),Y.push({event:ft,listeners:Rt}),rt?ft.data=rt:(rt=xn(s),rt!==null&&(ft.data=rt)))),(rt=qt?Fr(t,s):tE(t,s))&&(ft=co(P,"onBeforeInput"),0<ft.length&&(Rt=new Qr("onBeforeInput","beforeinput",null,s,G),Y.push({event:Rt,listeners:ft}),Rt.data=rt)),GE(Y,t,P,s,G)}yp(Y,n)})}function Rl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function co(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Qi(t,s),c!=null&&l.unshift(Rl(t,c,f)),c=Qi(t,n),c!=null&&l.push(Rl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function lr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vp(t,n,s,l,c){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Qi(s,f),P!=null&&p.unshift(Rl(s,P,b))):c||(P=Qi(s,f),P!=null&&p.push(Rl(s,P,b)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var XE=/\r\n?/g,KE=/\u0000|\uFFFD/g;function Ep(t){return(typeof t=="string"?t:""+t).replace(XE,`
`).replace(KE,"")}function Tp(t,n){return n=Ep(n),Ep(t)===n}function ho(){}function Yt(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":Us(t,"class",l);break;case"tabIndex":Us(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Us(t,s,l);break;case"style":Br(t,l,f);break;case"data":if(n!=="object"){Us(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=On(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=On(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ho);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=On(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),xs(t,"popover",l);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=du.get(s)||s,xs(t,s,l))}}function Wh(t,n,s,l,c,f){switch(s){case"style":Br(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ho);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Os.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):xs(t,s,l)}}}function Le(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,f,p,s,null)}}c&&Yt(t,n,"srcSet",s.srcSet,s,null),l&&Yt(t,n,"src",s.src,s,null);return;case"input":Ct("invalid",t);var E=f=p=c=null,b=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":c=G;break;case"type":p=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Yt(t,n,l,G,s,null)}}Lr(t,f,E,b,P,p,c,!1),ji(t);return;case"select":Ct("invalid",t),l=p=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Yt(t,n,c,E,s,null)}n=f,s=p,t.multiple=!!l,n!=null?Hi(t,!!l,n,!1):s!=null&&Hi(t,!!l,s,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(t,n,p,E,s,null)}fu(t,l,c,f),ji(t);return;case"option":for(b in s)if(s.hasOwnProperty(b)&&(l=s[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,s,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)Ct(bl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,P,l,s,null)}return;default:if(Ia(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&Wh(t,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Yt(t,n,E,l,s,null))}function ZE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,b=null,P=null,G=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(q)||Yt(t,n,q,null,l,Y)}}for(var B in l){var q=l[B];if(Y=s[B],l.hasOwnProperty(B)&&(q!=null||Y!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Yt(t,n,B,q,l,Y)}}Ur(t,p,E,b,P,G,f,c);return;case"select":q=p=E=B=null;for(f in s)if(b=s[f],s.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=s[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,s=p,l=q,B!=null?Hi(t,!!s,B,!1):!!l!=!!s&&(n!=null?Hi(t,!!s,n,!0):Hi(t,!!s,s?[]:"",!1));return;case"textarea":q=B=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(p in l)if(c=l[p],f=s[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Yt(t,n,p,c,l,f)}hu(t,B,q);return;case"option":for(var gt in s)if(B=s[gt],s.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":t.selected=!1;break;default:Yt(t,n,gt,null,l,B)}for(b in l)if(B=l[b],q=s[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in s)B=s[ht],s.hasOwnProperty(ht)&&B!=null&&!l.hasOwnProperty(ht)&&Yt(t,n,ht,null,l,B);for(P in l)if(B=l[P],q=s[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Yt(t,n,P,B,l,q)}return;default:if(Ia(n)){for(var Ft in s)B=s[Ft],s.hasOwnProperty(Ft)&&B!==void 0&&!l.hasOwnProperty(Ft)&&Wh(t,n,Ft,void 0,l,B);for(G in l)B=l[G],q=s[G],!l.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||Wh(t,n,G,B,l,q);return}}for(var x in s)B=s[x],s.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,B);for(Y in l)B=l[Y],q=s[Y],!l.hasOwnProperty(Y)||B===q||B==null&&q==null||Yt(t,n,Y,B,l,q)}var tf=null,ef=null;function fo(t){return t.nodeType===9?t:t.ownerDocument}function Ap(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function nf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sf=null;function $E(){var t=window.event;return t&&t.type==="popstate"?t===sf?!1:(sf=t,!0):(sf=null,!1)}var bp=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,Rp=typeof Promise=="function"?Promise:void 0,WE=typeof queueMicrotask=="function"?queueMicrotask:typeof Rp<"u"?function(t){return Rp.resolve(null).then(t).catch(t0)}:bp;function t0(t){setTimeout(function(){throw t})}function os(t){return t==="head"}function wp(t,n){var s=n,l=0,c=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var p=t.ownerDocument;if(s&1&&wl(p.documentElement),s&2&&wl(p.body),s&4)for(s=p.head,wl(s),p=s.firstChild;p;){var E=p.nextSibling,b=p.nodeName;p[Pi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||s.removeChild(p),p=E}}if(c===0){t.removeChild(f),xl(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);xl(n)}function af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":af(s),Ra(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function e0(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Pi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function n0(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Pn(t.nextSibling),t===null))return null;return t}function rf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function i0(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var lf=null;function Cp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Dp(t,n,s){switch(n=fo(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function wl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ra(t)}var wn=new Map,Vp=new Set;function mo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ci=et.d;et.d={f:s0,r:a0,D:r0,C:l0,L:u0,m:o0,X:h0,S:c0,M:f0};function s0(){var t=Ci.f(),n=so();return t||n}function a0(t){var n=jn(t);n!==null&&n.tag===5&&n.type==="form"?Km(n):Ci.r(t)}var ur=typeof document>"u"?null:document;function Ip(t,n,s){var l=ur;if(l&&typeof n=="string"&&n){var c=Ce(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Vp.has(c)||(Vp.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),ce(n),l.head.appendChild(n)))}}function r0(t){Ci.D(t),Ip("dns-prefetch",t,null)}function l0(t,n){Ci.C(t,n),Ip("preconnect",t,n)}function u0(t,n,s){Ci.L(t,n,s);var l=ur;if(l&&t&&n){var c='link[rel="preload"][as="'+Ce(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Ce(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Ce(s.imageSizes)+'"]')):c+='[href="'+Ce(t)+'"]';var f=c;switch(n){case"style":f=or(t);break;case"script":f=cr(t)}wn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Cl(f))||n==="script"&&l.querySelector(Dl(f))||(n=l.createElement("link"),Le(n,"link",t),ce(n),l.head.appendChild(n)))}}function o0(t,n){Ci.m(t,n);var s=ur;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ce(l)+'"][href="'+Ce(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=cr(t)}if(!wn.has(f)&&(t=A({rel:"modulepreload",href:t},n),wn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Dl(f)))return}l=s.createElement("link"),Le(l,"link",t),ce(l),s.head.appendChild(l)}}}function c0(t,n,s){Ci.S(t,n,s);var l=ur;if(l&&t){var c=qi(l).hoistableStyles,f=or(t);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(Cl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=wn.get(f))&&uf(t,s);var b=p=l.createElement("link");ce(b),Le(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,go(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function h0(t,n){Ci.X(t,n);var s=ur;if(s&&t){var l=qi(s).hoistableScripts,c=cr(t),f=l.get(c);f||(f=s.querySelector(Dl(c)),f||(t=A({src:t,async:!0},n),(n=wn.get(c))&&of(t,n),f=s.createElement("script"),ce(f),Le(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function f0(t,n){Ci.M(t,n);var s=ur;if(s&&t){var l=qi(s).hoistableScripts,c=cr(t),f=l.get(c);f||(f=s.querySelector(Dl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&of(t,n),f=s.createElement("script"),ce(f),Le(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Np(t,n,s,l){var c=(c=mt.current)?mo(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=or(s.href),s=qi(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=or(s.href);var f=qi(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(Cl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),wn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},wn.set(t,s),f||d0(c,t,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cr(s),s=qi(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function or(t){return'href="'+Ce(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function Op(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function d0(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",s),ce(n),t.head.appendChild(n))}function cr(t){return'[src="'+Ce(t)+'"]'}function Dl(t){return"script[async]"+t}function Mp(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ce(s.href)+'"]');if(l)return n.instance=l,ce(l),l;var c=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),Le(l,"style",c),go(l,s.precedence,t),n.instance=l;case"stylesheet":c=or(s.href);var f=t.querySelector(Cl(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=Op(s),(c=wn.get(c))&&uf(l,c),f=(t.ownerDocument||t).createElement("link"),ce(f);var p=f;return p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),Le(f,"link",l),n.state.loading|=4,go(f,s.precedence,t),n.instance=f;case"script":return f=cr(s.src),(c=t.querySelector(Dl(f)))?(n.instance=c,ce(c),c):(l=s,(c=wn.get(f))&&(l=A({},s),of(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ce(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,go(l,s.precedence,t));return n.instance}function go(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function of(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var po=null;function xp(t,n,s){if(po===null){var l=new Map,c=po=new Map;c.set(s,l)}else c=po,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[Pi]||f[oe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function Up(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function m0(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Lp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vl=null;function g0(){}function p0(t,n,s){if(Vl===null)throw Error(a(475));var l=Vl;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=or(s.href),f=t.querySelector(Cl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=yo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,s=Op(s),(c=wn.get(c))&&uf(s,c),f=f.createElement("link"),ce(f);var p=f;p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),Le(f,"link",s),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=yo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function y0(){if(Vl===null)throw Error(a(475));var t=Vl;return t.stylesheets&&t.count===0&&cf(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&cf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function yo(){if(this.count--,this.count===0){if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _o=null;function cf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_o=new Map,n.forEach(_0,t),_o=null,yo.call(t))}function _0(t,n){if(!(n.state.loading&4)){var s=_o.get(t);if(s)var l=s.get(null);else{s=new Map,_o.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,c),s.set(p,c),this.count++,l=yo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Il={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function v0(t,n,s,l,c,f,p,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.hiddenUpdates=ba(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function zp(t,n,s,l,c,f,p,E,b,P,G,Y){return t=new v0(t,n,s,p,E,b,P,Y),n=1,f===!0&&(n|=24),f=un(3,null,null,n),t.current=f,f.stateNode=t,n=Gc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Xc(f),t}function Pp(t){return t?(t=ka,t):ka}function Bp(t,n,s,l,c,f){c=Pp(c),l.context===null?l.context=c:l.pendingContext=c,l=Zi(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=$i(t,l,n),s!==null&&(dn(s,t,n),rl(s,t,n))}function qp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function hf(t,n){qp(t,n),(t=t.alternate)&&qp(t,n)}function kp(t){if(t.tag===13){var n=qa(t,67108864);n!==null&&dn(n,t,67108864),hf(t,67108864)}}var vo=!0;function E0(t,n,s,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,ff(t,n,s,l)}finally{et.p=f,H.T=c}}function T0(t,n,s,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,ff(t,n,s,l)}finally{et.p=f,H.T=c}}function ff(t,n,s,l){if(vo){var c=df(l);if(c===null)Jh(t,n,l,Eo,s),Hp(t,l);else if(S0(c,t,n,s,l))l.stopPropagation();else if(Hp(t,l),n&4&&-1<A0.indexOf(t)){for(;c!==null;){var f=jn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Vn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var b=1<<31-Fe(p);E.entanglements[1]|=b,p&=~b}Jn(f),(kt&6)===0&&(no=Je()+500,Sl(0))}}break;case 13:E=qa(f,2),E!==null&&dn(E,f,2),so(),hf(f,2)}if(f=df(l),f===null&&Jh(t,n,l,Eo,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else Jh(t,n,l,null,s)}}function df(t){return t=kr(t),mf(t)}var Eo=null;function mf(t){if(Eo=null,t=kn(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Eo=t,null}function jp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ru()){case ve:return 2;case we:return 8;case li:case _c:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var gf=!1,cs=null,hs=null,fs=null,Nl=new Map,Ol=new Map,ds=[],A0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hp(t,n){switch(t){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Ml(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=jn(n),n!==null&&kp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function S0(t,n,s,l,c){switch(n){case"focusin":return cs=Ml(cs,t,n,s,l,c),!0;case"dragenter":return hs=Ml(hs,t,n,s,l,c),!0;case"mouseover":return fs=Ml(fs,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Nl.set(f,Ml(Nl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ol.set(f,Ml(Ol.get(f)||null,t,n,s,l,c)),!0}return!1}function Gp(t){var n=kn(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Tc(t.priority,function(){if(s.tag===13){var l=fn();l=Mr(l);var c=qa(s,l);c!==null&&dn(c,s,l),hf(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function To(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=df(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);qr=l,s.target.dispatchEvent(l),qr=null}else return n=jn(s),n!==null&&kp(n),t.blockedOn=s,!1;n.shift()}return!0}function Qp(t,n,s){To(t)&&s.delete(n)}function b0(){gf=!1,cs!==null&&To(cs)&&(cs=null),hs!==null&&To(hs)&&(hs=null),fs!==null&&To(fs)&&(fs=null),Nl.forEach(Qp),Ol.forEach(Qp)}function Ao(t,n){t.blockedOn===n&&(t.blockedOn=null,gf||(gf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,b0)))}var So=null;function Yp(t){So!==t&&(So=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){So===t&&(So=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(mf(l||s)===null)continue;break}var f=jn(s);f!==null&&(t.splice(n,3),n-=3,dh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function xl(t){function n(b){return Ao(b,t)}cs!==null&&Ao(cs,t),hs!==null&&Ao(hs,t),fs!==null&&Ao(fs,t),Nl.forEach(n),Ol.forEach(n);for(var s=0;s<ds.length;s++){var l=ds[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ds.length&&(s=ds[0],s.blockedOn===null);)Gp(s),s.blockedOn===null&&ds.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],p=c[Me]||null;if(typeof f=="function")p||Yp(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[Me]||null)E=p.formAction;else if(mf(c)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Yp(s)}}}function pf(t){this._internalRoot=t}bo.prototype.render=pf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=fn();Bp(s,l,t,n,null,null)},bo.prototype.unmount=pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Bp(t.current,2,null,t,null,null),so(),n[oi]=null}};function bo(t){this._internalRoot=t}bo.prototype.unstable_scheduleHydration=function(t){if(t){var n=ui();t={blockedOn:null,target:t,priority:n};for(var s=0;s<ds.length&&n!==0&&n<ds[s].priority;s++);ds.splice(s,0,t),s===0&&Gp(t)}};var Fp=e.version;if(Fp!=="19.1.1")throw Error(a(527,Fp,"19.1.1"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var R0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{Oi=Ro.inject(R0),qe=Ro}catch{}}return Ll.createRoot=function(t,n){if(!u(t))throw Error(a(299));var s=!1,l="",c=og,f=cg,p=hg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=zp(t,1,!1,null,null,s,l,c,f,p,E,null),t[oi]=n.current,$h(t),new pf(n)},Ll.hydrateRoot=function(t,n,s){if(!u(t))throw Error(a(299));var l=!1,c="",f=og,p=cg,E=hg,b=null,P=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks),s.formState!==void 0&&(P=s.formState)),n=zp(t,1,!0,n,s??null,l,c,f,p,E,b,P),n.context=Pp(null),s=n.current,l=fn(),l=Mr(l),c=Zi(l),c.callback=null,$i(s,c,l),s=l,n.current.lanes=s,ue(n,s),Jn(n),t[oi]=n.current,$h(t),new bo(n)},Ll.version="19.1.1",Ll}var iy;function U0(){if(iy)return vf.exports;iy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vf.exports=x0(),vf.exports}var L0=U0();const z0=()=>{};var sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let u=r.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},P0=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const u=r[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=r[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=r[i++],d=r[i++],y=r[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},g_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<r.length;u+=3){const h=r[u],d=u+1<r.length,y=d?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,A=h>>2,C=(h&3)<<4|y>>4;let M=(y&15)<<2|_>>6,j=_&63;v||(j=64,d||(M=64)),a.push(i[A],i[C],i[M],i[j])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(m_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):P0(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<r.length;){const h=i[r.charAt(u++)],y=u<r.length?i[r.charAt(u)]:0;++u;const _=u<r.length?i[r.charAt(u)]:64;++u;const C=u<r.length?i[r.charAt(u)]:64;if(++u,h==null||y==null||_==null||C==null)throw new B0;const M=h<<2|y>>4;if(a.push(M),_!==64){const j=y<<4&240|_>>2;if(a.push(j),C!==64){const $=_<<6&192|C;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class B0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q0=function(r){const e=m_(r);return g_.encodeByteArray(e,!0)},Po=function(r){return q0(r).replace(/\./g,"")},k0=function(r){try{return g_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=()=>j0().__FIREBASE_DEFAULTS__,G0=()=>{if(typeof process>"u"||typeof sy>"u")return;const r=sy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Q0=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&k0(r[1]);return e&&JSON.parse(e)},id=()=>{try{return z0()||H0()||G0()||Q0()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Y0=r=>{var e,i;return(i=(e=id())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},F0=r=>{const e=Y0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},p_=()=>{var r;return(r=id())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function K0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Po(JSON.stringify(i)),Po(JSON.stringify(d)),""].join(".")}const kl={};function $0(){const r={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?r.emulator.push(e):r.prod.push(e);return r}function J0(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let ay=!1;function W0(r,e){if(typeof window>"u"||typeof document>"u"||!sd(window.location.host)||kl[r]===e||kl[r]||ay)return;kl[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",h=$0().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,j){M.setAttribute("width","24"),M.setAttribute("id",j),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{ay=!0,d()},M}function A(M,j){M.setAttribute("id",j),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function C(){const M=J0(a),j=i("text"),$=document.getElementById(j)||document.createElement("span"),tt=i("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),Tt=i("preprendIcon"),yt=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ut=M.element;y(ut),A(Z,tt);const Pt=_();v(yt,Tt),ut.append(yt,$,Z,Pt),document.body.appendChild(ut)}h?($.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eT(){var e;const r=(e=id())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nT(){return!eT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iT(){try{return typeof indexedDB=="object"}catch{return!1}}function sT(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="FirebaseError";class br extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=aT,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y_.prototype.create)}}class y_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?rT(h,a):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new br(u,y,a)}}function rT(r,e){return r.replace(lT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const lT=/\{\$([^}]+)}/g;function Bo(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=r[u],d=e[u];if(ry(h)&&ry(d)){if(!Bo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function ry(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(r){return r&&r._delegate?r._delegate:r}class Yl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new X0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cT(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&d.resolve(u)}return u}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(a)??new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oT(r){return r===ha?void 0:r}function cT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new uT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const fT={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},dT=Mt.INFO,mT={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},gT=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),u=mT[e];if(u)console[u](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class __{constructor(e){this.name=e,this._logLevel=dT,this._logHandler=gT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const pT=(r,e)=>e.some(i=>r instanceof i);let ly,uy;function yT(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _T(){return uy||(uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v_=new WeakMap,Mf=new WeakMap,E_=new WeakMap,Sf=new WeakMap,ad=new WeakMap;function vT(r){const e=new Promise((i,a)=>{const u=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(ps(r.result)),u()},d=()=>{a(r.error),u()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&v_.set(i,r)}).catch(()=>{}),ad.set(e,r),e}function ET(r){if(Mf.has(r))return;const e=new Promise((i,a)=>{const u=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Mf.set(r,e)}let xf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Mf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||E_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ps(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function TT(r){xf=r(xf)}function AT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(bf(this),e,...i);return E_.set(a,e.sort?e.sort():[e]),ps(a)}:_T().includes(r)?function(...e){return r.apply(bf(this),e),ps(v_.get(this))}:function(...e){return ps(r.apply(bf(this),e))}}function ST(r){return typeof r=="function"?AT(r):(r instanceof IDBTransaction&&ET(r),pT(r,yT())?new Proxy(r,xf):r)}function ps(r){if(r instanceof IDBRequest)return vT(r);if(Sf.has(r))return Sf.get(r);const e=ST(r);return e!==r&&(Sf.set(r,e),ad.set(e,r)),e}const bf=r=>ad.get(r);function bT(r,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(r,e),y=ps(d);return a&&d.addEventListener("upgradeneeded",v=>{a(ps(d.result),v.oldVersion,v.newVersion,ps(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const RT=["get","getKey","getAll","getAllKeys","count"],wT=["put","add","delete","clear"],Rf=new Map;function oy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Rf.get(e))return Rf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=wT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||RT.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),u&&v.done]))[0]};return Rf.set(e,h),h}TT(r=>({...r,get:(e,i,a)=>oy(e,i)||r.get(e,i,a),has:(e,i)=>!!oy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(DT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function DT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uf="@firebase/app",cy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new __("@firebase/app"),VT="@firebase/app-compat",IT="@firebase/analytics-compat",NT="@firebase/analytics",OT="@firebase/app-check-compat",MT="@firebase/app-check",xT="@firebase/auth",UT="@firebase/auth-compat",LT="@firebase/database",zT="@firebase/data-connect",PT="@firebase/database-compat",BT="@firebase/functions",qT="@firebase/functions-compat",kT="@firebase/installations",jT="@firebase/installations-compat",HT="@firebase/messaging",GT="@firebase/messaging-compat",QT="@firebase/performance",YT="@firebase/performance-compat",FT="@firebase/remote-config",XT="@firebase/remote-config-compat",KT="@firebase/storage",ZT="@firebase/storage-compat",$T="@firebase/firestore",JT="@firebase/ai",WT="@firebase/firestore-compat",t1="firebase",e1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="[DEFAULT]",n1={[Uf]:"fire-core",[VT]:"fire-core-compat",[NT]:"fire-analytics",[IT]:"fire-analytics-compat",[MT]:"fire-app-check",[OT]:"fire-app-check-compat",[xT]:"fire-auth",[UT]:"fire-auth-compat",[LT]:"fire-rtdb",[zT]:"fire-data-connect",[PT]:"fire-rtdb-compat",[BT]:"fire-fn",[qT]:"fire-fn-compat",[kT]:"fire-iid",[jT]:"fire-iid-compat",[HT]:"fire-fcm",[GT]:"fire-fcm-compat",[QT]:"fire-perf",[YT]:"fire-perf-compat",[FT]:"fire-rc",[XT]:"fire-rc-compat",[KT]:"fire-gcs",[ZT]:"fire-gcs-compat",[$T]:"fire-fst",[WT]:"fire-fst-compat",[JT]:"fire-vertex","fire-js":"fire-js",[t1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Map,i1=new Map,zf=new Map;function hy(r,e){try{r.container.addComponent(e)}catch(i){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ko(r){const e=r.name;if(zf.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;zf.set(e,r);for(const i of qo.values())hy(i,r);for(const i of i1.values())hy(i,r);return!0}function s1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function a1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new y_("app","Firebase",r1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=e1;function T_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Lf,automaticDataCollectionEnabled:!0,...e},u=a.name;if(typeof u!="string"||!u)throw ys.create("bad-app-name",{appName:String(u)});if(i||(i=p_()),!i)throw ys.create("no-options");const h=qo.get(u);if(h){if(Bo(i,h.options)&&Bo(a,h.config))return h;throw ys.create("duplicate-app",{appName:u})}const d=new hT(u);for(const v of zf.values())d.addComponent(v);const y=new l1(i,a,d);return qo.set(u,y),y}function o1(r=Lf){const e=qo.get(r);if(!e&&r===Lf&&p_())return T_();if(!e)throw ys.create("no-app",{appName:r});return e}function gr(r,e,i){let a=n1[r]??r;i&&(a+=`-${i}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${a}" with version "${e}":`];u&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(d.join(" "));return}ko(new Yl(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="firebase-heartbeat-database",h1=1,Fl="firebase-heartbeat-store";let wf=null;function A_(){return wf||(wf=bT(c1,h1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ys.create("idb-open",{originalErrorMessage:r.message})})),wf}async function f1(r){try{const i=(await A_()).transaction(Fl),a=await i.objectStore(Fl).get(S_(r));return await i.done,a}catch(e){if(e instanceof br)Vi.warn(e.message);else{const i=ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(i.message)}}}async function fy(r,e){try{const a=(await A_()).transaction(Fl,"readwrite");await a.objectStore(Fl).put(e,S_(r)),await a.done}catch(i){if(i instanceof br)Vi.warn(i.message);else{const a=ys.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Vi.warn(a.message)}}}function S_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=1024,m1=30;class g1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new y1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=dy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>m1){const d=_1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Vi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=dy(),{heartbeatsToSend:a,unsentEntries:u}=p1(this._heartbeatsCache.heartbeats),h=Po(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Vi.warn(i),""}}}function dy(){return new Date().toISOString().substring(0,10)}function p1(r,e=d1){const i=[];let a=r.slice();for(const u of r){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),my(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),my(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class y1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iT()?sT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await f1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return fy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return fy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function my(r){return Po(JSON.stringify({version:2,heartbeats:r})).length}function _1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(r){ko(new Yl("platform-logger",e=>new CT(e),"PRIVATE")),ko(new Yl("heartbeat",e=>new g1(e),"PRIVATE")),gr(Uf,cy,r),gr(Uf,cy,"esm2020"),gr("fire-js","")}v1("");var E1="firebase",T1="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(E1,T1,"app");var gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,b_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function w(){}w.prototype=S.prototype,N.F=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(O,I,U){for(var R=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)R[ae-2]=arguments[ae];return S.prototype[I].apply(O,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,S,w){w||(w=0);const O=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)O[I]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(I=0;I<16;++I)O[I]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],I=N.g[2];let U=N.g[3],R;R=S+(U^w&(I^U))+O[0]+3614090360&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(I^S&(w^I))+O[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=I+(w^U&(S^w))+O[2]+606105819&4294967295,I=U+(R<<17&4294967295|R>>>15),R=w+(S^I&(U^S))+O[3]+3250441966&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(U^w&(I^U))+O[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(I^S&(w^I))+O[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=I+(w^U&(S^w))+O[6]+2821735955&4294967295,I=U+(R<<17&4294967295|R>>>15),R=w+(S^I&(U^S))+O[7]+4249261313&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(U^w&(I^U))+O[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(I^S&(w^I))+O[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=I+(w^U&(S^w))+O[10]+4294925233&4294967295,I=U+(R<<17&4294967295|R>>>15),R=w+(S^I&(U^S))+O[11]+2304563134&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(U^w&(I^U))+O[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(I^S&(w^I))+O[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=I+(w^U&(S^w))+O[14]+2792965006&4294967295,I=U+(R<<17&4294967295|R>>>15),R=w+(S^I&(U^S))+O[15]+1236535329&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(I^U&(w^I))+O[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^I&(S^w))+O[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(U^S))+O[11]+643717713&4294967295,I=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(I^U))+O[0]+3921069994&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^U&(w^I))+O[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^I&(S^w))+O[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(U^S))+O[15]+3634488961&4294967295,I=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(I^U))+O[4]+3889429448&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^U&(w^I))+O[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^I&(S^w))+O[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(U^S))+O[3]+4107603335&4294967295,I=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(I^U))+O[8]+1163531501&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^U&(w^I))+O[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^I&(S^w))+O[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(U^S))+O[7]+1735328473&4294967295,I=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(I^U))+O[12]+2368359562&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(w^I^U)+O[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^I)+O[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=I+(U^S^w)+O[11]+1839030562&4294967295,I=U+(R<<16&4294967295|R>>>16),R=w+(I^U^S)+O[14]+4259657740&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^U)+O[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^I)+O[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=I+(U^S^w)+O[7]+4139469664&4294967295,I=U+(R<<16&4294967295|R>>>16),R=w+(I^U^S)+O[10]+3200236656&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^U)+O[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^I)+O[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=I+(U^S^w)+O[3]+3572445317&4294967295,I=U+(R<<16&4294967295|R>>>16),R=w+(I^U^S)+O[6]+76029189&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^U)+O[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^I)+O[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=I+(U^S^w)+O[15]+530742520&4294967295,I=U+(R<<16&4294967295|R>>>16),R=w+(I^U^S)+O[2]+3299628645&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(I^(w|~U))+O[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~I))+O[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=I+(S^(U|~w))+O[14]+2878612391&4294967295,I=U+(R<<15&4294967295|R>>>17),R=w+(U^(I|~S))+O[5]+4237533241&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~U))+O[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~I))+O[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=I+(S^(U|~w))+O[10]+4293915773&4294967295,I=U+(R<<15&4294967295|R>>>17),R=w+(U^(I|~S))+O[1]+2240044497&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~U))+O[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~I))+O[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=I+(S^(U|~w))+O[6]+2734768916&4294967295,I=U+(R<<15&4294967295|R>>>17),R=w+(U^(I|~S))+O[13]+1309151649&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~U))+O[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~I))+O[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=I+(S^(U|~w))+O[2]+718787259&4294967295,I=U+(R<<15&4294967295|R>>>17),R=w+(U^(I|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,S){S===void 0&&(S=N.length);const w=S-this.blockSize,O=this.C;let I=this.h,U=0;for(;U<S;){if(I==0)for(;U<=w;)u(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(O[I++]=N.charCodeAt(U++),I==this.blockSize){u(this,O),I=0;break}}else for(;U<S;)if(O[I++]=N[U++],I==this.blockSize){u(this,O),I=0;break}}this.h=I,this.o+=S},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)N[S++]=this.g[w]>>>O&255;return N};function h(N,S){var w=y;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;const w=[];let O=!0;for(let I=N.length-1;I>=0;I--){const U=N[I]|0;O&&U==S||(w[I]=U,O=!1)}this.g=w}var y={};function v(N){return-128<=N&&N<128?h(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return C;if(N<0)return Z(_(-N));const S=[];let w=1;for(let O=0;N>=w;O++)S[O]=N/w|0,w*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return Z(A(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(S,8));let O=C;for(let U=0;U<N.length;U+=8){var I=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+I),S);I<8?(I=_(Math.pow(S,I)),O=O.j(I).add(_(R))):(O=O.j(w),O=O.add(_(R)))}return O}var C=v(0),M=v(1),j=v(16777216);r=d.prototype,r.m=function(){if(tt(this))return-Z(this).m();let N=0,S=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);N+=(O>=0?O:4294967296+O)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(tt(this))return"-"+Z(this).toString(N);const S=_(Math.pow(N,6));var w=this;let O="";for(;;){const I=Pt(w,S).g;w=Tt(w,I.j(S));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=I,$(w))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function tt(N){return N.h==-1}r.l=function(N){return N=Tt(this,N),tt(N)?-1:$(N)?0:1};function Z(N){const S=N.g.length,w=[];for(let O=0;O<S;O++)w[O]=~N.g[O];return new d(w,~N.h).add(M)}r.abs=function(){return tt(this)?Z(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),w=[];let O=0;for(let I=0;I<=S;I++){let U=O+(this.i(I)&65535)+(N.i(I)&65535),R=(U>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);O=R>>>16,U&=65535,R&=65535,w[I]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Tt(N,S){return N.add(Z(S))}r.j=function(N){if($(this)||$(N))return C;if(tt(this))return tt(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(tt(N))return Z(this.j(Z(N)));if(this.l(j)<0&&N.l(j)<0)return _(this.m()*N.m());const S=this.g.length+N.g.length,w=[];for(var O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<N.g.length;I++){const U=this.i(O)>>>16,R=this.i(O)&65535,ae=N.i(I)>>>16,te=N.i(I)&65535;w[2*O+2*I]+=R*te,yt(w,2*O+2*I),w[2*O+2*I+1]+=U*te,yt(w,2*O+2*I+1),w[2*O+2*I+1]+=R*ae,yt(w,2*O+2*I+1),w[2*O+2*I+2]+=U*ae,yt(w,2*O+2*I+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new d(w,0)};function yt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ut(N,S){this.g=N,this.h=S}function Pt(N,S){if($(S))throw Error("division by zero");if($(N))return new ut(C,C);if(tt(N))return S=Pt(Z(N),S),new ut(Z(S.g),Z(S.h));if(tt(S))return S=Pt(N,Z(S)),new ut(Z(S.g),S.h);if(N.g.length>30){if(tt(N)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=M,O=S;O.l(N)<=0;)w=pt(w),O=pt(O);var I=xt(w,1),U=xt(O,1);for(O=xt(O,2),w=xt(w,2);!$(O);){var R=U.add(O);R.l(N)<=0&&(I=I.add(w),U=R),O=xt(O,1),w=xt(w,1)}return S=Tt(N,I.j(S)),new ut(I,S)}for(I=C;N.l(S)>=0;){for(w=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=_(w),R=U.j(S);tt(R)||R.l(N)>0;)w-=O,U=_(w),R=U.j(S);$(U)&&(U=M),I=I.add(U),N=Tt(N,R)}return new ut(I,N)}r.B=function(N){return Pt(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)&N.i(O);return new d(w,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)|N.i(O);return new d(w,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)^N.i(O);return new d(w,this.h^N.h)};function pt(N){const S=N.g.length+1,w=[];for(let O=0;O<S;O++)w[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(w,N.h)}function xt(N,S){const w=S>>5;S%=32;const O=N.g.length-w,I=[];for(let U=0;U<O;U++)I[U]=S>0?N.i(U+w)>>>S|N.i(U+w+1)<<32-S:N.i(U+w);return new d(I,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,b_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,_s=d}).apply(typeof gy<"u"?gy:typeof self<"u"?self:typeof window<"u"?window:{});var wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R_,zl,w_,No,Pf,C_,D_,V_;(function(){var r,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof wo=="object"&&wo];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var g=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in g))break t;g=g[z]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var g=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&g.push([T,m[T]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,g){return o.call.apply(o.bind,arguments)}function _(o,m,g){return _=v,_.apply(null,arguments)}function A(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function C(o,m){function g(){}g.prototype=m.prototype,o.Z=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Ob=function(T,z,k){for(var J=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)J[vt-2]=arguments[vt];return m.prototype[z].apply(T,J)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function j(o){const m=o.length;if(m>0){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function $(o,m){for(let T=1;T<arguments.length;T++){const z=arguments[T];var g=typeof z;if(g=g!="object"?g:z?Array.isArray(z)?"array":g:"null",g=="array"||g=="object"&&typeof z.length=="number"){g=o.length||0;const k=z.length||0;o.length=g+k;for(let J=0;J<k;J++)o[g+J]=z[J]}else o.push(z)}}class tt{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(o){d.setTimeout(()=>{throw o},0)}function Tt(){var o=N;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,g){const T=ut.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ut=new tt(()=>new Pt,o=>o.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,xt=!1,N=new yt,S=()=>{const o=Promise.resolve(void 0);pt=()=>{o.then(w)}};function w(){for(var o;o=Tt();){try{o.h.call(o.g)}catch(g){Z(g)}var m=ut;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}xt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};d.addEventListener("test",g,m),d.removeEventListener("test",g,m)}catch{}return o})();function R(o){return/^[\s\xa0]*$/.test(o)}function ae(o,m){I.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}C(ae,I),ae.prototype.init=function(o,m){const g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(o,m,g,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=z,this.key=++H,this.da=this.fa=!1}function ot(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ut(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function D(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function X(o){const m={};for(const g in o)m[g]=o[g];return m}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(o,m){let g,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(g in T)o[g]=T[g];for(let k=0;k<nt.length;k++)g=nt[k],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function lt(o){this.src=o,this.g={},this.h=0}lt.prototype.add=function(o,m,g,T,z){const k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);const J=mt(o,m,T,z);return J>-1?(m=o[J],g||(m.fa=!1)):(m=new et(m,this.src,k,!!T,z),m.fa=g,o.push(m)),m};function Dt(o,m){const g=m.type;if(g in o.g){var T=o.g[g],z=Array.prototype.indexOf.call(T,m,void 0),k;(k=z>=0)&&Array.prototype.splice.call(T,z,1),k&&(ot(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function mt(o,m,g,T){for(let z=0;z<o.length;++z){const k=o[z];if(!k.da&&k.listener==m&&k.capture==!!g&&k.ha==T)return z}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),Ht={};function Dn(o,m,g,T,z){if(Array.isArray(m)){for(let k=0;k<m.length;k++)Dn(o,m[k],g,T,z);return null}return g=ru(g),o&&o[te]?o.J(m,g,y(T)?!!T.capture:!1,z):Vr(o,m,g,!1,T,z)}function Vr(o,m,g,T,z,k){if(!m)throw Error("Invalid event type");const J=y(z)?!!z.capture:!!z;let vt=Ir(o);if(vt||(o[Oe]=vt=new lt(o)),g=vt.add(m,g,T,J,k),g.proxy)return g;if(T=Ea(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)U||(z=J),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(Aa(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ea(){function o(g){return m.call(o.src,o.listener,g)}const m=yc;return o}function Ta(o,m,g,T,z){if(Array.isArray(m))for(var k=0;k<m.length;k++)Ta(o,m[k],g,T,z);else T=y(T)?!!T.capture:!!T,g=ru(g),o&&o[te]?(o=o.i,k=String(m).toString(),k in o.g&&(m=o.g[k],g=mt(m,g,T,z),g>-1&&(ot(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete o.g[k],o.h--)))):o&&(o=Ir(o))&&(m=o.g[m.toString()],o=-1,m&&(o=mt(m,g,T,z)),(g=o>-1?m[o]:null)&&Ds(g))}function Ds(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[te])Dt(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(Aa(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=Ir(m))?(Dt(g,o),g.h==0&&(g.src=null,m[Oe]=null)):ot(o)}}}function Aa(o){return o in Ht?Ht[o]:Ht[o]="on"+o}function yc(o,m){if(o.da)o=!0;else{m=new ae(m,this);const g=o.listener,T=o.ha||o.src;o.fa&&Ds(o),o=g.call(T,m)}return o}function Ir(o){return o=o[Oe],o instanceof lt?o:null}var Je="__closure_events_fn_"+(Math.random()*1e9>>>0);function ru(o){return typeof o=="function"?o:(o[Je]||(o[Je]=function(m){return o.handleEvent(m)}),o[Je])}function ve(){O.call(this),this.i=new lt(this),this.M=this,this.G=null}C(ve,O),ve.prototype[te]=!0,ve.prototype.removeEventListener=function(o,m,g,T){Ta(this,o,m,g,T)};function we(o,m){var g,T=o.G;if(T)for(g=[];T;T=T.G)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new I(m,o);else if(m instanceof I)m.target=m.target||o;else{var z=m;m=new I(T,o),W(m,z)}z=!0;let k,J;if(g)for(J=g.length-1;J>=0;J--)k=m.g=g[J],z=li(k,T,!0,m)&&z;if(k=m.g=o,z=li(k,T,!0,m)&&z,z=li(k,T,!1,m)&&z,g)for(J=0;J<g.length;J++)k=m.g=g[J],z=li(k,T,!1,m)&&z}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const g=o.g[m];for(let T=0;T<g.length;T++)ot(g[T]);delete o.g[m],o.h--}}this.G=null},ve.prototype.J=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},ve.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function li(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let k=0;k<m.length;++k){const J=m[k];if(J&&!J.da&&J.capture==g){const vt=J.listener,$t=J.ha||J.src;J.fa&&Dt(o.i,J),z=vt.call($t,T)!==!1&&z}}return z&&!T.defaultPrevented}function _c(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function Nr(o){o.g=_c(()=>{o.g=null,o.i&&(o.i=!1,Nr(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class vc extends O{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Nr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(o){O.call(this),this.h=o,this.g={}}C(Vs,O);var Oi=[];function qe(o){Ut(o.g,function(m,g){this.g.hasOwnProperty(g)&&Ds(m)},o),o.g={}}Vs.prototype.N=function(){Vs.Z.N.call(this),qe(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=d.JSON.stringify,Fe=d.JSON.parse,Ec=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function lu(){}function uu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Mi(){I.call(this,"d")}C(Mi,I);function Vn(){I.call(this,"c")}C(Vn,I);var pn={},xi=null;function Sa(){return xi=xi||new ve}pn.Ia="serverreachability";function Or(o){I.call(this,pn.Ia,o)}C(Or,I);function Ui(o){const m=Sa();we(m,new Or(m))}pn.STAT_EVENT="statevent";function ba(o,m){I.call(this,pn.STAT_EVENT,o),this.stat=m}C(ba,I);function ue(o){const m=Sa();we(m,new ba(m,o))}pn.Ja="timingevent";function ou(o,m){I.call(this,pn.Ja,o),this.size=m}C(ou,I);function Li(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function zi(){this.g=!0}zi.prototype.ua=function(){this.g=!1};function Mr(o,m,g,T,z,k){o.info(function(){if(o.g)if(k){var J="",vt=k.split("&");for(let qt=0;qt<vt.length;qt++){var $t=vt[qt].split("=");if($t.length>1){const he=$t[0];$t=$t[1];const rn=he.split("_");J=rn.length>=2&&rn[1]=="type"?J+(he+"="+$t+"&"):J+(he+"=redacted&")}}}else J=null;else J=k;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+g+`
`+J})}function xr(o,m,g,T,z,k,J){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+g+`
`+k+" "+J})}function ui(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+qn(o,g)+(T?" "+T:"")})}function Tc(o,m){o.info(function(){return"TIMEOUT: "+m})}zi.prototype.info=function(){};function qn(o,m){if(!o.g)return m;if(!m)return null;try{const k=JSON.parse(m);if(k){for(o=0;o<k.length;o++)if(Array.isArray(k[o])){var g=k[o];if(!(g.length<2)){var T=g[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return gn(k)}catch{return m}}var oe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Me={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},oi;function Is(){}C(Is,lu),Is.prototype.g=function(){return new XMLHttpRequest},oi=new Is;function Ns(o){return encodeURIComponent(String(o))}function Ac(o){var m=1;o=o.split(":");const g=[];for(;m>0&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function In(o,m,g,T){this.j=o,this.i=m,this.l=g,this.S=T||1,this.V=new Vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pi}function Pi(){this.i=null,this.g="",this.h=!1}var Ra={},kn={};function jn(o,m,g){o.M=1,o.A=hi(ne(m)),o.u=g,o.R=!0,Bi(o,null)}function Bi(o,m){o.F=Date.now(),Os(o),o.B=ne(o.A);var g=o.B,T=o.S;Array.isArray(T)||(T=[String(T)]),du(g.i,"t",T),o.C=0,g=o.j.L,o.h=new Pi,o.g=Ua(o.j,g?m:null,!o.u),o.P>0&&(o.O=new vc(_(o.Y,o,o.g),o.P)),m=o.V,g=o.g,T=o.ba;var z="readystatechange";Array.isArray(z)||(z&&(Oi[0]=z.toString()),z=Oi);for(let k=0;k<z.length;k++){const J=Dn(g,z[k],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=o.J?X(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Ui(),Mr(o.i,o.v,o.B,o.l,o.S,o.u)}In.prototype.ba=function(o){o=o.target;const m=this.O;m&&ke(o)==3?m.j():this.Y(o)},In.prototype.Y=function(o){try{if(o==this.g)t:{const vt=ke(this.g),$t=this.g.ya(),qt=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||Hs(this.g)))){this.K||vt!=4||$t==7||($t==8||qt<=0?Ui(3):Ui(2)),Gn(this);var m=this.g.ca();this.X=m;var g=qi(this);if(this.o=m==200,xr(this.i,this.v,this.B,this.l,this.S,vt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var k=T;break e}}k=null}if(o=k)ui(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wa(this,o);else{this.o=!1,this.m=3,ue(12),Qn(this),Ms(this);break t}}if(this.R){o=!0;let he;for(;!this.K&&this.C<g.length;)if(he=cu(this,g),he==kn){vt==4&&(this.m=4,ue(14),o=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Ra){this.m=4,ue(15),ui(this.i,this.l,g,"[Invalid Chunk]"),o=!1;break}else ui(this.i,this.l,he,null),wa(this,he);if(ce(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||g.length!=0||this.h.h||(this.m=1,ue(16),o=!1),this.o=this.o&&o,!o)ui(this.i,this.l,g,"[Invalid Chunked Response]"),Qn(this),Ms(this);else if(g.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Gr(J),J.P=!0,ue(11))}}else ui(this.i,this.l,g,null),wa(this,g);vt==4&&Qn(this),this.o&&!this.K&&(vt==4?Qr(this.j,this):(this.o=!1,Os(this)))}else Gs(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,ue(12)):(this.m=0,ue(13)),Qn(this),Ms(this)}}}catch{}finally{}};function qi(o){if(!ce(o))return o.g.la();const m=Hs(o.g);if(m==="")return"";let g="";const T=m.length,z=ke(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return Qn(o),Ms(o),"";o.h.i=new d.TextDecoder}for(let k=0;k<T;k++)o.h.h=!0,g+=o.h.i.decode(m[k],{stream:!(z&&k==T-1)});return m.length=0,o.h.g+=g,o.C=0,o.h.g}function ce(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function cu(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?kn:(g=Number(m.substring(g,T)),isNaN(g)?Ra:(T+=1,T+g>m.length?kn:(m=m.slice(T,T+g),o.C=T+g,m)))}In.prototype.cancel=function(){this.K=!0,Qn(this)};function Os(o){o.T=Date.now()+o.H,Hn(o,o.H)}function Hn(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Li(_(o.aa,o),m)}function Gn(o){o.D&&(d.clearTimeout(o.D),o.D=null)}In.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Tc(this.i,this.B),this.M!=2&&(Ui(),ue(17)),Qn(this),this.m=2,Ms(this)):Hn(this,this.T-o)};function Ms(o){o.j.I==0||o.K||Qr(o.j,o)}function Qn(o){Gn(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,qe(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function wa(o,m){try{var g=o.j;if(g.I!=0&&(g.g==o||Ls(g.h,o))){if(!o.L&&Ls(g.h,o)&&g.I==3){try{var T=g.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!g.v){if(g.g)if(g.g.F+3e3<o.F)xa(g),Yn(g);else break t;Hr(g),ue(18)}}else g.xa=z[1],0<g.xa-g.K&&z[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Li(_(g.Va,g),6e3));yn(g.h)<=1&&g.ta&&(g.ta=void 0)}else mi(g,11)}else if((o.L||g.g==o)&&xa(g),!R(m))for(z=g.Ba.g.parse(m),m=0;m<z.length;m++){let qt=z[m];const he=qt[0];if(!(he<=g.K))if(g.K=he,qt=qt[1],g.I==2)if(qt[0]=="c"){g.M=qt[1],g.ba=qt[2];const rn=qt[3];rn!=null&&(g.ka=rn,g.j.info("VER="+g.ka));const Fn=qt[4];Fn!=null&&(g.za=Fn,g.j.info("SVER="+g.za));const Mn=qt[5];Mn!=null&&typeof Mn=="number"&&Mn>0&&(T=1.5*Mn,g.O=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const xn=o.g;if(xn){const Un=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Un){var k=T.h;k.g||Un.indexOf("spdy")==-1&&Un.indexOf("quic")==-1&&Un.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Ca(k,k.h),k.h=null))}if(T.G){const Fr=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fr&&(T.wa=Fr,Gt(T.J,T.G,Fr))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-o.F,g.j.info("Handshake RTT: "+g.T+"ms")),T=g;var J=o;if(T.na=Au(T,T.L?T.ba:null,T.W),J.L){ci(T.h,J);var vt=J,$t=T.O;$t&&(vt.H=$t),vt.D&&(Gn(vt),Os(vt)),T.g=J}else _u(T);g.i.length>0&&Xs(g)}else qt[0]!="stop"&&qt[0]!="close"||mi(g,7);else g.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?mi(g,7):Ys(g):qt[0]!="noop"&&g.l&&g.l.qa(qt),g.A=0)}}Ui(4)}catch{}}var Sc=class{constructor(o,m){this.g=o,this.map=m}};function xs(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Us(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function yn(o){return o.h?1:o.g?o.g.size:0}function Ls(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ca(o,m){o.g?o.g.add(m):o.h=m}function ci(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}xs.prototype.cancel=function(){if(this.i=Da(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Da(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.G);return m}return j(o.i)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bc(o,m){if(o){o=o.split("&");for(let g=0;g<o.length;g++){const T=o[g].indexOf("=");let z,k=null;T>=0?(z=o[g].substring(0,T),k=o[g].substring(T+1)):z=o[g],m(z,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Nn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof Nn?(this.l=o.l,ki(this,o.j),this.o=o.o,this.g=o.g,zs(this,o.u),this.h=o.h,ji(this,mu(o.i)),this.m=o.m):o&&(m=String(o).match(Va))?(this.l=!1,ki(this,m[1]||"",!0),this.o=Ps(m[2]||""),this.g=Ps(m[3]||"",!0),zs(this,m[4]),this.h=Ps(m[5]||"",!0),ji(this,m[6]||"",!0),this.m=Ps(m[7]||"")):(this.l=!1,this.i=new _n(null,this.l))}Nn.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Ce(m,Lr,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Ce(m,Lr,!0),"@"),o.push(Ns(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&o.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Ce(g,g.charAt(0)=="/"?Hi:zr,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Ce(g,fu)),o.join("")},Nn.prototype.resolve=function(o){const m=ne(this);let g=!!o.j;g?ki(m,o.j):g=!!o.o,g?m.o=o.o:g=!!o.g,g?m.g=o.g:g=o.u!=null;var T=o.h;if(g)zs(m,o.u);else if(g=!!o.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=m.h.lastIndexOf("/");z!=-1&&(T=m.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const k=[];for(let J=0;J<z.length;){const vt=z[J++];vt=="."?T&&J==z.length&&k.push(""):vt==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),T&&J==z.length&&k.push("")):(k.push(vt),T=!0)}T=k.join("/")}else T=z}return g?m.h=T:g=o.i.toString()!=="",g?ji(m,mu(o.i)):g=!!o.m,g&&(m.m=o.m),m};function ne(o){return new Nn(o)}function ki(o,m,g){o.j=g?Ps(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function zs(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function ji(o,m,g){m instanceof _n?(o.i=m,qr(o.i,o.l)):(g||(m=Ce(m,hu)),o.i=new _n(m,o.l))}function Gt(o,m,g){o.i.set(m,g)}function hi(o){return Gt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Ps(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ce(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,Ur),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Ur(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Lr=/[#\/\?@]/g,zr=/[#\?:]/g,Hi=/[#\?]/g,hu=/[#\?@]/g,fu=/#/g;function _n(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function fi(o){o.g||(o.g=new Map,o.h=0,o.i&&bc(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}r=_n.prototype,r.add=function(o,m){fi(this),this.i=null,o=On(this,o);let g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function Pr(o,m){fi(o),m=On(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Br(o,m){return fi(o),m=On(o,m),o.g.has(m)}r.forEach=function(o,m){fi(this),this.g.forEach(function(g,T){g.forEach(function(z){o.call(m,z,T,this)},this)},this)};function Ia(o,m){fi(o);let g=[];if(typeof m=="string")Br(o,m)&&(g=g.concat(o.g.get(On(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)g=g.concat(o[m]);return g}r.set=function(o,m){return fi(this),this.i=null,o=On(this,o),Br(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=Ia(this,o),o.length>0?String(o[0]):m):m};function du(o,m,g){Pr(o,m),g.length>0&&(o.i=null,o.g.set(On(o,m),j(g)),o.h+=g.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var g=m[T];const z=Ns(g);g=Ia(this,g);for(let k=0;k<g.length;k++){let J=z;g[k]!==""&&(J+="="+Ns(g[k])),o.push(J)}}return this.i=o.join("&")};function mu(o){const m=new _n;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function On(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function qr(o,m){m&&!o.j&&(fi(o),o.i=null,o.g.forEach(function(g,T){const z=T.toLowerCase();T!=z&&(Pr(this,T),du(this,z,g))},o)),o.j=m}function kr(o,m){const g=new zi;if(d.Image){const T=new Image;T.onload=A(Xe,g,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Xe,g,"TestLoadImage: error",!1,m,T),T.onabort=A(Xe,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Xe,g,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Gi(o,m){const g=new zi,T=new AbortController,z=setTimeout(()=>{T.abort(),Xe(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(z),k.ok?Xe(g,"TestPingServer: ok",!0,m):Xe(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Xe(g,"TestPingServer: error",!1,m)})}function Xe(o,m,g,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(g)}catch{}}function gu(){this.g=new Ec}function Bs(o){this.i=o.Sb||null,this.h=o.ab||!1}C(Bs,lu),Bs.prototype.g=function(){return new qs(this.i,this.h)};function qs(o,m){ve.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(qs,ve),r=qs.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,di(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ke(this)),this.readyState=0},r.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qi(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qi(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}r.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Ke(this):di(this),this.readyState==3&&Qi(this)}},r.Oa=function(o){this.g&&(this.response=this.responseText=o,Ke(this))},r.Na=function(o){this.g&&(this.response=o,Ke(this))},r.ga=function(){this.g&&Ke(this)};function Ke(o){o.readyState=4,o.l=null,o.j=null,o.B=null,di(o)}r.setRequestHeader=function(o,m){this.A.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function di(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Yi(o){let m="";return Ut(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function vn(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Yi(g),typeof o=="string"?g!=null&&Ns(g):Gt(o,m,g))}function Kt(o){ve.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(Kt,ve);var Na=/^https?$/i,pu=["POST","PUT"];r=Kt.prototype,r.Fa=function(o){this.H=o},r.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():oi.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){ks(this,k);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)g.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())g.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),z=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(pu,m,void 0)>=0)||T||z||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,J]of g)this.g.setRequestHeader(k,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(k){ks(this,k)}};function ks(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,js(o),Ee(o)}function js(o){o.A||(o.A=!0,we(o,"complete"),we(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,we(this,"complete"),we(this,"abort"),Ee(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ee(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?jr(this):this.Xa())},r.Xa=function(){jr(this)};function jr(o){if(o.h&&typeof h<"u"){if(o.v&&ke(o)==4)setTimeout(o.Ca.bind(o),0);else if(we(o,"readystatechange"),ke(o)==4){o.h=!1;try{const k=o.ca();t:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=k===0){let J=String(o.D).match(Va)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!Na.test(J?J.toLowerCase():"")}g=T}if(g)we(o,"complete"),we(o,"success");else{o.o=6;try{var z=ke(o)>2?o.g.statusText:""}catch{z=""}o.l=z+" ["+o.ca()+"]",js(o)}}finally{Ee(o)}}}}function Ee(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const g=o.g;o.g=null,m||we(o,"ready");try{g.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ke(o){return o.g?o.g.readyState:0}r.ca=function(){try{return ke(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Fe(m)}};function Hs(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(o){const m={};o=(o.g&&ke(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(R(o[T]))continue;var g=Ac(o[T]);const z=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=m[z]||[];m[z]=k,k.push(g)}D(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Oa(o){this.za=0,this.i=[],this.j=new zi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qs("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qs("baseRetryDelayMs",5e3,o),this.Za=Qs("retryDelaySeedMs",1e4,o),this.Ta=Qs("forwardChannelMaxRetries",2,o),this.va=Qs("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new xs(o&&o.concurrentRequestLimit),this.Ba=new gu,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Oa.prototype,r.ka=8,r.I=1,r.connect=function(o,m,g,T){ue(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.J=Au(this,null,this.W),Xs(this)};function Ys(o){if(Fs(o),o.I==3){var m=o.V++,g=ne(o.J);if(Gt(g,"SID",o.M),Gt(g,"RID",m),Gt(g,"TYPE","terminate"),Ks(o,g),m=new In(o,o.j,m),m.M=2,m.A=hi(ne(g)),g=!1,d.navigator&&d.navigator.sendBeacon)try{g=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&d.Image&&(new Image().src=m.A,g=!0),g||(m.g=Ua(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Os(m)}Tu(o)}function Yn(o){o.g&&(Gr(o),o.g.cancel(),o.g=null)}function Fs(o){Yn(o),o.v&&(d.clearTimeout(o.v),o.v=null),xa(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function Xs(o){if(!Us(o.h)&&!o.m){o.m=!0;var m=o.Ea;pt||S(),xt||(pt(),xt=!0),N.add(m,o),o.D=0}}function Rc(o,m){return yn(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Li(_(o.Ea,o,m),Eu(o,o.D)),o.D++,!0)}r.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const z=new In(this,this.j,o);let k=this.o;if(this.U&&(k?(k=X(k),W(k,this.U)):k=this.U),this.u!==null||this.R||(z.J=k,k=null),this.S)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=Ma(this,z,m),g=ne(this.J),Gt(g,"RID",o),Gt(g,"CVER",22),this.G&&Gt(g,"X-HTTP-Session-Id",this.G),Ks(this,g),k&&(this.R?m="headers="+Ns(Yi(k))+"&"+m:this.u&&vn(g,this.u,k)),Ca(this.h,z),this.Ra&&Gt(g,"TYPE","init"),this.S?(Gt(g,"$req",m),Gt(g,"SID","null"),z.U=!0,jn(z,g,null)):jn(z,g,m),this.I=2}}else this.I==3&&(o?yu(this,o):this.i.length==0||Us(this.h)||yu(this))};function yu(o,m){var g;m?g=m.l:g=o.V++;const T=ne(o.J);Gt(T,"SID",o.M),Gt(T,"RID",g),Gt(T,"AID",o.K),Ks(o,T),o.u&&o.o&&vn(T,o.u,o.o),g=new In(o,o.j,g,o.D+1),o.u===null&&(g.J=o.o),m&&(o.i=m.G.concat(o.i)),m=Ma(o,g,1e3),g.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Ca(o.h,g),jn(g,T,m)}function Ks(o,m){o.H&&Ut(o.H,function(g,T){Gt(m,T,g)}),o.l&&Ut({},function(g,T){Gt(m,T,g)})}function Ma(o,m,g){g=Math.min(o.i.length,g);const T=o.l?_(o.l.Ka,o.l,o):null;t:{var z=o.i;let vt=-1;for(;;){const $t=["count="+g];vt==-1?g>0?(vt=z[0].g,$t.push("ofs="+vt)):vt=0:$t.push("ofs="+vt);let qt=!0;for(let he=0;he<g;he++){var k=z[he].g;const rn=z[he].map;if(k-=vt,k<0)vt=Math.max(0,z[he].g-100),qt=!1;else try{k="req"+k+"_"||"";try{var J=rn instanceof Map?rn:Object.entries(rn);for(const[Fn,Mn]of J){let xn=Mn;y(Mn)&&(xn=gn(Mn)),$t.push(k+Fn+"="+encodeURIComponent(xn))}}catch(Fn){throw $t.push(k+"type="+encodeURIComponent("_badmap")),Fn}}catch{T&&T(rn)}}if(qt){J=$t.join("&");break t}}J=void 0}return o=o.i.splice(0,g),m.G=o,J}function _u(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;pt||S(),xt||(pt(),xt=!0),N.add(m,o),o.A=0}}function Hr(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Li(_(o.Da,o),Eu(o,o.A)),o.A++,!0)}r.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Li(_(this.Wa,this),o)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ue(10),Yn(this),vu(this))};function Gr(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function vu(o){o.g=new In(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=ne(o.na);Gt(m,"RID","rpc"),Gt(m,"SID",o.M),Gt(m,"AID",o.K),Gt(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&Gt(m,"TO",o.ia),Gt(m,"TYPE","xmlhttp"),Ks(o,m),o.u&&o.o&&vn(m,o.u,o.o),o.O&&(o.g.H=o.O);var g=o.g;o=o.ba,g.M=1,g.A=hi(ne(m)),g.u=null,g.R=!0,Bi(g,o)}r.Va=function(){this.C!=null&&(this.C=null,Yn(this),Hr(this),ue(19))};function xa(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Qr(o,m){var g=null;if(o.g==m){xa(o),Gr(o),o.g=null;var T=2}else if(Ls(o.h,m))g=m.G,ci(o.h,m),T=1;else return;if(o.I!=0){if(m.o)if(T==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var z=o.D;T=Sa(),we(T,new ou(T,g)),Xs(o)}else _u(o);else if(z=m.m,z==3||z==0&&m.X>0||!(T==1&&Rc(o,m)||T==2&&Hr(o)))switch(g&&g.length>0&&(m=o.h,m.i=m.i.concat(g)),z){case 1:mi(o,5);break;case 4:mi(o,10);break;case 3:mi(o,6);break;default:mi(o,2)}}}function Eu(o,m){let g=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(g*=2),g*m}function mi(o,m){if(o.j.info("Error code "+m),m==2){var g=_(o.bb,o),T=o.Ua;const z=!T;T=new Nn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ki(T,"https"),hi(T),z?kr(T.toString(),g):Gi(T.toString(),g)}else ue(2);o.I=0,o.l&&o.l.pa(m),Tu(o),Fs(o)}r.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Tu(o){if(o.I=0,o.ja=[],o.l){const m=Da(o.h);(m.length!=0||o.i.length!=0)&&($(o.ja,m),$(o.ja,o.i),o.h.i.length=0,j(o.i),o.i.length=0),o.l.oa()}}function Au(o,m,g){var T=g instanceof Nn?ne(g):new Nn(g);if(T.g!="")m&&(T.g=m+"."+T.g),zs(T,T.u);else{var z=d.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const k=new Nn(null);T&&ki(k,T),m&&(k.g=m),z&&zs(k,z),g&&(k.h=g),T=k}return g=o.G,m=o.wa,g&&m&&Gt(T,g,m),Gt(T,"VER",o.ka),Ks(o,T),T}function Ua(o,m,g){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Kt(new Bs({ab:g})):new Kt(o.ma),m.Fa(o.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function La(){}La.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){ve.call(this),this.g=new Oa(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!R(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fi(this)}C(Ze,ve),Ze.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Ys(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.v&&(g={},g.__data__=gn(o),o=g);m.i.push(new Sc(m.Ya++,o)),m.I==3&&Xs(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Ys(this.g),delete this.g,Ze.Z.N.call(this)};function Yr(o){Mi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}C(Yr,Mi);function bu(){Vn.call(this),this.status=1}C(bu,Vn);function Fi(o){this.g=o}C(Fi,Su),Fi.prototype.ra=function(){we(this.g,"a")},Fi.prototype.qa=function(o){we(this.g,new Yr(o))},Fi.prototype.pa=function(o){we(this.g,new bu)},Fi.prototype.oa=function(){we(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,V_=function(){return new La},D_=function(){return Sa()},C_=pn,Pf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,No=oe,Me.COMPLETE="complete",w_=Me,uu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,zl=uu,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,R_=Kt}).apply(typeof wo<"u"?wo:typeof self<"u"?self:typeof window<"u"?window:{});const py="@firebase/firestore",yy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new __("@firebase/firestore");function hr(){return pa.logLevel}function it(r,...e){if(pa.logLevel<=Mt.DEBUG){const i=e.map(rd);pa.debug(`Firestore (${Rr}): ${r}`,...i)}}function Ii(r,...e){if(pa.logLevel<=Mt.ERROR){const i=e.map(rd);pa.error(`Firestore (${Rr}): ${r}`,...i)}}function _r(r,...e){if(pa.logLevel<=Mt.WARN){const i=e.map(rd);pa.warn(`Firestore (${Rr}): ${r}`,...i)}}function rd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,I_(r,a,i)}function I_(r,e,i){let a=`FIRESTORE (${Rr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ii(a),new Error(a)}function Bt(r,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,r||I_(e,u,a)}function Et(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends br{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Qe.UNAUTHENTICATED)))}shutdown(){}}class S1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class b1{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Bt(this.o===void 0,42304);let a=this.i;const u=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new da;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new da,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new da)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Bt(typeof a.accessToken=="string",31837,{l:a}),new N_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class R1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new R1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _y{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,a1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Bt(this.o===void 0,3512);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _y(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new _y(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=D1(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function Vt(r,e){return r<e?-1:r>e?1:0}function Bf(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const u=r.charAt(a),h=e.charAt(a);if(u!==h)return Cf(u)===Cf(h)?Vt(u,h):Cf(u)?1:-1}return Vt(r.length,e.length)}const V1=55296,I1=57343;function Cf(r){const e=r.charCodeAt(0);return e>=V1&&e<=I1}function vr(r,e,i){return r.length===e.length&&r.every(((a,u)=>i(a,e[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="__name__";class Wn{constructor(e,i,a){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&dt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Wn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const a=Wn.isNumericId(e),u=Wn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):Bf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class Jt extends Wn{construct(e,i,a){return new Jt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new at(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((u=>u.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const N1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Wn{construct(e,i,a){return new Pe(e,i,a)}static isValidIdentifier(e){return N1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vy}static keyField(){return new Pe([vy])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new at(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(a+=y,u++):(h(),u++)}if(h(),d)throw new at(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(Jt.fromString(e))}static fromName(e){return new ct(Jt.fromString(e).popFirst(5))}static empty(){return new ct(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(r,e,i){if(!i)throw new at(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function O1(r,e,i,a){if(e===!0&&a===!0)throw new at(K.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Ey(r){if(!ct.isDocumentKey(r))throw new at(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ty(r){if(ct.isDocumentKey(r))throw new at(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function M_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ud(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":dt(12329,{type:typeof r})}function ma(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new at(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ud(r);throw new at(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,e){const i={typeString:r};return e&&(i.value=e),i}function eu(r,e){if(!M_(r))throw new at(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const u=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(u&&typeof d!==u){i=`JSON field '${a}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new at(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=-62135596800,Sy=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Sy);return new Wt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ay)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sy}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,Wt._jsonSchema))return new Wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ay;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:_e("string",Wt._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Wt(0,0))}static max(){return new _t(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function M1(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,u=_t.fromTimestamp(a===1e9?new Wt(i+1,0):new Wt(i,a));return new Es(u,ct.empty(),e)}function x1(r){return new Es(r.readTime,r.key,Xl)}class Es{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Es(_t.min(),ct.empty(),Xl)}static max(){return new Es(_t.max(),ct.empty(),Xl)}}function U1(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,e.documentKey),i!==0?i:Vt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wr(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==L1)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F(((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):F.reject(i)}static resolve(e){return new F(((i,a)=>{i(e)}))}static reject(e){return new F(((i,a)=>{a(e)}))}static waitFor(e){return new F(((i,a)=>{let u=0,h=0,d=!1;e.forEach((y=>{++u,y.next((()=>{++h,d&&h===u&&i()}),(v=>a(v)))})),d=!0,h===u&&i()}))}static or(e){let i=F.resolve(!1);for(const a of e)i=i.next((u=>u?F.resolve(u):a()));return i}static forEach(e,i){const a=[];return e.forEach(((u,h)=>{a.push(i.call(this,u,h))})),this.waitFor(a)}static mapArray(e,i){return new F(((a,u)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&a(d)}),(A=>u(A)))}}))}static doWhile(e,i){return new F(((a,u)=>{const h=()=>{e()===!0?i().next((()=>{h()}),u):a()};h()}))}}function P1(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Cr(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=-1;function ec(r){return r==null}function jo(r){return r===0&&1/r==-1/0}function B1(r){return typeof r=="number"&&Number.isInteger(r)&&!jo(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="";function q1(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=by(e)),e=k1(r.get(i),e);return by(e)}function k1(r,e){let i=e;const a=r.length;for(let u=0;u<a;u++){const h=r.charAt(u);switch(h){case"\0":i+="";break;case x_:i+="";break;default:i+=h}}return i}function by(r){return r+x_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ws(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function U_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Co(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Co(this.root,e,this.comparator,!1)}getReverseIterator(){return new Co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Co(this.root,e,this.comparator,!0)}}class Co{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new ze(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new wy(this.data.getIterator())}getIteratorFrom(e){return new wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new mn([])}unionWith(e){let i=new Re(Pe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return vr(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new L_("Invalid base64 string: "+h):h}})(e);return new Be(i)}static fromUint8Array(e){const i=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const j1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(r){if(Bt(!!r,39018),typeof r=="string"){let e=0;const i=j1.exec(r);if(Bt(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function As(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="server_timestamp",P_="__type__",B_="__previous_value__",q_="__local_write_time__";function cd(r){var i,a;return((a=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[P_])==null?void 0:a.stringValue)===z_}function nc(r){const e=r.mapValue.fields[B_];return cd(e)?nc(e):e}function Kl(r){const e=Ts(r.mapValue.fields[q_].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,i,a,u,h,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Ho="(default)";class Zl{constructor(e,i){this.projectId=e,this.database=i||Ho}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Ho}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="__type__",G1="__max__",Do={mapValue:{}},j_="__vector__",Go="value";function Ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cd(r)?4:Y1(r)?9007199254740991:Q1(r)?10:11:dt(28295,{value:r})}function ai(r,e){if(r===e)return!0;const i=Ss(r);if(i!==Ss(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Kl(r).isEqual(Kl(e));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Ts(u.timestampValue),y=Ts(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(u,h){return As(u.bytesValue).isEqual(As(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(u,h){return me(u.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(u.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(r,e);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return me(u.integerValue)===me(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=me(u.doubleValue),y=me(h.doubleValue);return d===y?jo(d)===jo(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return vr(r.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if(Ry(d)!==Ry(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!ai(d[v],y[v])))return!1;return!0})(r,e);default:return dt(52216,{left:r})}}function $l(r,e){return(r.values||[]).find((i=>ai(i,e)))!==void 0}function Er(r,e){if(r===e)return 0;const i=Ss(r),a=Ss(e);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=me(h.integerValue||h.doubleValue),v=me(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return Cy(r.timestampValue,e.timestampValue);case 4:return Cy(Kl(r),Kl(e));case 5:return Bf(r.stringValue,e.stringValue);case 6:return(function(h,d){const y=As(h),v=As(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Vt(y[_],v[_]);if(A!==0)return A}return Vt(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Vt(me(h.latitude),me(d.latitude));return y!==0?y:Vt(me(h.longitude),me(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Dy(r.arrayValue,e.arrayValue);case 10:return(function(h,d){var M,j,$,tt;const y=h.fields||{},v=d.fields||{},_=(M=y[Go])==null?void 0:M.arrayValue,A=(j=v[Go])==null?void 0:j.arrayValue,C=Vt((($=_==null?void 0:_.values)==null?void 0:$.length)||0,((tt=A==null?void 0:A.values)==null?void 0:tt.length)||0);return C!==0?C:Dy(_,A)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Do.mapValue&&d===Do.mapValue)return 0;if(h===Do.mapValue)return 1;if(d===Do.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let C=0;C<v.length&&C<A.length;++C){const M=Bf(v[C],A[C]);if(M!==0)return M;const j=Er(y[v[C]],_[A[C]]);if(j!==0)return j}return Vt(v.length,A.length)})(r.mapValue,e.mapValue);default:throw dt(23264,{he:i})}}function Cy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Vt(r,e);const i=Ts(r),a=Ts(e),u=Vt(i.seconds,a.seconds);return u!==0?u:Vt(i.nanos,a.nanos)}function Dy(r,e){const i=r.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=Er(i[u],a[u]);if(h)return h}return Vt(i.length,a.length)}function Tr(r){return qf(r)}function qf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ts(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return As(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=qf(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${qf(i.fields[d])}`;return u+"}"})(r.mapValue):dt(61005,{value:r})}function Oo(r){switch(Ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nc(r);return e?16+Oo(e):16;case 5:return 2*r.stringValue.length;case 6:return As(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((u,h)=>u+Oo(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let u=0;return ws(a.fields,((h,d)=>{u+=h.length+Oo(d)})),u})(r.mapValue);default:throw dt(13486,{value:r})}}function kf(r){return!!r&&"integerValue"in r}function hd(r){return!!r&&"arrayValue"in r}function Vy(r){return!!r&&"nullValue"in r}function Iy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mo(r){return!!r&&"mapValue"in r}function Q1(r){var i,a;return((a=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[k_])==null?void 0:a.stringValue)===j_}function jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ws(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=jl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=jl(r.arrayValue.values[i]);return e}return{...r}}function Y1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===G1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Mo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(i)}setAll(e){let i=Pe.emptyPath(),a={},u=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,a,u),a={},u=[],i=y.popLast()}d?a[y.lastSegment()]=jl(d):u.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Mo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Mo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){ws(i,((u,h)=>e[u]=h));for(const u of a)delete e[u]}clone(){return new an(jl(this.value))}}function H_(r){const e=[];return ws(r.fields,((i,a)=>{const u=new Pe([i]);if(Mo(a)){const h=H_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)})),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,a,u,h,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ye(e,0,_t.min(),_t.min(),_t.min(),an.empty(),0)}static newFoundDocument(e,i,a,u){return new Ye(e,1,i,_t.min(),a,u,0)}static newNoDocument(e,i){return new Ye(e,2,i,_t.min(),_t.min(),an.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,_t.min(),_t.min(),an.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,i){this.position=e,this.inclusive=i}}function Ny(r,e,i){let a=0;for(let u=0;u<r.position.length;u++){const h=e[u],d=r.position[u];if(h.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=Er(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Oy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ai(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,i="asc"){this.field=e,this.dir=i}}function F1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{}class Se extends G_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new K1(e,i,a):i==="array-contains"?new J1(e,a):i==="in"?new W1(e,a):i==="not-in"?new tA(e,a):i==="array-contains-any"?new eA(e,a):new Se(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Z1(e,a):new $1(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Er(i,this.value)):i!==null&&Ss(this.value)===Ss(i)&&this.matchesComparison(Er(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends G_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ri(e,i)}matches(e){return Q_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Q_(r){return r.op==="and"}function Y_(r){return X1(r)&&Q_(r)}function X1(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function jf(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+Tr(r.value);if(Y_(r))return r.filters.map((e=>jf(e))).join(",");{const e=r.filters.map((i=>jf(i))).join(",");return`${r.op}(${e})`}}function F_(r,e){return r instanceof Se?(function(a,u){return u instanceof Se&&a.op===u.op&&a.field.isEqual(u.field)&&ai(a.value,u.value)})(r,e):r instanceof ri?(function(a,u){return u instanceof ri&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce(((h,d,y)=>h&&F_(d,u.filters[y])),!0):!1})(r,e):void dt(19439)}function X_(r){return r instanceof Se?(function(i){return`${i.field.canonicalString()} ${i.op} ${Tr(i.value)}`})(r):r instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(X_).join(" ,")+"}"})(r):"Filter"}class K1 extends Se{constructor(e,i,a){super(e,i,a),this.key=ct.fromName(a.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class Z1 extends Se{constructor(e,i){super(e,"in",i),this.keys=K_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class $1 extends Se{constructor(e,i){super(e,"not-in",i),this.keys=K_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function K_(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((a=>ct.fromName(a.referenceValue)))}class J1 extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return hd(i)&&$l(i.arrayValue,this.value)}}class W1 extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class tA extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$l(this.value.arrayValue,i)}}class eA extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!hd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>$l(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,i=null,a=[],u=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function My(r,e=null,i=[],a=[],u=null,h=null,d=null){return new nA(r,e,i,a,u,h,d)}function fd(r){const e=Et(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>jf(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),ec(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Tr(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Tr(a))).join(",")),e.Te=i}return e.Te}function dd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!F1(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!F_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Oy(r.startAt,e.startAt)&&Oy(r.endAt,e.endAt)}function Hf(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i=null,a=[],u=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iA(r,e,i,a,u,h,d,y){return new ic(r,e,i,a,u,h,d,y)}function md(r){return new ic(r)}function xy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sA(r){return r.collectionGroup!==null}function Hl(r){const e=Et(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Re(Pe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Yo(h,a))})),i.has(Pe.keyField().canonicalString())||e.Ie.push(new Yo(Pe.keyField(),a))}return e.Ie}function ti(r){const e=Et(r);return e.Ee||(e.Ee=aA(e,Hl(r))),e.Ee}function aA(r,e){if(r.limitType==="F")return My(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new Yo(u.field,h)}));const i=r.endAt?new Qo(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Qo(r.startAt.position,r.startAt.inclusive):null;return My(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function Gf(r,e,i){return new ic(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function sc(r,e){return dd(ti(r),ti(e))&&r.limitType===e.limitType}function Z_(r){return`${fd(ti(r))}|lt:${r.limitType}`}function fr(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((u=>X_(u))).join(", ")}]`),ec(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((u=>Tr(u))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((u=>Tr(u))).join(",")),`Target(${a})`})(ti(r))}; limitType=${r.limitType})`}function ac(r,e){return e.isFoundDocument()&&(function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ct.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,e)&&(function(a,u){for(const h of Hl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0})(r,e)&&(function(a,u){return!(a.startAt&&!(function(d,y,v){const _=Ny(d,y,v);return d.inclusive?_<=0:_<0})(a.startAt,Hl(a),u)||a.endAt&&!(function(d,y,v){const _=Ny(d,y,v);return d.inclusive?_>=0:_>0})(a.endAt,Hl(a),u))})(r,e)}function rA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function $_(r){return(e,i)=>{let a=!1;for(const u of Hl(r)){const h=lA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function lA(r,e,i){const a=r.field.isKeyField()?ct.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Er(v,_):dt(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return dt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,((i,a)=>{for(const[u,h]of a)e(u,h)}))}isEmpty(){return U_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=new se(ct.comparator);function Ni(){return uA}const J_=new se(ct.comparator);function Pl(...r){let e=J_;for(const i of r)e=e.insert(i.key,i);return e}function W_(r){let e=J_;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function fa(){return Gl()}function tv(){return Gl()}function Gl(){return new _a((r=>r.toString()),((r,e)=>r.isEqual(e)))}const oA=new se(ct.comparator),cA=new Re(ct.comparator);function It(...r){let e=cA;for(const i of r)e=e.add(i);return e}const hA=new Re(Vt);function fA(){return hA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jo(e)?"-0":e}}function ev(r){return{integerValue:""+r}}function dA(r,e){return B1(e)?ev(e):gd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function mA(r,e,i){return r instanceof Fo?(function(u,h){const d={fields:{[P_]:{stringValue:z_},[q_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&cd(h)&&(h=nc(h)),h&&(d.fields[B_]=h),{mapValue:d}})(i,e):r instanceof Jl?iv(r,e):r instanceof Wl?sv(r,e):(function(u,h){const d=nv(u,h),y=Uy(d)+Uy(u.Ae);return kf(d)&&kf(u.Ae)?ev(y):gd(u.serializer,y)})(r,e)}function gA(r,e,i){return r instanceof Jl?iv(r,e):r instanceof Wl?sv(r,e):i}function nv(r,e){return r instanceof Xo?(function(a){return kf(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class Fo extends rc{}class Jl extends rc{constructor(e){super(),this.elements=e}}function iv(r,e){const i=av(e);for(const a of r.elements)i.some((u=>ai(u,a)))||i.push(a);return{arrayValue:{values:i}}}class Wl extends rc{constructor(e){super(),this.elements=e}}function sv(r,e){let i=av(e);for(const a of r.elements)i=i.filter((u=>!ai(u,a)));return{arrayValue:{values:i}}}class Xo extends rc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Uy(r){return me(r.integerValue||r.doubleValue)}function av(r){return hd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function pA(r,e){return r.field.isEqual(e.field)&&(function(a,u){return a instanceof Jl&&u instanceof Jl||a instanceof Wl&&u instanceof Wl?vr(a.elements,u.elements,ai):a instanceof Xo&&u instanceof Xo?ai(a.Ae,u.Ae):a instanceof Fo&&u instanceof Fo})(r.transform,e.transform)}class yA{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xo(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class lc{}function rv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new uv(r.key,ei.none()):new nu(r.key,r.data,ei.none());{const i=r.data,a=an.empty();let u=new Re(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new Cs(r.key,a,new mn(u.toArray()),ei.none())}}function _A(r,e,i){r instanceof nu?(function(u,h,d){const y=u.value.clone(),v=zy(u.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof Cs?(function(u,h,d){if(!xo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=zy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(lv(u)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ql(r,e,i,a){return r instanceof nu?(function(h,d,y,v){if(!xo(h.precondition,d))return y;const _=h.value.clone(),A=Py(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Cs?(function(h,d,y,v){if(!xo(h.precondition,d))return y;const _=Py(h.fieldTransforms,v,d),A=d.data;return A.setAll(lv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(r,e,i,a):(function(h,d,y){return xo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function vA(r,e){let i=null;for(const a of r.fieldTransforms){const u=e.data.field(a.field),h=nv(a.transform,u||null);h!=null&&(i===null&&(i=an.empty()),i.set(a.field,h))}return i||null}function Ly(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&vr(a,u,((h,d)=>pA(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class nu extends lc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Cs extends lc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function lv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function zy(r,e,i){const a=new Map;Bt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let u=0;u<i.length;u++){const h=r[u],d=h.transform,y=e.data.field(h.field);a.set(h.field,gA(d,y,i[u]))}return a}function Py(r,e,i){const a=new Map;for(const u of r){const h=u.transform,d=i.data.field(u.field);a.set(u.field,mA(h,d,e))}return a}class uv extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EA extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&_A(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ql(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ql(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=tv();return this.mutations.forEach((u=>{const h=e.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(u.key)?null:y;const v=rv(d,y);v!==null&&a.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),It())}isEqual(e){return this.batchId===e.batchId&&vr(this.mutations,e.mutations,((i,a)=>Ly(i,a)))&&vr(this.baseMutations,e.baseMutations,((i,a)=>Ly(i,a)))}}class pd{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){Bt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let u=(function(){return oA})();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new pd(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Ot;function bA(r){switch(r){case K.OK:return dt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return dt(15467,{code:r})}}function ov(r){if(r===void 0)return Ii("GRPC error has no .code"),K.UNKNOWN;switch(r){case ye.OK:return K.OK;case ye.CANCELLED:return K.CANCELLED;case ye.UNKNOWN:return K.UNKNOWN;case ye.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ye.INTERNAL:return K.INTERNAL;case ye.UNAVAILABLE:return K.UNAVAILABLE;case ye.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ye.NOT_FOUND:return K.NOT_FOUND;case ye.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ye.ABORTED:return K.ABORTED;case ye.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ye.DATA_LOSS:return K.DATA_LOSS;default:return dt(39323,{code:r})}}(Ot=ye||(ye={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=new _s([4294967295,4294967295],0);function By(r){const e=RA().encode(r),i=new b_;return i.update(e),new Uint8Array(i.digest())}function qy(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new _s([i,a],0),new _s([u,h],0)]}class yd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(a<0)throw new Bl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=_s.fromNumber(this.ge)}ye(e,i,a){let u=e.add(i.multiply(_s.fromNumber(a)));return u.compare(wA)===1&&(u=new _s([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=By(e),[a,u]=qy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,u,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new yd(h,u,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=By(e),[a,u]=qy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new uc(_t.min(),u,new se(Vt),Ni(),It())}}class iu{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new iu(a,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,i,a,u){this.be=e,this.removedTargetIds=i,this.key=a,this.De=u}}class cv{constructor(e,i){this.targetId=e,this.Ce=i}}class hv{constructor(e,i,a=Be.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class ky{constructor(){this.ve=0,this.Fe=jy(),this.Me=Be.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),a=It();return this.Fe.forEach(((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:dt(38017,{changeType:h})}})),new iu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=jy()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ni(),this.Je=Vo(),this.He=Vo(),this.Ye=new se(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:dt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,a=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(Hf(h))if(a===0){const d=new ct(h.path);this.et(i,d,Ye.newNoDocument(d,_t.min()))}else Bt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,y;try{d=As(a).toUint8Array()}catch(v){if(v instanceof L_)return _r("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new yd(d,u,h)}catch(v){return _r(v instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let u=0;return a.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Hf(y.target)){const v=new ct(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ye.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=It();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const u=new uc(e,i,this.Ye,this.je,a);return this.je=Ni(),this.Je=Vo(),this.He=Vo(),this.Ye=new se(Vt),u}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new ky,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Re(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Re(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ky),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Vo(){return new se(ct.comparator)}function jy(){return new se(ct.comparator)}const DA={asc:"ASCENDING",desc:"DESCENDING"},VA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IA={and:"AND",or:"OR"};class NA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Qf(r,e){return r.useProto3Json||ec(e)?e:{value:e}}function Ko(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function OA(r,e){return Ko(r,e.toTimestamp())}function ni(r){return Bt(!!r,49232),_t.fromTimestamp((function(i){const a=Ts(i);return new Wt(a.seconds,a.nanos)})(r))}function _d(r,e){return Yf(r,e).canonicalString()}function Yf(r,e){const i=(function(u){return new Jt(["projects",u.projectId,"databases",u.database])})(r).child("documents");return e===void 0?i:i.child(e)}function dv(r){const e=Jt.fromString(r);return Bt(_v(e),10190,{key:e.toString()}),e}function Ff(r,e){return _d(r.databaseId,e.path)}function Df(r,e){const i=dv(e);if(i.get(1)!==r.databaseId.projectId)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(gv(i))}function mv(r,e){return _d(r.databaseId,e)}function MA(r){const e=dv(r);return e.length===4?Jt.emptyPath():gv(e)}function Xf(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gv(r){return Bt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Hy(r,e,i){return{name:Ff(r,e),fields:i.value.mapValue.fields}}function xA(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?K.UNKNOWN:ov(_.code);return new at(A,_.message||"")})(d);i=new hv(a,u,h,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Df(r,a.document.name),h=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):_t.min(),y=new an({mapValue:{fields:a.document.fields}}),v=Ye.newFoundDocument(u,h,d,y),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Uo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Df(r,a.document),h=a.readTime?ni(a.readTime):_t.min(),d=Ye.newNoDocument(u,h),y=a.removedTargetIds||[];i=new Uo([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Df(r,a.document),h=a.removedTargetIds||[];i=new Uo([],h,u,null)}else{if(!("filter"in e))return dt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new SA(u,h),y=a.targetId;i=new cv(y,d)}}return i}function UA(r,e){let i;if(e instanceof nu)i={update:Hy(r,e.key,e.value)};else if(e instanceof uv)i={delete:Ff(r,e.key)};else if(e instanceof Cs)i={update:Hy(r,e.key,e.data),updateMask:GA(e.fieldMask)};else{if(!(e instanceof EA))return dt(16599,{Vt:e.type});i={verify:Ff(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const y=d.transform;if(y instanceof Fo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Wl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Xo)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw dt(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:OA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)})(r,e.precondition)),i}function LA(r,e){return r&&r.length>0?(Bt(e!==void 0,14353),r.map((i=>(function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(_t.min())&&(d=ni(h)),new yA(d,u.transformResults||[])})(i,e)))):[]}function zA(r,e){return{documents:[mv(r,e.path)]}}function PA(r,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=mv(r,u);const h=(function(_){if(_.length!==0)return yv(ri.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:dr(M.field),direction:kA(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Qf(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function BA(r){let e=MA(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){Bt(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(C){const M=pv(C);return M instanceof ri&&Y_(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(C){return C.map((M=>(function($){return new Yo(mr($.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(C){let M;return M=typeof C=="object"?C.value:C,ec(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(C){const M=!!C.before,j=C.values||[];return new Qo(j,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(C){const M=!C.before,j=C.values||[];return new Qo(j,M)})(i.endAt)),iA(e,u,d,h,y,"F",v,_)}function qA(r,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function pv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=mr(i.unaryFilter.field);return Se.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=mr(i.unaryFilter.field);return Se.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=mr(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=mr(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Se.create(mr(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((a=>pv(a))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(r):dt(30097,{filter:r})}function kA(r){return DA[r]}function jA(r){return VA[r]}function HA(r){return IA[r]}function dr(r){return{fieldPath:r.canonicalString()}}function mr(r){return Pe.fromServerFormat(r.fieldPath)}function yv(r){return r instanceof Se?(function(i){if(i.op==="=="){if(Iy(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NAN"}};if(Vy(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Iy(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NOT_NAN"}};if(Vy(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dr(i.field),op:jA(i.op),value:i.value}}})(r):r instanceof ri?(function(i){const a=i.getFilters().map((u=>yv(u)));return a.length===1?a[0]:{compositeFilter:{op:HA(i.op),filters:a}}})(r):dt(54877,{filter:r})}function GA(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function _v(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,i,a,u,h=_t.min(),d=_t.min(),y=Be.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.yt=e}}function YA(r){const e=BA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Gf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.Cn=new XA}addToCollectionParentIndex(e,i){return this.Cn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(Es.min())}updateCollectionGroup(e,i,a){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class XA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Re(Jt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Re(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vv=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(vv,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ar(0)}static cr(){return new Ar(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="LruGarbageCollector",KA=1048576;function Yy([r,e],[i,a]){const u=Vt(r,i);return u===0?Vt(e,a):u}class ZA{constructor(e){this.Ir=e,this.buffer=new Re(Yy),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Yy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class $A{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(Qy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Cr(i)?it(Qy,"Ignoring IndexedDB error during garbage collection: ",i):await wr(i)}await this.Vr(3e5)}))}}class JA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return F.resolve(tc.ce);const a=new ZA(i);return this.mr.forEachTarget(e,(u=>a.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>a.Ar(u))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Gy)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gy):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,u,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),u=this.params.maximumSequenceNumbersToCollect):u=C,d=Date.now(),this.nthSequenceNumber(e,u)))).next((C=>(a=C,y=Date.now(),this.removeTargets(e,a,i)))).next((C=>(h=C,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((C=>(_=Date.now(),hr()<=Mt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${C} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:C}))))}}function WA(r,e){return new JA(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.changes=new _a((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?F.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(a=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(a!==null&&Ql(a.mutation,u,mn.empty(),Wt.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,It()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=It()){const u=fa();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,a).next((h=>{let d=Pl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=fa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,It())))}populateOverlays(e,i,a){const u=[];return a.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(e,u).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,u){let h=Ni();const d=Gl(),y=(function(){return Gl()})();return i.forEach(((v,_)=>{const A=a.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof Cs)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Ql(A.mutation,_,A.mutation.getFieldMask(),Wt.now())):d.set(_.key,mn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new eS(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Gl();let u=new se(((d,y)=>d-y)),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||mn.empty();A=y.applyToLocalView(_,A),a.set(v,A);const C=(u.get(y.batchId)||It()).add(v);u=u.insert(y.batchId,C)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,C=tv();A.forEach((M=>{if(!h.has(M)){const j=rv(i.get(M),a.get(M));j!==null&&C.set(M,j),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,C))}return F.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,u){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):sA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):F.resolve(fa());let y=Xl,v=h;return d.next((_=>F.forEach(_,((A,C)=>(y<C.largestBatchId&&(y=C.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{v=v.insert(A,M)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,It()))).next((A=>({batchId:y,changes:W_(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next((a=>{let u=Pl();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,h).next((y=>F.forEach(y,(v=>{const _=(function(C,M){return new ic(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,u).next((A=>{A.forEach(((C,M)=>{d=d.insert(C,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))}));let y=Pl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Ql(A.mutation,_,mn.empty(),Wt.now()),ac(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return F.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}})(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:YA(u.bundledQuery),readTime:ni(u.readTime)}})(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.overlays=new se(ct.comparator),this.qr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const a=fa();return F.forEach(i,(u=>this.getOverlay(e,u).next((h=>{h!==null&&a.set(u,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((u,h)=>{this.St(e,i,h)})),F.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.qr.get(a);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),F.resolve()}getOverlaysForCollection(e,i,a){const u=fa(),h=i.length+1,d=new ct(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&u.set(v.getKey(),v)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new se(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=fa(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=fa(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=u)););return F.resolve(y)}St(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(a.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new AA(i,a));let h=this.qr.get(i);h===void 0&&(h=It(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this.Qr=new Re(Ne.$r),this.Ur=new Re(Ne.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ne(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Ne(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ct(new Jt([])),a=new Ne(i,e),u=new Ne(i,e+1),h=[];return this.Ur.forEachInRange([a,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ct(new Jt([])),a=new Ne(i,e),u=new Ne(i,e+1);let h=It();return this.Ur.forEachInRange([a,u],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ne(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ne{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ct.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Re(Ne.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new TA(h,i,a,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new Ne(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.ei(a),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?od:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ne(i,0),u=new Ne(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,u],(d=>{const y=this.Xr(d.Yr);h.push(y)})),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Re(Vt);return i.forEach((u=>{const h=new Ne(u,0),d=new Ne(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{a=a.add(y.Yr)}))})),F.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ne(new ct(h),0);let y=new Re(Vt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),d),F.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const u=this.Xr(a);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){Bt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return F.forEach(i.mutations,(u=>{const h=new Ne(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Ne(i,0),u=this.Zr.firstAfterOrEqual(a);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.ri=e,this.docs=(function(){return new se(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return F.resolve(a?a.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let a=Ni();return i.forEach((u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Ye.newInvalidDocument(u))})),F.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ni();const d=i.path,y=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||U1(x1(A),a)<=0||(u.has(A.key)||ac(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,a,u){dt(9500)}ii(e,i){return F.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new uS(this)}getSize(e){return F.resolve(this.size)}}class uS extends tS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(a)})),F.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.persistence=e,this.si=new _a((i=>fd(i)),dd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new vd,this.targetCount=0,this.ai=Ar.ur()}forEachTarget(e,i){return this.si.forEach(((a,u)=>i(u))),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),F.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ar(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.Pr(i),F.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),F.waitFor(h).next((()=>u))}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return F.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),F.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((d=>{h.push(u.markPotentiallyOrphaned(e,d))})),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return F.resolve(a)}containsKey(e,i){return F.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,i){this.ui={},this.overlays={},this.ci=new tc(0),this.li=!1,this.li=!0,this.hi=new aS,this.referenceDelegate=e(this),this.Pi=new oS(this),this.indexManager=new FA,this.remoteDocumentCache=(function(u){return new lS(u)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new QA(i),this.Ii=new iS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new sS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new rS(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const u=new cS(this.ci.next());return this.referenceDelegate.Ei(),a(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(e,i){return F.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class cS extends z1{constructor(e){super(),this.currentSequenceNumber=e}}class Ed{constructor(e){this.persistence=e,this.Ri=new vd,this.Vi=null}static mi(e){return new Ed(e)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),F.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),F.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,(a=>{const u=ct.fromPath(a);return this.gi(e,u).next((h=>{h||i.removeEntry(u,_t.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return F.or([()=>F.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Zo{constructor(e,i){this.persistence=e,this.pi=new _a((a=>q1(a.path)),((a,u)=>a.isEqual(u))),this.garbageCollector=WA(this,i)}static mi(e,i){return new Zo(e,i)}Ei(){}di(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((u=>a+u))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return F.forEach(this.pi,((a,u)=>this.br(e,a,u).next((h=>h?F.resolve():i(u)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,h.removeEntry(d,_t.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),F.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),F.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Oo(e.data.value)),i}br(e,i,a){return F.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return F.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=u}static As(e,i){let a=It(),u=It();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Td(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nT()?8:P1(tT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,u,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new hS;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,a,u){return a.documentReadCount<this.fs?(hr()<=Mt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",fr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(hr()<=Mt.DEBUG&&it("QueryEngine","Query:",fr(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.gs*u?(hr()<=Mt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",fr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):F.resolve())}ys(e,i){if(xy(i))return F.resolve(null);let a=ti(i);return this.indexManager.getIndexType(e,a).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=Gf(i,null,"F"),a=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=It(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,Gf(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,u){return xy(i)||u.isEqual(_t.min())?F.resolve(null):this.ps.getDocuments(e,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,u)?F.resolve(null):(hr()<=Mt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),fr(i)),this.vs(e,d,i,M1(u,Xl)).next((y=>y)))}))}Ds(e,i){let a=new Re($_(e));return i.forEach(((u,h)=>{ac(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,a){return hr()<=Mt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",fr(i)),this.ps.getDocumentsMatchingQuery(e,i,Es.min(),a)}vs(e,i,a,u){return this.ps.getDocumentsMatchingQuery(e,a,u).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="LocalStore",dS=3e8;class mS{constructor(e,i,a,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new se(Vt),this.xs=new _a((h=>fd(h)),dd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function gS(r,e,i,a){return new mS(r,e,i,a)}async function Tv(r,e){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next((h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],y=[];let v=It();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function pS(r,e){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const C=_.batch,M=C.keys();let j=F.resolve();return M.forEach(($=>{j=j.next((()=>A.getEntry(v,$))).next((tt=>{const Z=_.docVersions.get($);Bt(Z!==null,48541),tt.version.compareTo(Z)<0&&(C.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),A.addEntry(tt)))}))})),j.next((()=>y.mutationQueue.removeMutationBatch(v,C)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let v=It();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,u)))}))}function Av(r){const e=Et(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function yS(r,e){const i=Et(r),a=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const y=[];e.targetChanges.forEach(((A,C)=>{const M=u.get(C);if(!M)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,C).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,C))));let j=M.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?j=j.withResumeToken(Be.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,a)),u=u.insert(C,j),(function(tt,Z,Tt){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=dS?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0})(M,j,A)&&y.push(i.Pi.updateTargetData(h,j))}));let v=Ni(),_=It();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(_S(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!a.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((C=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));y.push(A)}return F.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=u,h)))}function _S(r,e,i){let a=It(),u=It();return i.forEach((h=>a=a.add(h))),e.getEntries(r,a).next((h=>{let d=Ni();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(y)),v.isNoDocument()&&v.version.isEqual(_t.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):it(Ad,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:u}}))}function vS(r,e){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=od),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function ES(r,e){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let u;return i.Pi.getTargetData(a,e).next((h=>h?(u=h,F.resolve(u)):i.Pi.allocateTargetId(a).next((d=>(u=new gs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,u).next((()=>u)))))))})).then((a=>{const u=i.Ms.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Kf(r,e,i){const a=Et(r),u=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!Cr(d))throw d;it(Ad,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(u.target)}function Fy(r,e,i){const a=Et(r);let u=_t.min(),h=It();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const C=Et(v),M=C.xs.get(A);return M!==void 0?F.resolve(C.Ms.get(M)):C.Pi.getTargetData(_,A)})(a,d,ti(e)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?u:_t.min(),i?h:It()))).next((y=>(TS(a,rA(e),y),{documents:y,Qs:h})))))}function TS(r,e,i){let a=r.Os.get(e)||_t.min();i.forEach(((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(e,a)}class Xy{constructor(){this.activeTargetIds=fA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AS{constructor(){this.Mo=new Xy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Xy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="ConnectivityMonitor";class Zy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(Ky,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(Ky,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io=null;function Zf(){return Io===null?Io=(function(){return 268435456+Math.round(2147483648*Math.random())})():Io++,"0x"+Io.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="RestConnection",bS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${u}`,this.Wo=this.databaseId.database===Ho?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Go(e,i,a,u,h){const d=Zf(),y=this.zo(e,i.toUriEncodedString());it(Vf,`Sending RPC '${e}' ${d}:`,y,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(y),A=sd(_);return this.Jo(e,y,v,a,A).then((C=>(it(Vf,`Received RPC '${e}' ${d}: `,C),C)),(C=>{throw _r(Vf,`RPC '${e}' ${d} failed with error: `,C,"url: ",y,"request:",a),C}))}Ho(e,i,a,u,h,d){return this.Go(e,i,a,u,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>e[h]=u)),a&&a.headers.forEach(((u,h)=>e[h]=u))}zo(e,i){const a=bS[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class CS extends RS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,u,h){const d=Zf();return new Promise(((y,v)=>{const _=new R_;_.setWithCredentials(!0),_.listenOnce(w_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case No.NO_ERROR:const C=_.getResponseJson();it(Ge,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),y(C);break;case No.TIMEOUT:it(Ge,`RPC '${e}' ${d} timed out`),v(new at(K.DEADLINE_EXCEEDED,"Request time out"));break;case No.HTTP_ERROR:const M=_.getStatus();if(it(Ge,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const $=j==null?void 0:j.error;if($&&$.status&&$.message){const tt=(function(Tt){const yt=Tt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(yt)>=0?yt:K.UNKNOWN})($.status);v(new at(tt,$.message))}else v(new at(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(K.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Ge,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(u);it(Ge,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const u=Zf(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=V_(),y=D_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");it(Ge,`Creating RPC '${e}' stream ${u}: ${A}`,v);const C=d.createWebChannel(A,v);this.I_(C);let M=!1,j=!1;const $=new wS({Yo:Z=>{j?it(Ge,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(M||(it(Ge,`Opening RPC '${e}' stream ${u} transport.`),C.open(),M=!0),it(Ge,`RPC '${e}' stream ${u} sending:`,Z),C.send(Z))},Zo:()=>C.close()}),tt=(Z,Tt,yt)=>{Z.listen(Tt,(ut=>{try{yt(ut)}catch(Pt){setTimeout((()=>{throw Pt}),0)}}))};return tt(C,zl.EventType.OPEN,(()=>{j||(it(Ge,`RPC '${e}' stream ${u} transport opened.`),$.o_())})),tt(C,zl.EventType.CLOSE,(()=>{j||(j=!0,it(Ge,`RPC '${e}' stream ${u} transport closed`),$.a_(),this.E_(C))})),tt(C,zl.EventType.ERROR,(Z=>{j||(j=!0,_r(Ge,`RPC '${e}' stream ${u} transport errored. Name:`,Z.name,"Message:",Z.message),$.a_(new at(K.UNAVAILABLE,"The operation could not be completed")))})),tt(C,zl.EventType.MESSAGE,(Z=>{var Tt;if(!j){const yt=Z.data[0];Bt(!!yt,16349);const ut=yt,Pt=(ut==null?void 0:ut.error)||((Tt=ut[0])==null?void 0:Tt.error);if(Pt){it(Ge,`RPC '${e}' stream ${u} received error:`,Pt);const pt=Pt.status;let xt=(function(w){const O=ye[w];if(O!==void 0)return ov(O)})(pt),N=Pt.message;xt===void 0&&(xt=K.INTERNAL,N="Unknown error status: "+pt+" with message "+Pt.message),j=!0,$.a_(new at(xt,N)),C.close()}else it(Ge,`RPC '${e}' stream ${u} received:`,yt),$.u_(yt)}})),tt(y,C_.STAT_EVENT,(Z=>{Z.stat===Pf.PROXY?it(Ge,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===Pf.NOPROXY&&it(Ge,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function If(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(r){return new NA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-a);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="PersistentStream";class bv{constructor(e,i,a,u,h,d,y,v){this.Mi=e,this.S_=a,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,u])=>{this.D_===i&&this.G_(a,u)}),(a=>{e((()=>{const u=new at(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(u)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{a((()=>this.z_(u)))})),this.stream.onMessage((u=>{a((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it($y,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(it($y,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DS extends bv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=xA(this.serializer,e),a=(function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?ni(d.readTime):_t.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Xf(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=Hf(v)?{documents:zA(h,v)}:{query:PA(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=fv(h,d.resumeToken);const _=Qf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){y.readTime=Ko(h,d.snapshotVersion.toTimestamp());const _=Qf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=qA(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Xf(this.serializer),i.removeTarget=e,this.q_(i)}}class VS extends bv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=LA(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Xf(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>UA(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{}class NS extends IS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,Yf(i,a),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(K.UNKNOWN,h.toString())}))}Ho(e,i,a,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Yf(i,a),u,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ii(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class MS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{va(this)&&(it(ya,"Restarting streams for network reachability change."),await(async function(v){const _=Et(v);_.Ea.add(4),await su(_),_.Ra.set("Unknown"),_.Ea.delete(4),await cc(_)})(this))}))})),this.Ra=new OS(a,u)}}async function cc(r){if(va(r))for(const e of r.da)await e(!0)}async function su(r){for(const e of r.da)await e(!1)}function Rv(r,e){const i=Et(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),wd(i)?Rd(i):Dr(i).O_()&&bd(i,e))}function Sd(r,e){const i=Et(r),a=Dr(i);i.Ia.delete(e),a.O_()&&wv(i,e),i.Ia.size===0&&(a.O_()?a.L_():va(i)&&i.Ra.set("Unknown"))}function bd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Dr(r).Y_(e)}function wv(r,e){r.Va.Ue(e),Dr(r).Z_(e)}function Rd(r){r.Va=new CA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Dr(r).start(),r.Ra.ua()}function wd(r){return va(r)&&!Dr(r).x_()&&r.Ia.size>0}function va(r){return Et(r).Ea.size===0}function Cv(r){r.Va=void 0}async function xS(r){r.Ra.set("Online")}async function US(r){r.Ia.forEach(((e,i)=>{bd(r,e)}))}async function LS(r,e){Cv(r),wd(r)?(r.Ra.ha(e),Rd(r)):r.Ra.set("Unknown")}async function zS(r,e,i){if(r.Ra.set("Online"),e instanceof hv&&e.state===2&&e.cause)try{await(async function(u,h){const d=h.cause;for(const y of h.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(r,e)}catch(a){it(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await $o(r,a)}else if(e instanceof Uo?r.Va.Ze(e):e instanceof cv?r.Va.st(e):r.Va.tt(e),!i.isEqual(_t.min()))try{const a=await Av(r.localStore);i.compareTo(a)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),wv(h,v);const C=new gs(A.target,v,_,A.sequenceNumber);bd(h,C)})),h.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){it(ya,"Failed to raise snapshot:",a),await $o(r,a)}}async function $o(r,e,i){if(!Cr(e))throw e;r.Ea.add(1),await su(r),r.Ra.set("Offline"),i||(i=()=>Av(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(ya,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await cc(r)}))}function Dv(r,e){return e().catch((i=>$o(r,i,e)))}async function hc(r){const e=Et(r),i=bs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:od;for(;PS(e);)try{const u=await vS(e.localStore,a);if(u===null){e.Ta.length===0&&i.L_();break}a=u.batchId,BS(e,u)}catch(u){await $o(e,u)}Vv(e)&&Iv(e)}function PS(r){return va(r)&&r.Ta.length<10}function BS(r,e){r.Ta.push(e);const i=bs(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Vv(r){return va(r)&&!bs(r).x_()&&r.Ta.length>0}function Iv(r){bs(r).start()}async function qS(r){bs(r).ra()}async function kS(r){const e=bs(r);for(const i of r.Ta)e.ea(i.mutations)}async function jS(r,e,i){const a=r.Ta.shift(),u=pd.from(a,e,i);await Dv(r,(()=>r.remoteSyncer.applySuccessfulWrite(u))),await hc(r)}async function HS(r,e){e&&bs(r).X_&&await(async function(a,u){if((function(d){return bA(d)&&d!==K.ABORTED})(u.code)){const h=a.Ta.shift();bs(a).B_(),await Dv(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u))),await hc(a)}})(r,e),Vv(r)&&Iv(r)}async function Jy(r,e){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),it(ya,"RemoteStore received new credentials");const a=va(i);i.Ea.add(3),await su(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await cc(i)}async function GS(r,e){const i=Et(r);e?(i.Ea.delete(2),await cc(i)):e||(i.Ea.add(2),await su(i),i.Ra.set("Unknown"))}function Dr(r){return r.ma||(r.ma=(function(i,a,u){const h=Et(i);return h.sa(),new DS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(r.datastore,r.asyncQueue,{Xo:xS.bind(null,r),t_:US.bind(null,r),r_:LS.bind(null,r),H_:zS.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),wd(r)?Rd(r):r.Ra.set("Unknown")):(await r.ma.stop(),Cv(r))}))),r.ma}function bs(r){return r.fa||(r.fa=(function(i,a,u){const h=Et(i);return h.sa(),new VS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:qS.bind(null,r),r_:HS.bind(null,r),ta:kS.bind(null,r),na:jS.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await hc(r)):(await r.fa.stop(),r.Ta.length>0&&(it(ya,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,y=new Cd(e,i,d,u,h);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dd(r,e){if(Ii("AsyncQueue",`${e}: ${r}`),Cr(r))return new at(K.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{static emptySet(e){return new pr(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=Pl(),this.sortedSet=new se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new pr;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this.ga=new se(ct.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):dt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Sr{constructor(e,i,a,u,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Sr(e,i,pr.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class YS{constructor(){this.queries=t_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const u=Et(i),h=u.queries;u.queries=t_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(a)}))})(this,new at(K.ABORTED,"Firestore shutting down"))}}function t_(){return new _a((r=>Z_(r)),sc)}async function FS(r,e){const i=Et(r);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(a=2):(h=new QS,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=Dd(d,`Initialization of query '${fr(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Vd(i)}async function XS(r,e){const i=Et(r),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function KS(r,e){const i=Et(r);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(u)&&(a=!0);d.wa=u}}a&&Vd(i)}function ZS(r,e,i){const a=Et(r),u=a.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);a.queries.delete(e)}function Vd(r){r.Ca.forEach((e=>{e.next()}))}var $f,e_;(e_=$f||($f={})).Ma="default",e_.Cache="cache";class $S{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new Sr(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Sr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this.key=e}}class Ov{constructor(e){this.key=e}}class JS{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=$_(e),this.tu=new pr(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Wy,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((A,C)=>{const M=u.get(A),j=ac(this.query,C)?C:null,$=!!M&&this.mutatedKeys.has(M.key),tt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;M&&j?M.data.isEqual(j.data)?$!==tt&&(a.track({type:3,doc:j}),Z=!0):this.su(M,j)||(a.track({type:2,doc:j}),Z=!0,(v&&this.eu(j,v)>0||_&&this.eu(j,_)<0)&&(y=!0)):!M&&j?(a.track({type:0,doc:j}),Z=!0):M&&!j&&(a.track({type:1,doc:M}),Z=!0,(v||_)&&(y=!0)),Z&&(j?(d=d.add(j),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,C)=>(function(j,$){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:Z})}};return tt(j)-tt($)})(A.type,C.type)||this.eu(A.doc,C.doc))),this.ou(a),u=u??!1;const y=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Sr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Wy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new Ov(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new Nv(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Sr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Id="SyncEngine";class WS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class tb{constructor(e){this.key=e,this.hu=!1}}class eb{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new _a((y=>Z_(y)),sc),this.Iu=new Map,this.Eu=new Set,this.du=new se(ct.comparator),this.Au=new Map,this.Ru=new vd,this.Vu={},this.mu=new Map,this.fu=Ar.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nb(r,e,i=!0){const a=Pv(r);let u;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await Mv(a,e,i,!0),u}async function ib(r,e){const i=Pv(r);await Mv(i,e,!0,!1)}async function Mv(r,e,i,a){const u=await ES(r.localStore,ti(e)),h=u.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let y;return a&&(y=await sb(r,e,h,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&Rv(r.remoteStore,u),y}async function sb(r,e,i,a,u){r.pu=(C,M,j)=>(async function(tt,Z,Tt,yt){let ut=Z.view.ru(Tt);ut.Cs&&(ut=await Fy(tt.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,ut))));const Pt=yt&&yt.targetChanges.get(Z.targetId),pt=yt&&yt.targetMismatches.get(Z.targetId)!=null,xt=Z.view.applyChanges(ut,tt.isPrimaryClient,Pt,pt);return i_(tt,Z.targetId,xt.au),xt.snapshot})(r,C,M,j);const h=await Fy(r.localStore,e,!0),d=new JS(e,h.Qs),y=d.ru(h.documents),v=iu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",u),_=d.applyChanges(y,r.isPrimaryClient,v);i_(r,i,_.au);const A=new WS(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function ab(r,e,i){const a=Et(r),u=a.Tu.get(e),h=a.Iu.get(u.targetId);if(h.length>1)return a.Iu.set(u.targetId,h.filter((d=>!sc(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Kf(a.localStore,u.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(u.targetId),i&&Sd(a.remoteStore,u.targetId),Jf(a,u.targetId)})).catch(wr)):(Jf(a,u.targetId),await Kf(a.localStore,u.targetId,!0))}async function rb(r,e){const i=Et(r),a=i.Tu.get(e),u=i.Iu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Sd(i.remoteStore,a.targetId))}async function lb(r,e,i){const a=mb(r);try{const u=await(function(d,y){const v=Et(d),_=Wt.now(),A=y.reduce(((j,$)=>j.add($.key)),It());let C,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let $=Ni(),tt=It();return v.Ns.getEntries(j,A).next((Z=>{$=Z,$.forEach(((Tt,yt)=>{yt.isValidDocument()||(tt=tt.add(Tt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(j,$))).next((Z=>{C=Z;const Tt=[];for(const yt of y){const ut=vA(yt,C.get(yt.key).overlayedDocument);ut!=null&&Tt.push(new Cs(yt.key,ut,H_(ut.value.mapValue),ei.exists(!0)))}return v.mutationQueue.addMutationBatch(j,_,Tt,y)})).next((Z=>{M=Z;const Tt=Z.applyToLocalDocumentSet(C,tt);return v.documentOverlayCache.saveOverlays(j,Z.batchId,Tt)}))})).then((()=>({batchId:M.batchId,changes:W_(C)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new se(Vt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(a,u.batchId,i),await au(a,u.changes),await hc(a.remoteStore)}catch(u){const h=Dd(u,"Failed to persist write");i.reject(h)}}async function xv(r,e){const i=Et(r);try{const a=await yS(i.localStore,e);e.targetChanges.forEach(((u,h)=>{const d=i.Au.get(h);d&&(Bt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?Bt(d.hu,14607):u.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))})),await au(i,a,e)}catch(a){await wr(a)}}function n_(r,e,i){const a=Et(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const v=Et(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,C)=>{for(const M of C.Sa)M.va(y)&&(_=!0)})),_&&Vd(v)})(a.eventManager,e),u.length&&a.Pu.H_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function ub(r,e,i){const a=Et(r);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Au.get(e),h=u&&u.key;if(h){let d=new se(ct.comparator);d=d.insert(h,Ye.newNoDocument(h,_t.min()));const y=It().add(h),v=new uc(_t.min(),new Map,new se(Vt),d,y);await xv(a,v),a.du=a.du.remove(h),a.Au.delete(e),Nd(a)}else await Kf(a.localStore,e,!1).then((()=>Jf(a,e,i))).catch(wr)}async function ob(r,e){const i=Et(r),a=e.batch.batchId;try{const u=await pS(i.localStore,e);Lv(i,a,null),Uv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await au(i,u)}catch(u){await wr(u)}}async function cb(r,e,i){const a=Et(r);try{const u=await(function(d,y){const v=Et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((C=>(Bt(C!==null,37113),A=C.keys(),v.mutationQueue.removeMutationBatch(_,C)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);Lv(a,e,i),Uv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await au(a,u)}catch(u){await wr(u)}}function Uv(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function Lv(r,e,i){const a=Et(r);let u=a.Vu[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Vu[a.currentUser.toKey()]=u}}function Jf(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||zv(r,a)}))}function zv(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Sd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Nd(r))}function i_(r,e,i){for(const a of i)a instanceof Nv?(r.Ru.addReference(a.key,e),hb(r,a)):a instanceof Ov?(it(Id,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||zv(r,a.key)):dt(19791,{wu:a})}function hb(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(it(Id,"New document in limbo: "+i),r.Eu.add(a),Nd(r))}function Nd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ct(Jt.fromString(e)),a=r.fu.next();r.Au.set(a,new tb(i)),r.du=r.du.insert(i,a),Rv(r.remoteStore,new gs(ti(md(i.path)),a,"TargetPurposeLimboResolution",tc.ce))}}async function au(r,e,i){const a=Et(r),u=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,v)=>{d.push(a.pu(v,e,i).then((_=>{var A;if((_||i)&&a.isPrimaryClient){const C=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:A.current;a.sharedClientState.updateQueryState(v.targetId,C?"current":"not-current")}if(_){u.push(_);const C=Td.As(v.targetId,_);h.push(C)}})))})),await Promise.all(d),a.Pu.H_(u),await(async function(v,_){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>F.forEach(_,(M=>F.forEach(M.Es,(j=>A.persistence.referenceDelegate.addReference(C,M.targetId,j))).next((()=>F.forEach(M.ds,(j=>A.persistence.referenceDelegate.removeReference(C,M.targetId,j)))))))))}catch(C){if(!Cr(C))throw C;it(Ad,"Failed to update sequence numbers: "+C)}for(const C of _){const M=C.targetId;if(!C.fromCache){const j=A.Ms.get(M),$=j.snapshotVersion,tt=j.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(M,tt)}}})(a.localStore,h))}async function fb(r,e){const i=Et(r);if(!i.currentUser.isEqual(e)){it(Id,"User change. New user:",e.toKey());const a=await Tv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new at(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await au(i,a.Ls)}}function db(r,e){const i=Et(r),a=i.Au.get(e);if(a&&a.hu)return It().add(a.key);{let u=It();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const y=i.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function Pv(r){const e=Et(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=xv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=db.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ub.bind(null,e),e.Pu.H_=KS.bind(null,e.eventManager),e.Pu.yu=ZS.bind(null,e.eventManager),e}function mb(r){const e=Et(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ob.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cb.bind(null,e),e}class Jo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return gS(this.persistence,new fS,e.initialUser,this.serializer)}Cu(e){return new Ev(Ed.mi,this.serializer)}Du(e){return new AS}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jo.provider={build:()=>new Jo};class gb extends Jo{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Bt(this.persistence.referenceDelegate instanceof Zo,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new $A(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Ev((a=>Zo.mi(a,i)),this.serializer)}}class Wf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>n_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=fb.bind(null,this.syncEngine),await GS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YS})()}createDatastore(e){const i=oc(e.databaseInfo.databaseId),a=(function(h){return new CS(h)})(e.databaseInfo);return(function(h,d,y,v){return new NS(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,u,h,d,y){return new MS(a,u,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>n_(this.syncEngine,i,0)),(function(){return Zy.v()?new Zy:new SS})())}createSyncEngine(e,i){return(function(u,h,d,y,v,_,A){const C=new eb(u,h,d,y,v,_);return A&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(u){const h=Et(u);it(ya,"RemoteStore shutting down."),h.Ea.add(5),await su(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}Wf.provider={build:()=>new Wf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="FirestoreClient";class yb{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Qe.UNAUTHENTICATED,this.clientId=ld.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{it(Rs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it(Rs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Dd(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Nf(r,e){r.asyncQueue.verifyOperationInProgress(),it(Rs,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async u=>{a.isEqual(u)||(await Tv(e.localStore,u),a=u)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function s_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await _b(r);it(Rs,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Jy(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,u)=>Jy(e.remoteStore,u))),r._onlineComponents=e}async function _b(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Rs,"Using user provided OfflineComponentProvider");try{await Nf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;_r("Error using user provided cache. Falling back to memory cache: "+i),await Nf(r,new Jo)}}else it(Rs,"Using default OfflineComponentProvider"),await Nf(r,new gb(void 0));return r._offlineComponents}async function Bv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Rs,"Using user provided OnlineComponentProvider"),await s_(r,r._uninitializedComponentsProvider._online)):(it(Rs,"Using default OnlineComponentProvider"),await s_(r,new Wf))),r._onlineComponents}function vb(r){return Bv(r).then((e=>e.syncEngine))}async function a_(r){const e=await Bv(r),i=e.eventManager;return i.onListen=nb.bind(null,e.syncEngine),i.onUnlisten=ab.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ib.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=rb.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="firestore.googleapis.com",l_=!0;class u_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kv,this.ssl=l_}else this.host=e.host,this.ssl=e.ssl??l_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KA)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qv(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,u){return a.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new A1;switch(a.type){case"firstParty":return new w1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=r_.get(i);a&&(it("ComponentProvider","Removing Datastore"),r_.delete(i),a.terminate())})(this),Promise.resolve()}}function Eb(r,e,i,a={}){var _;r=ma(r,fc);const u=sd(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;u&&(K0(`https://${y}`),W0("Firestore",!0)),h.host!==kv&&h.host!==y&&_r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:u,emulatorOptions:a};if(!Bo(v,d)&&(r._setSettings(v),a.mockUserToken)){let A,C;if(typeof a.mockUserToken=="string")A=a.mockUserToken,C=Qe.MOCK_USER;else{A=Z0(a.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const M=a.mockUserToken.sub||a.mockUserToken.user_id;if(!M)throw new at(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Qe(M)}r._authCredentials=new S1(new N_(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new dc(this.firestore,e,this._query)}}class be{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new be(this.firestore,e,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(eu(i,be._jsonSchema))return new be(e,a||null,new ct(Jt.fromString(i.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:_e("string",be._jsonSchemaVersion),referencePath:_e("string")};class vs extends dc{constructor(e,i,a){super(e,i,md(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new be(this.firestore,null,new ct(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function Tb(r,e,...i){if(r=Di(r),O_("collection","path",e),r instanceof fc){const a=Jt.fromString(e,...i);return Ty(a),new vs(r,null,a)}{if(!(r instanceof be||r instanceof vs))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Jt.fromString(e,...i));return Ty(a),new vs(r.firestore,null,a)}}function td(r,e,...i){if(r=Di(r),arguments.length===1&&(e=ld.newId()),O_("doc","path",e),r instanceof fc){const a=Jt.fromString(e,...i);return Ey(a),new be(r,null,new ct(a))}{if(!(r instanceof be||r instanceof vs))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Jt.fromString(e,...i));return Ey(a),new be(r.firestore,r instanceof vs?r.converter:null,new ct(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="AsyncQueue";class c_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sv(this,"async_queue_retry"),this._c=()=>{const a=If();a&&it(o_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=If();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=If();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new da;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cr(e))throw e;it(o_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ii("INTERNAL UNHANDLED ERROR: ",h_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=Cd.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&dt(47125,{Pc:h_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function h_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1})(r,["next","error","complete"])}class tu extends fc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new c_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new c_(e),this._firestoreClient=void 0,await e}}}function Ab(r,e){const i=typeof r=="object"?r:o1(),a=typeof r=="string"?r:Ho,u=s1(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=F0("firestore");h&&Eb(u,...h)}return u}function jv(r){if(r._terminated)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Sb(r),r._firestoreClient}function Sb(r){var a,u,h;const e=r._freezeSettings(),i=(function(y,v,_,A){return new H1(y,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,qv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(r._databaseId,((a=r._app)==null?void 0:a.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(u=e.localCache)!=null&&u._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new yb(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(Be.fromBase64String(e))}catch(i){throw new at(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cn(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:_e("string",Cn._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(eu(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:_e("string",ii._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new si(e.vectorValues);throw new at(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:_e("string",si._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=/^__.*__$/;class Rb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,i,this.fieldTransforms):new nu(e,this.data,i,this.fieldTransforms)}}class Hv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Cs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Gv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:r})}}class Md{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Md({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var u;const i=(u=this.path)==null?void 0:u.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){var u;const i=(u=this.path)==null?void 0:u.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wo(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Gv(this.Ac)&&bb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||oc(e)}Cc(e,i,a,u=!1){return new Md({Ac:e,methodName:i,Dc:a,path:Pe.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qv(r){const e=r._freezeSettings(),i=oc(r._databaseId);return new wb(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Cb(r,e,i,a,u,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,u);xd("Data must be an object, but it was:",d,a);const y=Yv(a,d);let v,_;if(h.merge)v=new mn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const M=ed(e,C,i);if(!d.contains(M))throw new at(K.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);Xv(A,M)||A.push(M)}v=new mn(A),_=d.fieldTransforms.filter((C=>v.covers(C.field)))}else v=null,_=d.fieldTransforms;return new Rb(new an(y),v,_)}class gc extends Od{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gc}}function Db(r,e,i,a){const u=r.Cc(1,e,i);xd("Data must be an object, but it was:",u,a);const h=[],d=an.empty();ws(a,((v,_)=>{const A=Ud(e,v,i);_=Di(_);const C=u.yc(A);if(_ instanceof gc)h.push(A);else{const M=pc(_,C);M!=null&&(h.push(A),d.set(A,M))}}));const y=new mn(h);return new Hv(d,y,u.fieldTransforms)}function Vb(r,e,i,a,u,h){const d=r.Cc(1,e,i),y=[ed(e,a,i)],v=[u];if(h.length%2!=0)throw new at(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<h.length;M+=2)y.push(ed(e,h[M])),v.push(h[M+1]);const _=[],A=an.empty();for(let M=y.length-1;M>=0;--M)if(!Xv(_,y[M])){const j=y[M];let $=v[M];$=Di($);const tt=d.yc(j);if($ instanceof gc)_.push(j);else{const Z=pc($,tt);Z!=null&&(_.push(j),A.set(j,Z))}}const C=new mn(_);return new Hv(A,C,d.fieldTransforms)}function pc(r,e){if(Fv(r=Di(r)))return xd("Unsupported field value:",e,r),Yv(r,e);if(r instanceof Od)return(function(a,u){if(!Gv(u.Ac))throw u.Sc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,u){const h=[];let d=0;for(const y of a){let v=pc(y,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(a,u){if((a=Di(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return dA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Wt.fromDate(a);return{timestampValue:Ko(u.serializer,h)}}if(a instanceof Wt){const h=new Wt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ko(u.serializer,h)}}if(a instanceof ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Cn)return{bytesValue:fv(u.serializer,a._byteString)};if(a instanceof be){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:_d(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof si)return(function(d,y){return{mapValue:{fields:{[k_]:{stringValue:j_},[Go]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return gd(y.serializer,_)}))}}}}}})(a,u);throw u.Sc(`Unsupported field value: ${ud(a)}`)})(r,e)}function Yv(r,e){const i={};return U_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(r,((a,u)=>{const h=pc(u,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function Fv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Wt||r instanceof ii||r instanceof Cn||r instanceof be||r instanceof Od||r instanceof si)}function xd(r,e,i){if(!Fv(i)||!M_(i)){const a=ud(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function ed(r,e,i){if((e=Di(e))instanceof mc)return e._internalPath;if(typeof e=="string")return Ud(r,e);throw Wo("Field path arguments must be of type string or ",r,!1,void 0,i)}const Ib=new RegExp("[~\\*/\\[\\]]");function Ud(r,e,i){if(e.search(Ib)>=0)throw Wo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new mc(...e.split("."))._internalPath}catch{throw Wo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Wo(r,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${u}`),v+=")"),new at(K.INVALID_ARGUMENT,y+r+v)}function Xv(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Zv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Nb extends Kv{data(){return super.data()}}function Zv(r,e){return typeof e=="string"?Ud(r,e):e instanceof mc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mb{convertValue(e,i="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ws(e,((u,h)=>{a[u]=this.convertValue(h,i)})),a}convertVectorValue(e){var a,u,h;const i=(h=(u=(a=e.fields)==null?void 0:a[Go].arrayValue)==null?void 0:u.values)==null?void 0:h.map((d=>me(d.doubleValue)));return new si(i)}convertGeoPoint(e){return new ii(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=nc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const i=Ts(e);return new Wt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Jt.fromString(e);Bt(_v(a),9688,{name:e});const u=new Zl(a.get(1),a.get(3)),h=new ct(a.popFirst(5));return u.isEqual(i)||Ii(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ga extends Kv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Zv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ga._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",ga._jsonSchema={type:_e("string",ga._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class Lo extends ga{data(e={}){return super.data(e)}}class yr{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new ql(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Lo(this._firestore,this._userDataWriter,a.key,a,new ql(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const v=new Lo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new ql(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Lo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new ql(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:Ub(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ld.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ub(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:r})}}yr._jsonSchemaVersion="firestore/querySnapshot/1.0",yr._jsonSchema={type:_e("string",yr._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class $v extends Mb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new be(this.firestore,null,i)}}function Lb(r,e,i,...a){r=ma(r,be);const u=ma(r.firestore,tu),h=Qv(u);let d;return d=typeof(e=Di(e))=="string"||e instanceof mc?Vb(h,"updateDoc",r._key,e,i,a):Db(h,"updateDoc",r._key,e),Jv(u,[d.toMutation(r._key,ei.exists(!0))])}function zb(r,e){const i=ma(r.firestore,tu),a=td(r),u=xb(r.converter,e);return Jv(i,[Cb(Qv(r.firestore),"addDoc",a._key,u,r.converter!==null,{}).toMutation(a._key,ei.exists(!1))]).then((()=>a))}function Pb(r,...e){var v,_,A;r=Di(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||f_(e[a])||(i=e[a++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(f_(e[a])){const C=e[a];e[a]=(v=C.next)==null?void 0:v.bind(C),e[a+1]=(_=C.error)==null?void 0:_.bind(C),e[a+2]=(A=C.complete)==null?void 0:A.bind(C)}let h,d,y;if(r instanceof be)d=ma(r.firestore,tu),y=md(r._key.path),h={next:C=>{e[a]&&e[a](Bb(d,r,C))},error:e[a+1],complete:e[a+2]};else{const C=ma(r,dc);d=ma(C.firestore,tu),y=C._query;const M=new $v(d);h={next:j=>{e[a]&&e[a](new yr(d,M,C,j))},error:e[a+1],complete:e[a+2]},Ob(r._query)}return(function(M,j,$,tt){const Z=new pb(tt),Tt=new $S(j,Z,$);return M.asyncQueue.enqueueAndForget((async()=>FS(await a_(M),Tt))),()=>{Z.Nu(),M.asyncQueue.enqueueAndForget((async()=>XS(await a_(M),Tt)))}})(jv(d),y,u,h)}function Jv(r,e){return(function(a,u){const h=new da;return a.asyncQueue.enqueueAndForget((async()=>lb(await vb(a),u,h))),h.promise})(jv(r),e)}function Bb(r,e,i){const a=i.docs.get(e._key),u=new $v(r);return new ga(r,u,e._key,a,new ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){Rr=u})(u1),ko(new Yl("firestore",((a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),y=new tu(new b1(a.getProvider("auth-internal")),new C1(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(_.options.projectId,A)})(d,u),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),gr(py,yy,e),gr(py,yy,"esm2020")})();const qb={apiKey:"AIzaSyCxqhUmiPOCkdwDfbI8-Q6k7hyutQEIQEI",authDomain:"ttt1-9c767.firebaseapp.com",projectId:"ttt1-9c767",storageBucket:"ttt1-9c767.firebasestorage.app",messagingSenderId:"146279854885",appId:"1:146279854885:web:6760890c2802c9506fa0cc",measurementId:"G-DSL8FJRC6K"},kb=T_(qb),Of=Ab(kb),zo={meetingName:"팀 주간 회의",totalSeconds:900,remainingSeconds:900,isActive:!1,isPaused:!1},Wv=r=>{const e=Math.floor(r/60),i=r%60;return`${String(e).padStart(2,"0")}:${String(i).padStart(2,"0")}`},jb=(r,e,i)=>!e||i?"grey":r<60?"red":r<300?"yellow":"green",Hb=({createAdminSession:r})=>At.jsxs("div",{className:"role-selection",children:[At.jsx("h1",{children:"발표 타이머"}),At.jsx("p",{children:"타이머를 만들거나 공유받은 링크를 통해 참여하세요."}),At.jsx("button",{className:"button button-primary",onClick:r,"aria-label":"타이머 관리하기",children:"새 타이머 만들기"}),At.jsx("p",{className:"description-text",children:"타이머를 보려면 관리자가 공유한 링크 또는 QR 코드가 필요합니다."})]}),d_=({appState:r})=>{const{remainingSeconds:e,meetingName:i,isActive:a,isPaused:u}=r,h=jb(e,a,u);return sn.useEffect(()=>(document.body.className=`status-${h}`,()=>{document.body.className=""}),[h]),At.jsxs("div",{className:"viewer-view",children:[At.jsx("h2",{className:"meeting-name",children:i||"회의"}),At.jsx("div",{className:"timer-display",children:Wv(e)})]})},Gb=({appState:r,sessionId:e,updateFirestoreState:i})=>{const[a,u]=sn.useState(Math.floor(r.totalSeconds/60)),[h,d]=sn.useState(r.totalSeconds%60),[y,v]=sn.useState(r.meetingName),[_,A]=sn.useState(!1),[C,M]=sn.useState(!1),j=`${window.location.href.split("#")[0]}#view/${e}`;sn.useEffect(()=>{u(Math.floor(r.totalSeconds/60)),d(r.totalSeconds%60),v(r.meetingName)},[r.totalSeconds,r.meetingName]);const $=()=>{const ut=a*60+h;i({...zo,totalSeconds:ut,remainingSeconds:ut,meetingName:y})},tt=()=>{r.isActive?i({isPaused:!r.isPaused}):i({isActive:!0,isPaused:!1})},Z=()=>{i({isActive:!1,isPaused:!1,remainingSeconds:r.totalSeconds})},Tt=()=>{navigator.clipboard.writeText(j).then(()=>{M(!0),setTimeout(()=>M(!1),2e3)})},yt=()=>r.isActive?r.isPaused?"계속":"일시정지":"시작";return At.jsxs("div",{className:"admin-dashboard",children:[At.jsx("button",{onClick:()=>window.location.hash="",className:"back-button","aria-label":"뒤로가기",children:"←"}),At.jsx("h2",{children:"타이머 관리"}),At.jsxs("div",{className:"admin-panel",children:[At.jsx("h3",{children:"설정"}),At.jsxs("div",{className:"input-group",children:[At.jsx("label",{htmlFor:"meetingName",children:"회의명"}),At.jsx("input",{id:"meetingName",type:"text",className:"input-field",value:y,onChange:ut=>v(ut.target.value),placeholder:"회의명을 입력하세요",disabled:r.isActive})]}),At.jsxs("div",{className:"input-group",children:[At.jsx("label",{children:"총 발표 시간"}),At.jsxs("div",{className:"time-input-group",children:[At.jsx("input",{type:"number",value:a,onChange:ut=>u(Math.max(0,parseInt(ut.target.value,10)||0)),"aria-label":"분",disabled:r.isActive}),At.jsx("span",{children:":"}),At.jsx("input",{type:"number",value:h,onChange:ut=>d(Math.max(0,Math.min(59,parseInt(ut.target.value,10)||0))),"aria-label":"초",disabled:r.isActive})]})]}),At.jsx("button",{className:"button button-primary",onClick:$,disabled:r.isActive,children:"설정 적용"})]}),At.jsxs("div",{className:"admin-panel",children:[At.jsx("h3",{children:"제어 및 공유"}),At.jsx("div",{className:"timer-display-small",children:Wv(r.remainingSeconds)}),At.jsxs("div",{className:"controls",children:[At.jsx("button",{className:"button button-primary",onClick:tt,disabled:r.totalSeconds===0,children:yt()}),At.jsx("button",{className:"button button-secondary",onClick:Z,children:"초기화"})]}),At.jsxs("div",{className:"share-controls",children:[At.jsx("button",{className:"button button-secondary",onClick:Tt,children:C?"복사 완료!":"URL 복사"}),At.jsx("button",{className:"button button-secondary",onClick:()=>A(!_),children:_?"QR 숨기기":"QR 코드 보기"})]}),_&&At.jsxs("div",{className:"qr-code-container",children:[At.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(j)}`,alt:"Timer Share QR Code"}),At.jsx("p",{children:"이 QR 코드를 스캔하여 타이머를 공유하세요."})]})]})]})},Qb=()=>{const[r,e]=sn.useState("loading"),[i,a]=sn.useState(zo),[u,h]=sn.useState(null),d=sn.useRef(null),y=sn.useCallback(A=>{if(u){const C=td(Of,"timers",u);Lb(C,A)}},[u]);sn.useEffect(()=>(d.current&&clearInterval(d.current),r==="admin"&&i.isActive&&!i.isPaused&&(d.current=window.setInterval(()=>{const A=i.remainingSeconds-1;A>=0?y({remainingSeconds:A}):(y({remainingSeconds:0,isActive:!1}),d.current&&clearInterval(d.current))},1e3)),()=>{d.current&&clearInterval(d.current)}),[r,i.isActive,i.isPaused,i.remainingSeconds,y]),sn.useEffect(()=>{let A=null;const C=()=>{A&&(A(),A=null);const M=window.location.hash.slice(1),[j,$]=M.split("/");if((j==="admin"||j==="view")&&$){h($);const tt=td(Of,"timers",$);A=Pb(tt,Z=>{Z.exists()?a(Z.data()):(console.error("Timer session not found!"),window.location.hash="")}),e(j)}else h(null),a(zo),e("select")};return window.addEventListener("hashchange",C),C(),()=>{window.removeEventListener("hashchange",C),A&&A()}},[]);const v=async()=>{try{const A=await zb(Tb(Of,"timers"),zo);A.id&&(window.location.hash=`admin/${A.id}`)}catch(A){console.error("Error creating new session:",A),alert("타이머를 생성하는데 실패했습니다. 다시 시도해주세요.")}},_=()=>{if(r==="loading")return At.jsx("div",{className:"loading",children:"Loading..."});switch(r){case"admin":return At.jsx(Gb,{appState:i,sessionId:u,updateFirestoreState:y});case"viewer":return At.jsx(d_,{appState:i});case"select":default:return At.jsx(Hb,{createAdminSession:v})}};return r==="viewer"?At.jsx(d_,{appState:i}):At.jsx("div",{className:"app-container",children:_()})},Yb=document.getElementById("root"),Fb=L0.createRoot(Yb);Fb.render(At.jsx(Qb,{}));
