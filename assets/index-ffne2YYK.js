(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Vf={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function W0(){if(hy)return kl;hy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:a,type:s,key:d,ref:u!==void 0?u:null,props:h}}return kl.Fragment=e,kl.jsx=i,kl.jsxs=i,kl}var fy;function tT(){return fy||(fy=1,Vf.exports=W0()),Vf.exports}var Tt=tT(),If={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function eT(){if(dy)return At;dy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,et={};function $(V,X,nt){this.props=V,this.context=X,this.refs=et,this.updater=nt||j}$.prototype.isReactComponent={},$.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},$.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function vt(){}vt.prototype=$.prototype;function dt(V,X,nt){this.props=V,this.context=X,this.refs=et,this.updater=nt||j}var st=dt.prototype=new vt;st.constructor=dt,Z(st,$.prototype),st.isPureReactComponent=!0;var Ut=Array.isArray,Et={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function O(V,X,nt,J,ot,bt){return nt=bt.ref,{$$typeof:a,type:V,key:X,ref:nt!==void 0?nt:null,props:bt}}function S(V,X){return O(V.type,X,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function N(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return X[nt]})}var M=/\/+/g;function U(V,X){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):X.toString(36)}function w(){}function Me(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(w,w):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function re(V,X,nt,J,ot){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var pt=!1;if(V===null)pt=!0;else switch(bt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(V.$$typeof){case a:case e:pt=!0;break;case A:return pt=V._init,re(pt(V._payload),X,nt,J,ot)}}if(pt)return ot=ot(V),pt=J===""?"."+U(V,0):J,Ut(ot)?(nt="",pt!=null&&(nt=pt.replace(M,"$&/")+"/"),re(ot,X,nt,"",function(Ln){return Ln})):ot!=null&&(C(ot)&&(ot=S(ot,nt+(ot.key==null||V&&V.key===ot.key?"":(""+ot.key).replace(M,"$&/")+"/")+pt)),X.push(ot)),1;pt=0;var we=J===""?".":J+":";if(Ut(V))for(var Zt=0;Zt<V.length;Zt++)J=V[Zt],bt=we+U(J,Zt),pt+=re(J,X,nt,bt,ot);else if(Zt=D(V),typeof Zt=="function")for(V=Zt.call(V),Zt=0;!(J=V.next()).done;)J=J.value,bt=we+U(J,Zt++),pt+=re(J,X,nt,bt,ot);else if(bt==="object"){if(typeof V.then=="function")return re(Me(V),X,nt,J,ot);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return pt}function H(V,X,nt){if(V==null)return V;var J=[],ot=0;return re(V,J,"","",function(bt){return X.call(nt,bt,ot++)}),J}function tt(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var ut=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Pt(){}return At.Children={map:H,forEach:function(V,X,nt){H(V,function(){X.apply(this,arguments)},nt)},count:function(V){var X=0;return H(V,function(){X++}),X},toArray:function(V){return H(V,function(X){return X})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},At.Component=$,At.Fragment=i,At.Profiler=u,At.PureComponent=dt,At.StrictMode=s,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Et,At.__COMPILER_RUNTIME={__proto__:null,c:function(V){return Et.H.useMemoCache(V)}},At.cache=function(V){return function(){return V.apply(null,arguments)}},At.cloneElement=function(V,X,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var J=Z({},V.props),ot=V.key,bt=void 0;if(X!=null)for(pt in X.ref!==void 0&&(bt=void 0),X.key!==void 0&&(ot=""+X.key),X)!zt.call(X,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&X.ref===void 0||(J[pt]=X[pt]);var pt=arguments.length-2;if(pt===1)J.children=nt;else if(1<pt){for(var we=Array(pt),Zt=0;Zt<pt;Zt++)we[Zt]=arguments[Zt+2];J.children=we}return O(V.type,ot,void 0,void 0,bt,J)},At.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},At.createElement=function(V,X,nt){var J,ot={},bt=null;if(X!=null)for(J in X.key!==void 0&&(bt=""+X.key),X)zt.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ot[J]=X[J]);var pt=arguments.length-2;if(pt===1)ot.children=nt;else if(1<pt){for(var we=Array(pt),Zt=0;Zt<pt;Zt++)we[Zt]=arguments[Zt+2];ot.children=we}if(V&&V.defaultProps)for(J in pt=V.defaultProps,pt)ot[J]===void 0&&(ot[J]=pt[J]);return O(V,bt,void 0,void 0,null,ot)},At.createRef=function(){return{current:null}},At.forwardRef=function(V){return{$$typeof:g,render:V}},At.isValidElement=C,At.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:tt}},At.memo=function(V,X){return{$$typeof:_,type:V,compare:X===void 0?null:X}},At.startTransition=function(V){var X=Et.T,nt={};Et.T=nt;try{var J=V(),ot=Et.S;ot!==null&&ot(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Pt,ut)}catch(bt){ut(bt)}finally{Et.T=X}},At.unstable_useCacheRefresh=function(){return Et.H.useCacheRefresh()},At.use=function(V){return Et.H.use(V)},At.useActionState=function(V,X,nt){return Et.H.useActionState(V,X,nt)},At.useCallback=function(V,X){return Et.H.useCallback(V,X)},At.useContext=function(V){return Et.H.useContext(V)},At.useDebugValue=function(){},At.useDeferredValue=function(V,X){return Et.H.useDeferredValue(V,X)},At.useEffect=function(V,X,nt){var J=Et.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(V,X)},At.useId=function(){return Et.H.useId()},At.useImperativeHandle=function(V,X,nt){return Et.H.useImperativeHandle(V,X,nt)},At.useInsertionEffect=function(V,X){return Et.H.useInsertionEffect(V,X)},At.useLayoutEffect=function(V,X){return Et.H.useLayoutEffect(V,X)},At.useMemo=function(V,X){return Et.H.useMemo(V,X)},At.useOptimistic=function(V,X){return Et.H.useOptimistic(V,X)},At.useReducer=function(V,X,nt){return Et.H.useReducer(V,X,nt)},At.useRef=function(V){return Et.H.useRef(V)},At.useState=function(V){return Et.H.useState(V)},At.useSyncExternalStore=function(V,X,nt){return Et.H.useSyncExternalStore(V,X,nt)},At.useTransition=function(){return Et.H.useTransition()},At.version="19.1.1",At}var my;function dd(){return my||(my=1,If.exports=eT()),If.exports}var nn=dd(),Nf={exports:{}},ql={},Of={exports:{}},Mf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function nT(){return gy||(gy=1,(function(a){function e(H,tt){var ut=H.length;H.push(tt);t:for(;0<ut;){var Pt=ut-1>>>1,V=H[Pt];if(0<u(V,tt))H[Pt]=tt,H[ut]=V,ut=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var tt=H[0],ut=H.pop();if(ut!==tt){H[0]=ut;t:for(var Pt=0,V=H.length,X=V>>>1;Pt<X;){var nt=2*(Pt+1)-1,J=H[nt],ot=nt+1,bt=H[ot];if(0>u(J,ut))ot<V&&0>u(bt,J)?(H[Pt]=bt,H[ot]=ut,Pt=ot):(H[Pt]=J,H[nt]=ut,Pt=nt);else if(ot<V&&0>u(bt,ut))H[Pt]=bt,H[ot]=ut,Pt=ot;else break t}}return tt}function u(H,tt){var ut=H.sortIndex-tt.sortIndex;return ut!==0?ut:H.id-tt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,R=null,D=3,j=!1,Z=!1,et=!1,$=!1,vt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function Ut(H){for(var tt=i(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=H)s(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function Et(H){if(et=!1,Ut(H),!Z)if(i(v)!==null)Z=!0,zt||(zt=!0,U());else{var tt=i(_);tt!==null&&re(Et,tt.startTime-H)}}var zt=!1,O=-1,S=5,C=-1;function N(){return $?!0:!(a.unstable_now()-C<S)}function M(){if($=!1,zt){var H=a.unstable_now();C=H;var tt=!0;try{t:{Z=!1,et&&(et=!1,dt(O),O=-1),j=!0;var ut=D;try{e:{for(Ut(H),R=i(v);R!==null&&!(R.expirationTime>H&&N());){var Pt=R.callback;if(typeof Pt=="function"){R.callback=null,D=R.priorityLevel;var V=Pt(R.expirationTime<=H);if(H=a.unstable_now(),typeof V=="function"){R.callback=V,Ut(H),tt=!0;break e}R===i(v)&&s(v),Ut(H)}else s(v);R=i(v)}if(R!==null)tt=!0;else{var X=i(_);X!==null&&re(Et,X.startTime-H),tt=!1}}break t}finally{R=null,D=ut,j=!1}tt=void 0}}finally{tt?U():zt=!1}}}var U;if(typeof st=="function")U=function(){st(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Me=w.port2;w.port1.onmessage=M,U=function(){Me.postMessage(null)}}else U=function(){vt(M,0)};function re(H,tt){O=vt(function(){H(a.unstable_now())},tt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return D},a.unstable_next=function(H){switch(D){case 1:case 2:case 3:var tt=3;break;default:tt=D}var ut=D;D=tt;try{return H()}finally{D=ut}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=D;D=H;try{return tt()}finally{D=ut}},a.unstable_scheduleCallback=function(H,tt,ut){var Pt=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Pt+ut:Pt):ut=Pt,H){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ut+V,H={id:A++,callback:tt,priorityLevel:H,startTime:ut,expirationTime:V,sortIndex:-1},ut>Pt?(H.sortIndex=ut,e(_,H),i(v)===null&&H===i(_)&&(et?(dt(O),O=-1):et=!0,re(Et,ut-Pt))):(H.sortIndex=V,e(v,H),Z||j||(Z=!0,zt||(zt=!0,U()))),H},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(H){var tt=D;return function(){var ut=D;D=tt;try{return H.apply(this,arguments)}finally{D=ut}}}})(Mf)),Mf}var py;function iT(){return py||(py=1,Of.exports=nT()),Of.exports}var xf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function rT(){if(yy)return Ge;yy=1;var a=dd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:R==null?null:""+R,children:v,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ge.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Ge.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Ge.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Ge.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,R=g(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:D,fetchPriority:j}):A==="script"&&s.d.X(v,{crossOrigin:R,integrity:D,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Ge.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,R=g(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Ge.requestFormReset=function(v){s.d.r(v)},Ge.unstable_batchedUpdates=function(v,_){return v(_)},Ge.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.1",Ge}var _y;function sT(){if(_y)return xf.exports;_y=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),xf.exports=rT(),xf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function aT(){if(vy)return ql;vy=1;var a=iT(),e=dd(),i=sT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),vt=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case $:return"Profiler";case et:return"StrictMode";case Et:return"Suspense";case zt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case st:return(t.displayName||"Context")+".Provider";case dt:return(t._context.displayName||"Context")+".Consumer";case Ut:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var re=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Pt=[],V=-1;function X(t){return{current:t}}function nt(t){0>V||(t.current=Pt[V],Pt[V]=null,V--)}function J(t,n){V++,Pt[V]=t.current,t.current=n}var ot=X(null),bt=X(null),pt=X(null),we=X(null);function Zt(t,n){switch(J(pt,n),J(bt,t),J(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Bp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Bp(n),t=kp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ot),J(ot,t)}function Ln(){nt(ot),nt(bt),nt(pt)}function Pi(t){t.memoizedState!==null&&J(we,t);var n=ot.current,r=kp(n,t.type);n!==r&&(J(bt,t),J(ot,r))}function li(t){bt.current===t&&(nt(ot),nt(bt)),we.current===t&&(nt(we),Ul._currentValue=ut)}var Cr=Object.prototype.hasOwnProperty,Dr=a.unstable_scheduleCallback,Vr=a.unstable_cancelCallback,Oa=a.unstable_shouldYield,hu=a.unstable_requestPaint,pn=a.unstable_now,Dc=a.unstable_getCurrentPriorityLevel,Ma=a.unstable_ImmediatePriority,Es=a.unstable_UserBlockingPriority,Ir=a.unstable_NormalPriority,Vc=a.unstable_LowPriority,Ts=a.unstable_IdlePriority,xa=a.log,fu=a.unstable_setDisableYieldValue,se=null,jt=null;function sn(t){if(typeof xa=="function"&&fu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(se,t)}catch{}}var je=Math.clz32?Math.clz32:Nr,du=Math.log,Ic=Math.LN2;function Nr(t){return t>>>=0,t===0?32:31-(du(t)/Ic|0)|0}var Or=256,Mr=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function As(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=In(l):(y&=E,y!==0?c=In(y):r||(r=E&~t,r!==0&&(c=In(r))))):(E=l&~f,E!==0?c=In(E):y!==0?c=In(y):r||(r=l&~t,r!==0&&(c=In(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function xr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ua(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function La(){var t=Or;return Or<<=1,(Or&4194048)===0&&(Or=256),t}function za(){var t=Mr;return Mr<<=1,(Mr&62914560)===0&&(Mr=4194304),t}function ui(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function oi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pa(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-je(r),F=1<<G;E[G]=0,b[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var k=B[G];k!==null&&(k.lane&=-536870913)}r&=~F}l!==0&&zn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function zn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ba(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-je(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Bi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ss(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ki(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:sy(t.type))}function mu(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var te=Math.random().toString(36).slice(2),_e="__reactFiber$"+te,fe="__reactProps$"+te,yn="__reactContainer$"+te,ka="__reactEvents$"+te,Nc="__reactListeners$"+te,qi="__reactHandles$"+te,gu="__reactResources$"+te,Ur="__reactMarker$"+te;function ji(t){delete t[_e],delete t[fe],delete t[ka],delete t[Nc],delete t[qi]}function ci(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[yn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Gp(t);t!==null;){if(r=t[_e])return r;t=Gp(t)}return n}t=r,r=t.parentNode}return null}function Pn(t){if(t=t[_e]||t[yn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Xe(t){var n=t[gu];return n||(n=t[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Ur]=!0}var qa=new Set,bs={};function Nn(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(bs[t]=n,t=0;t<n.length;t++)qa.add(n[t])}var pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yu={},Lr={};function _u(t){return Cr.call(Lr,t)?!0:Cr.call(yu,t)?!1:pu.test(t)?Lr[t]=!0:(yu[t]=!0,!1)}function Hi(t,n,r){if(_u(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function kn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function xe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var zr,vu;function fi(t){if(zr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);zr=n&&n[1]||"",vu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zr+t+vu}var Rs=!1;function ws(t,n){if(!t||Rs)return"";Rs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(k){var B=k}Reflect.construct(t,[],F)}else{try{F.call()}catch(k){B=k}t.call(F.prototype)}}else{try{throw Error()}catch(k){B=k}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Rs=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?fi(r):""}function ja(t){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return ws(t.type,!1);case 11:return ws(t.type.render,!1);case 1:return ws(t.type,!0);case 31:return fi("Activity");default:return""}}function Cs(t){try{var n="";do n+=ja(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ha(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oc(t){var n=Ha(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ds(t){t._valueTracker||(t._valueTracker=Oc(t))}function Ga(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ha(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Pr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mc=/[\n"\\]/g;function de(t){return t.replace(Mc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Gi(t,y,Ke(n)):r!=null?Gi(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Br(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Gi(t,n,r){n==="number"&&Pr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function di(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function kr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(re(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||qr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Qa(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Eu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Eu(t,f,n[f])}function Fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(t){return Uc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mi=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,pi=null;function Ya(t){var n=Pn(t);if(n&&(t=n.stateNode)){var r=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(s(90));an(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ga(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&di(t,!!r.multiple,n,!1)}}}var qn=!1;function Tu(t,n,r){if(qn)return t(n,r);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(gi!==null||pi!==null)&&(go(),gi&&(n=gi,t=pi,pi=gi=null,Ya(n),t)))for(n=0;n<t.length;n++)Ya(t[n])}}function jr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[fe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(On)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){En=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{En=!1}var jn=null,Qi=null,yi=null;function Xa(){if(yi)return yi;var t,n=Qi,r=n.length,l,c="value"in jn?jn.value:jn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return yi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Ka(){return!1}function Ce(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:Ka,this.isPropagationStopped=Ka,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=Ce(kt),Gr=A({},kt,{view:0,detail:0}),Au=Ce(Gr),Ns,Os,Qn,Qr=A({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Ns=t.screenX-Qn.screenX,Os=t.screenY-Qn.screenY):Os=Ns=0,Qn=t),Ns)},movementY:function(t){return"movementY"in t?t.movementY:Os}}),Tn=Ce(Qr),Su=A({},Qr,{dataTransfer:0}),Lc=Ce(Su),Fr=A({},Gr,{relatedTarget:0}),Ms=Ce(Fr),Za=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),xs=Ce(Za),bu=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Us=Ce(bu),zc=A({},kt,{data:0}),$a=Ce(zc),Yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ja(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wu[t])?!!n[t]:!1}function Xr(){return Ja}var Cu=A({},Gr,{key:function(t){if(t.key){var n=Yr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ls=Ce(Cu),Du=A({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wa=Ce(Du),_i=A({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),Vu=Ce(_i),Iu=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nu=Ce(Iu),Ou=A({},Qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zs=Ce(Ou),Ze=A({},kt,{newState:0,oldState:0}),Mu=Ce(Ze),xu=[9,13,27,32],Fn=On&&"CompositionEvent"in window,o=null;On&&"documentMode"in document&&(o=document.documentMode);var m=On&&"TextEvent"in window&&!o,p=On&&(!Fn||o&&8<o&&11>=o),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return xu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function ve(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Ot(t,n){if(Nt)return t==="compositionend"||!Fn&&q(t,n)?(t=Xa(),yi=Qi=jn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function vi(t,n,r,l){gi?pi?pi.push(l):pi=[l]:gi=l,n=To(n,"onChange"),0<n.length&&(r=new Is("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Yn=null;function tl(t){xp(t,0)}function Uu(t){var n=Bn(t);if(Ga(n))return t}function em(t,n){if(t==="change")return n}var nm=!1;if(On){var Pc;if(On){var Bc="oninput"in document;if(!Bc){var im=document.createElement("div");im.setAttribute("oninput","return;"),Bc=typeof im.oninput=="function"}Pc=Bc}else Pc=!1;nm=Pc&&(!document.documentMode||9<document.documentMode)}function rm(){Ue&&(Ue.detachEvent("onpropertychange",sm),Yn=Ue=null)}function sm(t){if(t.propertyName==="value"&&Uu(Yn)){var n=[];vi(n,Yn,t,vn(t)),Tu(tl,n)}}function VE(t,n,r){t==="focusin"?(rm(),Ue=n,Yn=r,Ue.attachEvent("onpropertychange",sm)):t==="focusout"&&rm()}function IE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(Yn)}function NE(t,n){if(t==="click")return Uu(n)}function OE(t,n){if(t==="input"||t==="change")return Uu(n)}function ME(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:ME;function el(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Cr.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function am(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lm(t,n){var r=am(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=am(r)}}function um(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?um(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function om(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Pr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Pr(t.document)}return n}function kc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var xE=On&&"documentMode"in document&&11>=document.documentMode,Ps=null,qc=null,nl=null,jc=!1;function cm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jc||Ps==null||Ps!==Pr(l)||(l=Ps,"selectionStart"in l&&kc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=To(qc,"onSelect"),0<l.length&&(n=new Is("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ps)))}function Kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Bs={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Hc={},hm={};On&&(hm=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Zr(t){if(Hc[t])return Hc[t];if(!Bs[t])return t;var n=Bs[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in hm)return Hc[t]=n[r];return t}var fm=Zr("animationend"),dm=Zr("animationiteration"),mm=Zr("animationstart"),UE=Zr("transitionrun"),LE=Zr("transitionstart"),zE=Zr("transitioncancel"),gm=Zr("transitionend"),pm=new Map,Gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gc.push("scrollEnd");function Mn(t,n){pm.set(t,n),Nn(n,[t])}var ym=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var r=ym.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Cs(n)},ym.set(t,n),n)}return{value:t,source:n,stack:Cs(n)}}var Sn=[],ks=0,Qc=0;function Lu(){for(var t=ks,n=Qc=ks=0;n<t;){var r=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&_m(r,c,f)}}function zu(t,n,r,l){Sn[ks++]=t,Sn[ks++]=n,Sn[ks++]=r,Sn[ks++]=l,Qc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Fc(t,n,r,l){return zu(t,n,r,l),Pu(t)}function qs(t,n){return zu(t,null,null,n),Pu(t)}function _m(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-je(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Pu(t){if(50<Cl)throw Cl=0,Jh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var js={};function PE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,r,l){return new PE(t,n,r,l)}function Yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,n){var r=t.alternate;return r===null?(r=un(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function vm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Bu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Yc(t)&&(y=1);else if(typeof t=="string")y=k0(t,r,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=un(31,r,n,c),t.elementType=C,t.lanes=f,t;case Z:return $r(r.children,c,f,n);case et:y=8,c|=24;break;case $:return t=un(12,r,n,c|2),t.elementType=$,t.lanes=f,t;case Et:return t=un(13,r,n,c),t.elementType=Et,t.lanes=f,t;case zt:return t=un(19,r,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vt:case st:y=10;break t;case dt:y=9;break t;case Ut:y=11;break t;case O:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=un(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function $r(t,n,r,l){return t=un(7,t,l,n),t.lanes=r,t}function Xc(t,n,r){return t=un(6,t,null,n),t.lanes=r,t}function Kc(t,n,r){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Hs=[],Gs=0,ku=null,qu=0,bn=[],Rn=0,Jr=null,Ti=1,Ai="";function Wr(t,n){Hs[Gs++]=qu,Hs[Gs++]=ku,ku=t,qu=n}function Em(t,n,r){bn[Rn++]=Ti,bn[Rn++]=Ai,bn[Rn++]=Jr,Jr=t;var l=Ti;t=Ai;var c=32-je(l)-1;l&=~(1<<c),r+=1;var f=32-je(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ti=1<<32-je(n)+c|r<<c|l,Ai=f+t}else Ti=1<<f|r<<c|l,Ai=t}function Zc(t){t.return!==null&&(Wr(t,1),Em(t,1,0))}function $c(t){for(;t===ku;)ku=Hs[--Gs],Hs[Gs]=null,qu=Hs[--Gs],Hs[Gs]=null;for(;t===Jr;)Jr=bn[--Rn],bn[Rn]=null,Ai=bn[--Rn],bn[Rn]=null,Ti=bn[--Rn],bn[Rn]=null}var $e=null,ae=null,Bt=!1,ts=null,Xn=!1,Jc=Error(s(519));function es(t){var n=Error(s(418,""));throw sl(An(n,t)),Jc}function Tm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[fe]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<Vl.length;r++)Ct(Vl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Br(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ds(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),kr(n,l.value,l.defaultValue,l.children),Ds(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Pp(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=Ao),n=!0):n=!1,n||es(t)}function Am(t){for($e=t.return;$e;)switch($e.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:$e=$e.return}}function il(t){if(t!==$e)return!1;if(!Bt)return Am(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||gf(t.type,t.memoizedProps)),r=!r),r&&ae&&es(t),Am(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=Un(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,lr(t.type)?(t=vf,vf=null,ae=t):ae=n):ae=$e?Un(t.stateNode.nextSibling):null;return!0}function rl(){ae=$e=null,Bt=!1}function Sm(){var t=ts;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),ts=null),t}function sl(t){ts===null?ts=[t]:ts.push(t)}var Wc=X(null),ns=null,Si=null;function Fi(t,n,r){J(Wc,n._currentValue),n._currentValue=r}function bi(t){t._currentValue=Wc.current,nt(Wc)}function th(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function eh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),th(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),th(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function al(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;ln(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===we.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}c=c.return}t!==null&&eh(n,t,r,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function is(t){ns=t,Si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return bm(ns,t)}function Hu(t,n){return ns===null&&is(t),bm(t,n)}function bm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Si===null){if(t===null)throw Error(s(308));Si=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Si=Si.next=n;return r}var BE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},kE=a.unstable_scheduleCallback,qE=a.unstable_NormalPriority,Te={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nh(){return{controller:new BE,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&kE(qE,function(){t.controller.abort()})}var ul=null,ih=0,Qs=0,Fs=null;function jE(t,n){if(ul===null){var r=ul=[];ih=0,Qs=af(),Fs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ih++,n.then(Rm,Rm),n}function Rm(){if(--ih===0&&ul!==null){Fs!==null&&(Fs.status="fulfilled");var t=ul;ul=null,Qs=0,Fs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function HE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var wm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&jE(t,n),wm!==null&&wm(t,n)};var rs=X(null);function rh(){var t=rs.current;return t!==null?t:$t.pooledCache}function Gu(t,n){n===null?J(rs,rs.current):J(rs,n.pool)}function Cm(){var t=rh();return t===null?null:{parent:Te._currentValue,pool:t}}var ol=Error(s(460)),Dm=Error(s(474)),Qu=Error(s(542)),sh={then:function(){}};function Vm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fu(){}function Im(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Fu,Fu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Om(t),t;default:if(typeof n.status=="string")n.then(Fu,Fu);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Om(t),t}throw cl=n,ol}}var cl=null;function Nm(){if(cl===null)throw Error(s(459));var t=cl;return cl=null,t}function Om(t){if(t===ol||t===Qu)throw Error(s(483))}var Yi=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ki(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Pu(t),_m(t,null,r),n}return zu(t,l,n,r),Pu(t)}function hl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ba(t,r)}}function uh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var oh=!1;function fl(){if(oh){var t=Fs;if(t!==null)throw t}}function dl(t,n,r,l){oh=!1;var c=t.updateQueue;Yi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,G=P=b=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Mt&B)===B:(l&B)===B){B!==0&&B===Qs&&(oh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=t,ht=E;B=n;var Xt=r;switch(ht.tag){case 1:if(gt=ht.payload,typeof gt=="function"){F=gt.call(Xt,F,B);break t}F=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ht.payload,B=typeof gt=="function"?gt.call(Xt,F,B):gt,B==null)break t;F=A({},F,B);break t;case 2:Yi=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=k,b=F):G=G.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(b=F),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ir|=y,t.lanes=y,t.memoizedState=F}}function Mm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function xm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Mm(r[t],n)}var Ys=X(null),Yu=X(0);function Um(t,n){t=Ni,J(Yu,t),J(Ys,n),Ni=t|n.baseLanes}function ch(){J(Yu,Ni),J(Ys,Ys.current)}function hh(){Ni=Yu.current,nt(Ys),nt(Yu)}var Zi=0,St=null,Ft=null,me=null,Xu=!1,Xs=!1,ss=!1,Ku=0,ml=0,Ks=null,GE=0;function oe(){throw Error(s(321))}function fh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function dh(t,n,r,l,c,f){return Zi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?_g:vg,ss=!1,f=r(l,c),ss=!1,Xs&&(f=zm(n,r,l,c)),Lm(t),f}function Lm(t){H.H=eo;var n=Ft!==null&&Ft.next!==null;if(Zi=0,me=Ft=St=null,Xu=!1,ml=0,Ks=null,n)throw Error(s(300));t===null||Ve||(t=t.dependencies,t!==null&&ju(t)&&(Ve=!0))}function zm(t,n,r,l){St=t;var c=0;do{if(Xs&&(Ks=null),ml=0,Xs=!1,25<=c)throw Error(s(301));if(c+=1,me=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=$E,f=n(r,l)}while(Xs);return f}function QE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(St.flags|=1024),n}function mh(){var t=Ku!==0;return Ku=0,t}function gh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ph(t){if(Xu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Xu=!1}Zi=0,me=Ft=St=null,Xs=!1,ml=Ku=0,Ks=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?St.memoizedState=me=t:me=me.next=t,me}function ge(){if(Ft===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=me===null?St.memoizedState:me.next;if(n!==null)me=n,Ft=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},me===null?St.memoizedState=me=t:me=me.next=t}return me}function yh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=ml;return ml+=1,Ks===null&&(Ks=[]),t=Im(Ks,t,n),n=St,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?_g:vg),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===st)return He(t)}throw Error(s(438,String(t)))}function _h(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=yh(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function Ri(t,n){return typeof n=="function"?n(t):n}function $u(t){var n=ge();return vh(n,Ft,t)}function vh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Mt&F)===F:(Zi&F)===F){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===Qs&&(G=!0);else if((Zi&B)===B){P=P.next,B===Qs&&(G=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,St.lanes|=B,ir|=B;F=P.action,ss&&r(f,F),f=P.hasEagerState?P.eagerState:r(f,F)}else B={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,St.lanes|=F,ir|=F;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!ln(f,t.memoizedState)&&(Ve=!0,G&&(r=Fs,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Eh(t){var n=ge(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);ln(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Pm(t,n,r){var l=St,c=ge(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!ln((Ft||c).memoizedState,r);y&&(c.memoizedState=r,Ve=!0),c=c.queue;var E=qm.bind(null,l,c,t);if(pl(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,Zs(9,Ju(),km.bind(null,l,c,r,n),null),$t===null)throw Error(s(349));f||(Zi&124)!==0||Bm(l,n,r)}return r}function Bm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=yh(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function km(t,n,r,l){n.value=r,n.getSnapshot=l,jm(n)&&Hm(t)}function qm(t,n,r){return r(function(){jm(n)&&Hm(t)})}function jm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function Hm(t){var n=qs(t,2);n!==null&&dn(n,t,2)}function Th(t){var n=Je();if(typeof t=="function"){var r=t;if(t=r(),ss){sn(!0);try{r()}finally{sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},n}function Gm(t,n,r,l){return t.baseState=r,vh(t,Ft,typeof l=="function"?l:Ri)}function FE(t,n,r,l,c){if(to(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Qm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Qm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),Fm(t,n,E)}catch(P){Ah(t,n,P)}finally{H.T=f}}else try{f=r(c,l),Fm(t,n,f)}catch(P){Ah(t,n,P)}}function Fm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Ym(t,n,l)},function(l){return Ah(t,n,l)}):Ym(t,n,r)}function Ym(t,n,r){n.status="fulfilled",n.value=r,Xm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Qm(t,r)))}function Ah(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Xm(n),n=n.next;while(n!==l)}t.action=null}function Xm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Km(t,n){return n}function Zm(t,n){if(Bt){var r=$t.formState;if(r!==null){t:{var l=St;if(Bt){if(ae){e:{for(var c=ae,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Un(c.nextSibling),l=c.data==="F!";break t}}es(l)}l=!1}l&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Km,lastRenderedState:n},r.queue=l,r=gg.bind(null,St,l),l.dispatch=r,l=Th(!1),f=Ch.bind(null,St,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=FE.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function $m(t){var n=ge();return Jm(n,Ft,t)}function Jm(t,n,r){if(n=vh(t,n,Km)[0],t=$u(Ri)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=gl(n)}catch(y){throw y===ol?Qu:y}else l=n;n=ge();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,Zs(9,Ju(),YE.bind(null,c,r),null)),[l,f,t]}function YE(t,n){t.action=n}function Wm(t){var n=ge(),r=Ft;if(r!==null)return Jm(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Zs(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=yh(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Ju(){return{destroy:void 0,resource:void 0}}function tg(){return ge().memoizedState}function Wu(t,n,r,l){var c=Je();l=l===void 0?null:l,St.flags|=t,c.memoizedState=Zs(1|n,Ju(),r,l)}function pl(t,n,r,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&fh(l,Ft.memoizedState.deps)?c.memoizedState=Zs(n,f,r,l):(St.flags|=t,c.memoizedState=Zs(1|n,f,r,l))}function eg(t,n){Wu(8390656,8,t,n)}function ng(t,n){pl(2048,8,t,n)}function ig(t,n){return pl(4,2,t,n)}function rg(t,n){return pl(4,4,t,n)}function sg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ag(t,n,r){r=r!=null?r.concat([t]):null,pl(4,4,sg.bind(null,n,t),r)}function Sh(){}function lg(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&fh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function ug(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&fh(n,l[1]))return l[0];if(l=t(),ss){sn(!0);try{t()}finally{sn(!1)}}return r.memoizedState=[l,n],l}function bh(t,n,r){return r===void 0||(Zi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=hp(),St.lanes|=t,ir|=t,r)}function og(t,n,r,l){return ln(r,n)?r:Ys.current!==null?(t=bh(t,r,l),ln(t,n)||(Ve=!0),t):(Zi&42)===0?(Ve=!0,t.memoizedState=r):(t=hp(),St.lanes|=t,ir|=t,n)}function cg(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Ch(t,!1,n,r);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=HE(b,l);yl(t,n,G,fn(t))}else yl(t,n,l,fn(t))}catch(F){yl(t,n,{then:function(){},status:"rejected",reason:F},fn())}finally{tt.p=f,H.T=y}}function XE(){}function Rh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=hg(t).queue;cg(t,c,n,ut,r===null?XE:function(){return fg(t),r(l)})}function hg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function fg(t){var n=hg(t).next.queue;yl(t,n,{},fn())}function wh(){return He(Ul)}function dg(){return ge().memoizedState}function mg(){return ge().memoizedState}function KE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=Xi(r);var l=Ki(n,t,r);l!==null&&(dn(l,n,r),hl(l,n,r)),n={cache:nh()},t.payload=n;return}n=n.return}}function ZE(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},to(t)?pg(n,r):(r=Fc(t,n,r,l),r!==null&&(dn(r,t,l),yg(r,n,l)))}function gg(t,n,r){var l=fn();yl(t,n,r,l)}function yl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(to(t))pg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,y))return zu(t,n,c,0),$t===null&&Lu(),!1}catch{}finally{}if(r=Fc(t,n,c,l),r!==null)return dn(r,t,l),yg(r,n,l),!0}return!1}function Ch(t,n,r,l){if(l={lane:2,revertLane:af(),action:l,hasEagerState:!1,eagerState:null,next:null},to(t)){if(n)throw Error(s(479))}else n=Fc(t,r,l,2),n!==null&&dn(n,t,2)}function to(t){var n=t.alternate;return t===St||n!==null&&n===St}function pg(t,n){Xs=Xu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function yg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ba(t,r)}}var eo={readContext:He,use:Zu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},_g={readContext:He,use:Zu,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:eg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Wu(4194308,4,sg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Wu(4194308,4,t,n)},useInsertionEffect:function(t,n){Wu(4,2,t,n)},useMemo:function(t,n){var r=Je();n=n===void 0?null:n;var l=t();if(ss){sn(!0);try{t()}finally{sn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Je();if(r!==void 0){var c=r(n);if(ss){sn(!0);try{r(n)}finally{sn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=ZE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=Th(t);var n=t.queue,r=gg.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Sh,useDeferredValue:function(t,n){var r=Je();return bh(r,t,n)},useTransition:function(){var t=Th(!1);return t=cg.bind(null,St,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=Je();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),$t===null)throw Error(s(349));(Mt&124)!==0||Bm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,eg(qm.bind(null,l,f,t),[t]),l.flags|=2048,Zs(9,Ju(),km.bind(null,l,f,r,n),null),r},useId:function(){var t=Je(),n=$t.identifierPrefix;if(Bt){var r=Ai,l=Ti;r=(l&~(1<<32-je(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Ku++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=GE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:wh,useFormState:Zm,useActionState:Zm,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ch.bind(null,St,!0,r),r.dispatch=n,[t,n]},useMemoCache:_h,useCacheRefresh:function(){return Je().memoizedState=KE.bind(null,St)}},vg={readContext:He,use:Zu,useCallback:lg,useContext:He,useEffect:ng,useImperativeHandle:ag,useInsertionEffect:ig,useLayoutEffect:rg,useMemo:ug,useReducer:$u,useRef:tg,useState:function(){return $u(Ri)},useDebugValue:Sh,useDeferredValue:function(t,n){var r=ge();return og(r,Ft.memoizedState,t,n)},useTransition:function(){var t=$u(Ri)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Pm,useId:dg,useHostTransitionStatus:wh,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var r=ge();return Gm(r,Ft,t,n)},useMemoCache:_h,useCacheRefresh:mg},$E={readContext:He,use:Zu,useCallback:lg,useContext:He,useEffect:ng,useImperativeHandle:ag,useInsertionEffect:ig,useLayoutEffect:rg,useMemo:ug,useReducer:Eh,useRef:tg,useState:function(){return Eh(Ri)},useDebugValue:Sh,useDeferredValue:function(t,n){var r=ge();return Ft===null?bh(r,t,n):og(r,Ft.memoizedState,t,n)},useTransition:function(){var t=Eh(Ri)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Pm,useId:dg,useHostTransitionStatus:wh,useFormState:Wm,useActionState:Wm,useOptimistic:function(t,n){var r=ge();return Ft!==null?Gm(r,Ft,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:_h,useCacheRefresh:mg},$s=null,_l=0;function no(t){var n=_l;return _l+=1,$s===null&&($s=[]),Im($s,t,n)}function vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function io(t,n){throw n.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Eg(t){var n=t._init;return n(t._payload)}function Tg(t){function n(x,I){if(t){var z=x.deletions;z===null?(x.deletions=[I],x.flags|=16):z.push(I)}}function r(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function c(x,I){return x=Ei(x,I),x.index=0,x.sibling=null,x}function f(x,I,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<I?(x.flags|=67108866,I):z):(x.flags|=67108866,I)):(x.flags|=1048576,I)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,I,z,Q){return I===null||I.tag!==6?(I=Xc(z,x.mode,Q),I.return=x,I):(I=c(I,z),I.return=x,I)}function b(x,I,z,Q){var rt=z.type;return rt===Z?G(x,I,z.props.children,Q,z.key):I!==null&&(I.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Eg(rt)===I.type)?(I=c(I,z.props),vl(I,z),I.return=x,I):(I=Bu(z.type,z.key,z.props,null,x.mode,Q),vl(I,z),I.return=x,I)}function P(x,I,z,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Kc(z,x.mode,Q),I.return=x,I):(I=c(I,z.children||[]),I.return=x,I)}function G(x,I,z,Q,rt){return I===null||I.tag!==7?(I=$r(z,x.mode,Q,rt),I.return=x,I):(I=c(I,z),I.return=x,I)}function F(x,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Xc(""+I,x.mode,z),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case D:return z=Bu(I.type,I.key,I.props,null,x.mode,z),vl(z,I),z.return=x,z;case j:return I=Kc(I,x.mode,z),I.return=x,I;case S:var Q=I._init;return I=Q(I._payload),F(x,I,z)}if(re(I)||U(I))return I=$r(I,x.mode,z,null),I.return=x,I;if(typeof I.then=="function")return F(x,no(I),z);if(I.$$typeof===st)return F(x,Hu(x,I),z);io(x,I)}return null}function B(x,I,z,Q){var rt=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return rt!==null?null:E(x,I,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return z.key===rt?b(x,I,z,Q):null;case j:return z.key===rt?P(x,I,z,Q):null;case S:return rt=z._init,z=rt(z._payload),B(x,I,z,Q)}if(re(z)||U(z))return rt!==null?null:G(x,I,z,Q,null);if(typeof z.then=="function")return B(x,I,no(z),Q);if(z.$$typeof===st)return B(x,I,Hu(x,z),Q);io(x,z)}return null}function k(x,I,z,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(z)||null,E(I,x,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return x=x.get(Q.key===null?z:Q.key)||null,b(I,x,Q,rt);case j:return x=x.get(Q.key===null?z:Q.key)||null,P(I,x,Q,rt);case S:var Rt=Q._init;return Q=Rt(Q._payload),k(x,I,z,Q,rt)}if(re(Q)||U(Q))return x=x.get(z)||null,G(I,x,Q,rt,null);if(typeof Q.then=="function")return k(x,I,z,no(Q),rt);if(Q.$$typeof===st)return k(x,I,z,Hu(I,Q),rt);io(I,Q)}return null}function gt(x,I,z,Q){for(var rt=null,Rt=null,lt=I,ft=I=0,Ne=null;lt!==null&&ft<z.length;ft++){lt.index>ft?(Ne=lt,lt=null):Ne=lt.sibling;var Lt=B(x,lt,z[ft],Q);if(Lt===null){lt===null&&(lt=Ne);break}t&&lt&&Lt.alternate===null&&n(x,lt),I=f(Lt,I,ft),Rt===null?rt=Lt:Rt.sibling=Lt,Rt=Lt,lt=Ne}if(ft===z.length)return r(x,lt),Bt&&Wr(x,ft),rt;if(lt===null){for(;ft<z.length;ft++)lt=F(x,z[ft],Q),lt!==null&&(I=f(lt,I,ft),Rt===null?rt=lt:Rt.sibling=lt,Rt=lt);return Bt&&Wr(x,ft),rt}for(lt=l(lt);ft<z.length;ft++)Ne=k(lt,x,ft,z[ft],Q),Ne!==null&&(t&&Ne.alternate!==null&&lt.delete(Ne.key===null?ft:Ne.key),I=f(Ne,I,ft),Rt===null?rt=Ne:Rt.sibling=Ne,Rt=Ne);return t&&lt.forEach(function(fr){return n(x,fr)}),Bt&&Wr(x,ft),rt}function ht(x,I,z,Q){if(z==null)throw Error(s(151));for(var rt=null,Rt=null,lt=I,ft=I=0,Ne=null,Lt=z.next();lt!==null&&!Lt.done;ft++,Lt=z.next()){lt.index>ft?(Ne=lt,lt=null):Ne=lt.sibling;var fr=B(x,lt,Lt.value,Q);if(fr===null){lt===null&&(lt=Ne);break}t&&lt&&fr.alternate===null&&n(x,lt),I=f(fr,I,ft),Rt===null?rt=fr:Rt.sibling=fr,Rt=fr,lt=Ne}if(Lt.done)return r(x,lt),Bt&&Wr(x,ft),rt;if(lt===null){for(;!Lt.done;ft++,Lt=z.next())Lt=F(x,Lt.value,Q),Lt!==null&&(I=f(Lt,I,ft),Rt===null?rt=Lt:Rt.sibling=Lt,Rt=Lt);return Bt&&Wr(x,ft),rt}for(lt=l(lt);!Lt.done;ft++,Lt=z.next())Lt=k(lt,x,ft,Lt.value,Q),Lt!==null&&(t&&Lt.alternate!==null&&lt.delete(Lt.key===null?ft:Lt.key),I=f(Lt,I,ft),Rt===null?rt=Lt:Rt.sibling=Lt,Rt=Lt);return t&&lt.forEach(function(J0){return n(x,J0)}),Bt&&Wr(x,ft),rt}function Xt(x,I,z,Q){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case D:t:{for(var rt=z.key;I!==null;){if(I.key===rt){if(rt=z.type,rt===Z){if(I.tag===7){r(x,I.sibling),Q=c(I,z.props.children),Q.return=x,x=Q;break t}}else if(I.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Eg(rt)===I.type){r(x,I.sibling),Q=c(I,z.props),vl(Q,z),Q.return=x,x=Q;break t}r(x,I);break}else n(x,I);I=I.sibling}z.type===Z?(Q=$r(z.props.children,x.mode,Q,z.key),Q.return=x,x=Q):(Q=Bu(z.type,z.key,z.props,null,x.mode,Q),vl(Q,z),Q.return=x,x=Q)}return y(x);case j:t:{for(rt=z.key;I!==null;){if(I.key===rt)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){r(x,I.sibling),Q=c(I,z.children||[]),Q.return=x,x=Q;break t}else{r(x,I);break}else n(x,I);I=I.sibling}Q=Kc(z,x.mode,Q),Q.return=x,x=Q}return y(x);case S:return rt=z._init,z=rt(z._payload),Xt(x,I,z,Q)}if(re(z))return gt(x,I,z,Q);if(U(z)){if(rt=U(z),typeof rt!="function")throw Error(s(150));return z=rt.call(z),ht(x,I,z,Q)}if(typeof z.then=="function")return Xt(x,I,no(z),Q);if(z.$$typeof===st)return Xt(x,I,Hu(x,z),Q);io(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(r(x,I.sibling),Q=c(I,z),Q.return=x,x=Q):(r(x,I),Q=Xc(z,x.mode,Q),Q.return=x,x=Q),y(x)):r(x,I)}return function(x,I,z,Q){try{_l=0;var rt=Xt(x,I,z,Q);return $s=null,rt}catch(lt){if(lt===ol||lt===Qu)throw lt;var Rt=un(29,lt,null,x.mode);return Rt.lanes=Q,Rt.return=x,Rt}finally{}}}var Js=Tg(!0),Ag=Tg(!1),wn=X(null),Kn=null;function $i(t){var n=t.alternate;J(Ae,Ae.current&1),J(wn,t),Kn===null&&(n===null||Ys.current!==null||n.memoizedState!==null)&&(Kn=t)}function Sg(t){if(t.tag===22){if(J(Ae,Ae.current),J(wn,t),Kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Kn=t)}}else Ji()}function Ji(){J(Ae,Ae.current),J(wn,wn.current)}function wi(t){nt(wn),Kn===t&&(Kn=null),nt(Ae)}var Ae=X(0);function ro(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||_f(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Dh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Xi(l);c.payload=n,r!=null&&(c.callback=r),n=Ki(t,c,l),n!==null&&(dn(n,t,l),hl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Xi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Ki(t,c,l),n!==null&&(dn(n,t,l),hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=Xi(r);l.tag=2,n!=null&&(l.callback=n),n=Ki(t,l,r),n!==null&&(dn(n,t,r),hl(n,t,r))}};function bg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!el(r,l)||!el(c,f):!0}function Rg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Vh.enqueueReplaceState(n,n.state,null)}function as(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var so=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function wg(t){so(t)}function Cg(t){console.error(t)}function Dg(t){so(t)}function ao(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Vg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ih(t,n,r){return r=Xi(r),r.tag=3,r.payload={element:null},r.callback=function(){ao(t,n)},r}function Ig(t){return t=Xi(t),t.tag=3,t}function Ng(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Vg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Vg(n,r,l),typeof c!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function JE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&al(n,r,c,!0),r=wn.current,r!==null){switch(r.tag){case 13:return Kn===null?tf():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===sh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),nf(t,l,c)),!1;case 22:return r.flags|=65536,l===sh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),nf(t,l,c)),!1}throw Error(s(435,r.tag))}return nf(t,l,c),tf(),!1}if(Bt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Jc&&(t=Error(s(422),{cause:l}),sl(An(t,r)))):(l!==Jc&&(n=Error(s(423),{cause:l}),sl(An(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,r),c=Ih(t.stateNode,l,c),uh(t,c),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:l});if(f=An(f,r),wl===null?wl=[f]:wl.push(f),le!==4&&(le=2),n===null)return!0;l=An(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Ih(r.stateNode,l,t),uh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Ig(c),Ng(c,t,r,l),uh(r,c),!1}r=r.return}while(r!==null);return!1}var Og=Error(s(461)),Ve=!1;function Le(t,n,r,l){n.child=t===null?Ag(n,null,r,l):Js(n,t.child,r,l)}function Mg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return is(n),l=dh(t,n,r,y,f,c),E=mh(),t!==null&&!Ve?(gh(t,n,c),Ci(t,n,c)):(Bt&&E&&Zc(n),n.flags|=1,Le(t,n,l,c),n.child)}function xg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Yc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Ug(t,n,f,l,c)):(t=Bu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ph(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:el,r(y,l)&&t.ref===n.ref)return Ci(t,n,c)}return n.flags|=1,t=Ei(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ug(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(el(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Ph(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Ci(t,n,c)}return Nh(t,n,r,l,c)}function Lg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return zg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(n,f!==null?f.cachePool:null),f!==null?Um(n,f):ch(),Sg(n);else return n.lanes=n.childLanes=536870912,zg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Gu(n,f.cachePool),Um(n,f),Ji(),n.memoizedState=null):(t!==null&&Gu(n,null),ch(),Ji());return Le(t,n,c,r),n.child}function zg(t,n,r,l){var c=rh();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Gu(n,null),ch(),Sg(n),t!==null&&al(t,n,l,!0),null}function lo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Nh(t,n,r,l,c){return is(n),r=dh(t,n,r,l,void 0,c),l=mh(),t!==null&&!Ve?(gh(t,n,c),Ci(t,n,c)):(Bt&&l&&Zc(n),n.flags|=1,Le(t,n,r,c),n.child)}function Pg(t,n,r,l,c,f){return is(n),n.updateQueue=null,r=zm(n,l,r,c),Lm(t),l=mh(),t!==null&&!Ve?(gh(t,n,f),Ci(t,n,f)):(Bt&&l&&Zc(n),n.flags|=1,Le(t,n,r,f),n.child)}function Bg(t,n,r,l,c){if(is(n),n.stateNode===null){var f=js,y=r.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ah(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?He(y):js,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Dh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Vh.enqueueReplaceState(f,f.state,null),dl(n,l,f,c),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=as(r,E);f.props=b;var P=f.context,G=r.contextType;y=js,typeof G=="object"&&G!==null&&(y=He(G));var F=r.getDerivedStateFromProps;G=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&Rg(n,f,l,y),Yi=!1;var B=n.memoizedState;f.state=B,dl(n,l,f,c),fl(),P=n.memoizedState,E||B!==P||Yi?(typeof F=="function"&&(Dh(n,r,F,l),P=n.memoizedState),(b=Yi||bg(n,r,b,l,B,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lh(t,n),y=n.memoizedProps,G=as(r,y),f.props=G,F=n.pendingProps,B=f.context,P=r.contextType,b=js,typeof P=="object"&&P!==null&&(b=He(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||B!==b)&&Rg(n,f,l,b),Yi=!1,B=n.memoizedState,f.state=B,dl(n,l,f,c),fl();var k=n.memoizedState;y!==F||B!==k||Yi||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof E=="function"&&(Dh(n,r,E,l),k=n.memoizedState),(G=Yi||bg(n,r,G,l,B,k,b)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,lo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Js(n,t.child,null,c),n.child=Js(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ci(t,n,c),t}function kg(t,n,r,l){return rl(),n.flags|=256,Le(t,n,r,l),n.child}var Oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mh(t){return{baseLanes:t,cachePool:Cm()}}function xh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function qg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?$i(n):Ji(),Bt){var E=ae,b;if(b=E){t:{for(b=E,E=Xn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Un(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Jr!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},b=un(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,$e=n,ae=null,b=!0):b=!1}b||es(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return _f(E)?n.lanes=32:n.lanes=536870912,null;wi(n)}return E=l.children,l=l.fallback,c?(Ji(),c=n.mode,E=uo({mode:"hidden",children:E},c),l=$r(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Mh(r),c.childLanes=xh(t,y,r),n.memoizedState=Oh,l):($i(n),Uh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?($i(n),n.flags&=-257,n=Lh(t,n,r)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),c=l.fallback,E=n.mode,l=uo({mode:"visible",children:l.children},E),c=$r(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Js(n,t.child,null,r),l=n.child,l.memoizedState=Mh(r),l.childLanes=xh(t,y,r),n.memoizedState=Oh,n=c);else if($i(n),_f(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(s(419)),l.stack="",l.digest=y,sl({value:l,source:null,stack:null}),n=Lh(t,n,r)}else if(Ve||al(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Bi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,qs(t,l),dn(y,t,l),Og;E.data==="$?"||tf(),n=Lh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=Un(E.nextSibling),$e=n,Bt=!0,ts=null,Xn=!1,t!==null&&(bn[Rn++]=Ti,bn[Rn++]=Ai,bn[Rn++]=Jr,Ti=t.id,Ai=t.overflow,Jr=n),n=Uh(n,l.children),n.flags|=4096);return n}return c?(Ji(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=Ei(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=Ei(P,c):(c=$r(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Mh(r):(b=E.cachePool,b!==null?(P=Te._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=Cm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=xh(t,y,r),n.memoizedState=Oh,l):($i(n),r=t.child,t=r.sibling,r=Ei(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Uh(t,n){return n=uo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function uo(t,n){return t=un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Lh(t,n,r){return Js(n,t.child,null,r),t=Uh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function jg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),th(t.return,n,r)}function zh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Hg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jg(t,r,n);else if(t.tag===19)jg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&ro(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),zh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ro(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}zh(n,!0,r,null,f);break;case"together":zh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ci(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ir|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(al(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Ei(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ei(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ph(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function WE(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Fi(n,Te,t.memoizedState.cache),rl();break;case 27:case 5:Pi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Fi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($i(n),n.flags|=128,null):(r&n.child.childLanes)!==0?qg(t,n,r):($i(n),t=Ci(t,n,r),t!==null?t.sibling:null);$i(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(al(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Hg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Lg(t,n,r);case 24:Fi(n,Te,t.memoizedState.cache)}return Ci(t,n,r)}function Gg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Ph(t,r)&&(n.flags&128)===0)return Ve=!1,WE(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,Bt&&(n.flags&1048576)!==0&&Em(n,qu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Yc(l)?(t=as(l,t),n.tag=1,n=Bg(null,n,l,t,r)):(n.tag=0,n=Nh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Ut){n.tag=11,n=Mg(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=xg(null,n,l,t,r);break t}}throw n=Me(l)||l,Error(s(306,n,""))}}return n;case 0:return Nh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=as(l,n.pendingProps),Bg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,lh(t,n),dl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Fi(n,Te,l),l!==f.cache&&eh(n,[Te],r,!0),fl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=kg(t,n,l,r);break t}else if(l!==c){c=An(Error(s(424)),n),sl(c),n=kg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Un(t.firstChild),$e=n,Bt=!0,ts=null,Xn=!0,r=Ag(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(rl(),l===c){n=Ci(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return lo(t,n),t===null?(r=Xp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=So(pt.current).createElement(r),l[_e]=n,l[fe]=t,Pe(l,r,t),ue(l),n.stateNode=l):n.memoizedState=Xp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pi(n),t===null&&Bt&&(l=n.stateNode=Qp(n.type,n.pendingProps,pt.current),$e=n,Xn=!0,c=ae,lr(n.type)?(vf=c,ae=Un(l.firstChild)):ae=c),Le(t,n,n.pendingProps.children,r),lo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=ae)&&(l=C0(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,$e=n,ae=Un(l.firstChild),Xn=!1,c=!0):c=!1),c||es(n)),Pi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,gf(c,f)?l=null:y!==null&&gf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=dh(t,n,QE,null,null,r),Ul._currentValue=c),lo(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=ae)&&(r=D0(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,$e=n,ae=null,t=!0):t=!1),t||es(n)),null;case 13:return qg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Js(n,null,l,r):Le(t,n,l,r),n.child;case 11:return Mg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Fi(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,is(n),c=He(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return xg(t,n,n.type,n.pendingProps,r);case 15:return Ug(t,n,n.type,n.pendingProps,r);case 19:return Hg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=uo(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ei(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Lg(t,n,r);case 24:return is(n),l=He(Te),t===null?(c=rh(),c===null&&(c=$t,f=nh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},ah(n),Fi(n,Te,c)):((t.lanes&r)!==0&&(lh(t,n),dl(n,null,null,r),fl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Fi(n,Te,l)):(l=f.cache,Fi(n,Te,l),l!==c.cache&&eh(n,[Te],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Di(t){t.flags|=4}function Qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wp(n)){if(n=wn.current,n!==null&&((Mt&4194048)===Mt?Kn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Kn))throw cl=sh,Dm;t.flags|=8192}}function oo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?za():536870912,t.lanes|=n,na|=n)}function El(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function t0(t,n,r){var l=n.pendingProps;switch($c(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),bi(Te),Ln(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(il(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sm())),ne(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(ne(n),Qg(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),ne(n),Qg(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),ne(n),n.flags&=-16777217),null;case 27:li(n),r=pt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=ot.current,il(n)?Tm(n):(t=Qp(c,l,r),n.stateNode=t,Di(n))}return ne(n),null;case 5:if(li(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(t=ot.current,il(n))Tm(n);else{switch(c=So(pt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_e]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=pt.current,il(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Pp(t.nodeValue,r)),t||es(n)}else t=So(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=il(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[_e]=n}else rl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Sm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(wi(n),n):(wi(n),null)}if(wi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),oo(n,n.updateQueue),ne(n),null;case 4:return Ln(),t===null&&cf(n.stateNode.containerInfo),ne(n),null;case 10:return bi(n.type),ne(n),null;case 19:if(nt(Ae),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)El(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ro(t),f!==null){for(n.flags|=128,El(c,!1),t=f.updateQueue,n.updateQueue=t,oo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)vm(r,t),r=r.sibling;return J(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&pn()>fo&&(n.flags|=128,l=!0,El(c,!1),n.lanes=4194304)}else{if(!l)if(t=ro(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,oo(n,t),El(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ne(n),null}else 2*pn()-c.renderingStartTime>fo&&r!==536870912&&(n.flags|=128,l=!0,El(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=pn(),n.sibling=null,t=Ae.current,J(Ae,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return wi(n),hh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&oo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(rs),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),bi(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function e0(t,n){switch($c(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return bi(Te),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 13:if(wi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));rl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ae),null;case 4:return Ln(),null;case 10:return bi(n.type),null;case 22:case 23:return wi(n),hh(),t!==null&&nt(rs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return bi(Te),null;case 25:return null;default:return null}}function Fg(t,n){switch($c(n),n.tag){case 3:bi(Te),Ln();break;case 26:case 27:case 5:li(n);break;case 4:Ln();break;case 13:wi(n);break;case 19:nt(Ae);break;case 10:bi(n.type);break;case 22:case 23:wi(n),hh(),t!==null&&nt(rs);break;case 24:bi(Te)}}function Tl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function Wi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(G){Kt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Kt(n,n.return,G)}}function Yg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{xm(n,r)}catch(l){Kt(t,t.return,l)}}}function Xg(t,n,r){r.props=as(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function Al(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Kt(t,n,c)}}function Zn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function Kg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Bh(t,n,r){try{var l=t.stateNode;A0(l,t.type,r,n),l[fe]=n}catch(c){Kt(t,t.return,c)}}function Zg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function kh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ao));else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(qh(t,n,r),t=t.sibling;t!==null;)qh(t,n,r),t=t.sibling}function co(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(co(t,n,r),t=t.sibling;t!==null;)co(t,n,r),t=t.sibling}function $g(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,r),n[_e]=t,n[fe]=r}catch(f){Kt(t,t.return,f)}}var Vi=!1,ce=!1,jh=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function n0(t,n){if(t=t.containerInfo,df=Vo,t=om(t),kc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,G=0,F=t,B=null;e:for(;;){for(var k;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(k=F.firstChild)!==null;)B=F,F=k;for(;;){if(F===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++G===l&&(b=y),(k=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=k}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(mf={focusedElem:t,selectionRange:r},Vo=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var gt=as(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(gt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Kt(r,r.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)yf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function Wg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:tr(t,r),l&4&&Tl(5,r);break;case 1:if(tr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(r,r.return,y)}else{var c=as(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(r,r.return,y)}}l&64&&Yg(r),l&512&&Al(r,r.return);break;case 3:if(tr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{xm(t,n)}catch(y){Kt(r,r.return,y)}}break;case 27:n===null&&l&4&&$g(r);case 26:case 5:tr(t,r),n===null&&l&4&&Kg(r),l&512&&Al(r,r.return);break;case 12:tr(t,r);break;case 13:tr(t,r),l&4&&np(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=h0.bind(null,r),V0(t,r))));break;case 22:if(l=r.memoizedState!==null||Vi,!l){n=n!==null&&n.memoizedState!==null||ce,c=Vi;var f=ce;Vi=l,(ce=n)&&!f?er(t,r,(r.subtreeFlags&8772)!==0):tr(t,r),Vi=c,ce=f}break;case 30:break;default:tr(t,r)}}function tp(t){var n=t.alternate;n!==null&&(t.alternate=null,tp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ji(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,We=!1;function Ii(t,n,r){for(r=r.child;r!==null;)ep(t,n,r),r=r.sibling}function ep(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:ce||Zn(r,n),Ii(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Zn(r,n);var l=ee,c=We;lr(r.type)&&(ee=r.stateNode,We=!1),Ii(t,n,r),Nl(r.stateNode),ee=l,We=c;break;case 5:ce||Zn(r,n);case 6:if(l=ee,c=We,ee=null,Ii(t,n,r),ee=l,We=c,ee!==null)if(We)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{ee.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:ee!==null&&(We?(t=ee,Hp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Bl(t)):Hp(ee,r.stateNode));break;case 4:l=ee,c=We,ee=r.stateNode.containerInfo,We=!0,Ii(t,n,r),ee=l,We=c;break;case 0:case 11:case 14:case 15:ce||Wi(2,r,n),ce||Wi(4,r,n),Ii(t,n,r);break;case 1:ce||(Zn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Xg(r,n,l)),Ii(t,n,r);break;case 21:Ii(t,n,r);break;case 22:ce=(l=ce)||r.memoizedState!==null,Ii(t,n,r),ce=l;break;default:Ii(t,n,r)}}function np(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(r){Kt(n,n.return,r)}}function i0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Jg),n;default:throw Error(s(435,t.tag))}}function Hh(t,n){var r=i0(t);n.forEach(function(l){var c=f0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(lr(E.type)){ee=E.stateNode,We=!1;break t}break;case 5:ee=E.stateNode,We=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(ee===null)throw Error(s(160));ep(f,y,c),ee=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ip(n,t),n=n.sibling}var xn=null;function ip(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),cn(t),l&4&&(Wi(3,t,t.return),Tl(3,t),Wi(5,t,t.return));break;case 1:on(n,t),cn(t),l&512&&(ce||r===null||Zn(r,r.return)),l&64&&Vi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=xn;if(on(n,t),cn(t),l&512&&(ce||r===null||Zn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ur]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,r),f[_e]=t,ue(f),l=f;break t;case"link":var y=$p("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;case"meta":if(y=$p("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[_e]=t,ue(f),l=f}t.stateNode=l}else Jp(c,t.type,t.stateNode);else t.stateNode=Zp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Jp(c,t.type,t.stateNode):Zp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bh(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),cn(t),l&512&&(ce||r===null||Zn(r,r.return)),r!==null&&l&4&&Bh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),cn(t),l&512&&(ce||r===null||Zn(r,r.return)),t.flags&32){c=t.stateNode;try{_n(c,"")}catch(k){Kt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Bh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(jh=!0);break;case 6:if(on(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(k){Kt(t,t.return,k)}}break;case 3:if(wo=null,c=xn,xn=bo(n.containerInfo),on(n,t),xn=c,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Bl(n.containerInfo)}catch(k){Kt(t,t.return,k)}jh&&(jh=!1,rp(t));break;case 4:l=xn,xn=bo(t.stateNode.containerInfo),on(n,t),cn(t),xn=l;break;case 12:on(n,t),cn(t);break;case 13:on(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Kh=pn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=Vi,G=ce;if(Vi=P||c,ce=G||b,on(n,t),ce=G,Vi=P,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Vi||ce||ls(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Kt(b,b.return,k)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(k){Kt(b,b.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Hh(t,r))));break;case 19:on(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hh(t,l)));break;case 30:break;case 21:break;default:on(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Zg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=kh(t);co(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(_n(y,""),r.flags&=-33);var E=kh(t);co(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=kh(t);qh(t,P,b);break;default:throw Error(s(161))}}catch(G){Kt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function rp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;rp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function tr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wg(t,n.alternate,n),n=n.sibling}function ls(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Wi(4,n,n.return),ls(n);break;case 1:Zn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Xg(n,n.return,r),ls(n);break;case 27:Nl(n.stateNode);case 26:case 5:Zn(n,n.return),ls(n);break;case 22:n.memoizedState===null&&ls(n);break;case 30:ls(n);break;default:ls(n)}t=t.sibling}}function er(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:er(c,f,r),Tl(4,f);break;case 1:if(er(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Kt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Mm(b[c],E)}catch(P){Kt(l,l.return,P)}}r&&y&64&&Yg(f),Al(f,f.return);break;case 27:$g(f);case 26:case 5:er(c,f,r),r&&l===null&&y&4&&Kg(f),Al(f,f.return);break;case 12:er(c,f,r);break;case 13:er(c,f,r),r&&y&4&&np(c,f);break;case 22:f.memoizedState===null&&er(c,f,r),Al(f,f.return);break;case 30:break;default:er(c,f,r)}n=n.sibling}}function Gh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ll(r))}function Qh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function $n(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sp(t,n,r,l),n=n.sibling}function sp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,r,l),c&2048&&Tl(9,n);break;case 1:$n(t,n,r,l);break;case 3:$n(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){$n(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else $n(t,n,r,l);break;case 13:$n(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,r,l):Sl(t,n):f._visibility&2?$n(t,n,r,l):(f._visibility|=2,Ws(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Gh(y,n);break;case 24:$n(t,n,r,l),c&2048&&Qh(n.alternate,n);break;default:$n(t,n,r,l)}}function Ws(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Ws(f,y,E,b,c),Tl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ws(f,y,E,b,c):Sl(f,y):(G._visibility|=2,Ws(f,y,E,b,c)),c&&P&2048&&Gh(y.alternate,y);break;case 24:Ws(f,y,E,b,c),c&&P&2048&&Qh(y.alternate,y);break;default:Ws(f,y,E,b,c)}n=n.sibling}}function Sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Sl(r,l),c&2048&&Gh(l.alternate,l);break;case 24:Sl(r,l),c&2048&&Qh(l.alternate,l);break;default:Sl(r,l)}n=n.sibling}}var bl=8192;function ta(t){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)ap(t),t=t.sibling}function ap(t){switch(t.tag){case 26:ta(t),t.flags&bl&&t.memoizedState!==null&&j0(xn,t.memoizedState,t.memoizedProps);break;case 5:ta(t);break;case 3:case 4:var n=xn;xn=bo(t.stateNode.containerInfo),ta(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=bl,bl=16777216,ta(t),bl=n):ta(t));break;default:ta(t)}}function lp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Rl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,op(l,t)}lp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)up(t),t=t.sibling}function up(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Wi(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ho(t)):Rl(t);break;default:Rl(t)}}function ho(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,op(l,t)}lp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Wi(8,n,n.return),ho(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ho(n));break;default:ho(n)}t=t.sibling}}function op(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:Wi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(tp(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var r0={getCacheForType:function(t){var n=He(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},s0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,wt=null,Mt=0,Gt=0,hn=null,nr=!1,ea=!1,Fh=!1,Ni=0,le=0,ir=0,us=0,Yh=0,Cn=0,na=0,wl=null,tn=null,Xh=!1,Kh=0,fo=1/0,mo=null,rr=null,ze=0,sr=null,ia=null,ra=0,Zh=0,$h=null,cp=null,Cl=0,Jh=null;function fn(){if((Ht&2)!==0&&Mt!==0)return Mt&-Mt;if(H.T!==null){var t=Qs;return t!==0?t:af()}return ki()}function hp(){Cn===0&&(Cn=(Mt&536870912)===0||Bt?La():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Cn}function dn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(sa(t,0),ar(t,Mt,Cn,!1)),oi(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(us|=r),le===4&&ar(t,Mt,Cn,!1)),Jn(t))}function fp(t,n,r){if((Ht&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||xr(t,n),c=l?u0(t,n):ef(t,n,!0),f=l;do{if(c===0){ea&&!l&&ar(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!a0(r)){c=ef(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=wl;var b=E.current.memoizedState.isDehydrated;if(b&&(sa(E,y).flags|=256),y=ef(E,y,!1),y!==2){if(Fh&&!b){E.errorRecoveryDisabledLanes|=f,us|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){sa(t,0),ar(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ar(l,n,Cn,!nr);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Kh+300-pn(),10<c)){if(ar(l,n,Cn,!nr),As(l,0,!0)!==0)break t;l.timeoutHandle=qp(dp.bind(null,l,r,tn,mo,Xh,n,Cn,us,na,nr,f,2,-0,0),c);break t}dp(l,r,tn,mo,Xh,n,Cn,us,na,nr,f,0,-0,0)}}break}while(!0);Jn(t)}function dp(t,n,r,l,c,f,y,E,b,P,G,F,B,k){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:q0},ap(n),F=H0(),F!==null)){t.cancelPendingCommit=F(Ep.bind(null,t,n,f,r,l,c,y,E,b,G,1,B,k)),ar(t,f,y,!P);return}Ep(t,n,f,r,l,c,y,E,b)}function a0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ar(t,n,r,l){n&=~Yh,n&=~us,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-je(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&zn(t,r,n)}function go(){return(Ht&6)===0?(Dl(0),!1):!0}function Wh(){if(wt!==null){if(Gt===0)var t=wt.return;else t=wt,Si=ns=null,ph(t),$s=null,_l=0,t=wt;for(;t!==null;)Fg(t.alternate,t),t=t.return;wt=null}}function sa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,b0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Wh(),$t=t,wt=r=Ei(t.current,null),Mt=n,Gt=0,hn=null,nr=!1,ea=xr(t,n),Fh=!1,na=Cn=Yh=us=ir=le=0,tn=wl=null,Xh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-je(l),f=1<<c;n|=t[c],l&=~f}return Ni=n,Lu(),r}function mp(t,n){St=null,H.H=eo,n===ol||n===Qu?(n=Nm(),Gt=3):n===Dm?(n=Nm(),Gt=4):Gt=n===Og?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,wt===null&&(le=1,ao(t,An(n,t.current)))}function gp(){var t=H.H;return H.H=eo,t===null?eo:t}function pp(){var t=H.A;return H.A=r0,t}function tf(){le=4,nr||(Mt&4194048)!==Mt&&wn.current!==null||(ea=!0),(ir&134217727)===0&&(us&134217727)===0||$t===null||ar($t,Mt,Cn,!1)}function ef(t,n,r){var l=Ht;Ht|=2;var c=gp(),f=pp();($t!==t||Mt!==n)&&(mo=null,sa(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&wt!==null){var E=wt,b=hn;switch(Gt){case 8:Wh(),y=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var P=Gt;if(Gt=0,hn=null,aa(t,E,b,P),r&&ea){y=0;break t}break;default:P=Gt,Gt=0,hn=null,aa(t,E,b,P)}}l0(),y=le;break}catch(G){mp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Si=ns=null,Ht=l,H.H=c,H.A=f,wt===null&&($t=null,Mt=0,Lu()),y}function l0(){for(;wt!==null;)yp(wt)}function u0(t,n){var r=Ht;Ht|=2;var l=gp(),c=pp();$t!==t||Mt!==n?(mo=null,fo=pn()+500,sa(t,n)):ea=xr(t,n);t:do try{if(Gt!==0&&wt!==null){n=wt;var f=hn;e:switch(Gt){case 1:Gt=0,hn=null,aa(t,n,f,1);break;case 2:case 9:if(Vm(f)){Gt=0,hn=null,_p(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Jn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Vm(f)?(Gt=0,hn=null,_p(n)):(Gt=0,hn=null,aa(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||Wp(y)){Gt=0,hn=null;var b=E.sibling;if(b!==null)wt=b;else{var P=E.return;P!==null?(wt=P,po(P)):wt=null}break e}}Gt=0,hn=null,aa(t,n,f,5);break;case 6:Gt=0,hn=null,aa(t,n,f,6);break;case 8:Wh(),le=6;break t;default:throw Error(s(462))}}o0();break}catch(G){mp(t,G)}while(!0);return Si=ns=null,H.H=l,H.A=c,Ht=r,wt!==null?0:($t=null,Mt=0,Lu(),le)}function o0(){for(;wt!==null&&!Oa();)yp(wt)}function yp(t){var n=Gg(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,n===null?po(t):wt=n}function _p(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Pg(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Pg(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:ph(n);default:Fg(r,n),n=wt=vm(n,Ni),n=Gg(r,n,Ni)}t.memoizedProps=t.pendingProps,n===null?po(t):wt=n}function aa(t,n,r,l){Si=ns=null,ph(n),$s=null,_l=0;var c=n.return;try{if(JE(t,c,n,r,Mt)){le=1,ao(t,An(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;le=1,ao(t,An(r,t.current)),wt=null;return}n.flags&32768?(Bt||l===1?t=!0:ea||(Mt&536870912)!==0?t=!1:(nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vp(n,t)):po(n)}function po(t){var n=t;do{if((n.flags&32768)!==0){vp(n,nr);return}t=n.return;var r=t0(n.alternate,n,Ni);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);le===0&&(le=5)}function vp(t,n){do{var r=e0(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);le=6,wt=null}function Ep(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do yo();while(ze!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Qc,Pa(t,r,f,y,E,b),t===$t&&(wt=$t=null,Mt=0),ia=n,sr=t,ra=r,Zh=f,$h=c,cp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,d0(Ir,function(){return Rp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{n0(t,n,r)}finally{Ht=y,tt.p=c,H.T=l}}ze=1,Tp(),Ap(),Sp()}}function Tp(){if(ze===1){ze=0;var t=sr,n=ia,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{ip(n,t);var f=mf,y=om(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&um(E.ownerDocument.documentElement,E)){if(b!==null&&kc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var k=B.getSelection(),gt=E.textContent.length,ht=Math.min(b.start,gt),Xt=b.end===void 0?ht:Math.min(b.end,gt);!k.extend&&ht>Xt&&(y=Xt,Xt=ht,ht=y);var x=lm(E,ht),I=lm(E,Xt);if(x&&I&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==I.node||k.focusOffset!==I.offset)){var z=F.createRange();z.setStart(x.node,x.offset),k.removeAllRanges(),ht>Xt?(k.addRange(z),k.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),k.addRange(z))}}}}for(F=[],k=E;k=k.parentNode;)k.nodeType===1&&F.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Vo=!!df,mf=df=null}finally{Ht=c,tt.p=l,H.T=r}}t.current=n,ze=2}}function Ap(){if(ze===2){ze=0;var t=sr,n=ia,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Wg(t,n.alternate,n)}finally{Ht=c,tt.p=l,H.T=r}}ze=3}}function Sp(){if(ze===4||ze===3){ze=0,hu();var t=sr,n=ia,r=ra,l=cp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,ia=sr=null,bp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(rr=null),Ss(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(ra&3)!==0&&yo(),Jn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Jh?Cl++:(Cl=0,Jh=t):Cl=0,Dl(0)}}function bp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function yo(t){return Tp(),Ap(),Sp(),Rp()}function Rp(){if(ze!==5)return!1;var t=sr,n=Zh;Zh=0;var r=Ss(ra),l=H.T,c=tt.p;try{tt.p=32>r?32:r,H.T=null,r=$h,$h=null;var f=sr,y=ra;if(ze=0,ia=sr=null,ra=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,up(f.current),sp(f,f.current,y,r),Ht=E,Dl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{tt.p=c,H.T=l,bp(t,n)}}function wp(t,n,r){n=An(r,n),n=Ih(t.stateNode,n,2),t=Ki(t,n,2),t!==null&&(oi(t,2),Jn(t))}function Kt(t,n,r){if(t.tag===3)wp(t,t,r);else for(;n!==null;){if(n.tag===3){wp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=An(r,t),r=Ig(2),l=Ki(n,r,2),l!==null&&(Ng(r,l,n,t),oi(l,2),Jn(l));break}}n=n.return}}function nf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new s0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Fh=!0,c.add(r),t=c0.bind(null,t,n,r),n.then(t,t))}function c0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(Mt&r)===r&&(le===4||le===3&&(Mt&62914560)===Mt&&300>pn()-Kh?(Ht&2)===0&&sa(t,0):Yh|=r,na===Mt&&(na=0)),Jn(t)}function Cp(t,n){n===0&&(n=za()),t=qs(t,n),t!==null&&(oi(t,n),Jn(t))}function h0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Cp(t,r)}function f0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Cp(t,r)}function d0(t,n){return Dr(t,n)}var _o=null,la=null,rf=!1,vo=!1,sf=!1,os=0;function Jn(t){t!==la&&t.next===null&&(la===null?_o=la=t:la=la.next=t),vo=!0,rf||(rf=!0,g0())}function Dl(t,n){if(!sf&&vo){sf=!0;do for(var r=!1,l=_o;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-je(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Np(l,f))}else f=Mt,f=As(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||xr(l,f)||(r=!0,Np(l,f));l=l.next}while(r);sf=!1}}function m0(){Dp()}function Dp(){vo=rf=!1;var t=0;os!==0&&(S0()&&(t=os),os=0);for(var n=pn(),r=null,l=_o;l!==null;){var c=l.next,f=Vp(l,n);f===0?(l.next=null,r===null?_o=c:r.next=c,c===null&&(la=r)):(r=l,(t!==0||(f&3)!==0)&&(vo=!0)),l=c}Dl(t)}function Vp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-je(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ua(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=Mt,r=As(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||xr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Vr(l),Ss(r)){case 2:case 8:r=Es;break;case 32:r=Ir;break;case 268435456:r=Ts;break;default:r=Ir}return l=Ip.bind(null,t),r=Dr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Vr(l),t.callbackPriority=2,t.callbackNode=null,2}function Ip(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(yo()&&t.callbackNode!==r)return null;var l=Mt;return l=As(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(fp(t,l,n),Vp(t,pn()),t.callbackNode!=null&&t.callbackNode===r?Ip.bind(null,t):null)}function Np(t,n){if(yo())return null;fp(t,n,!0)}function g0(){R0(function(){(Ht&6)!==0?Dr(Ma,m0):Dp()})}function af(){return os===0&&(os=La()),os}function Op(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vs(""+t)}function Mp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function p0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Op((c[fe]||null).action),y=l.submitter;y&&(n=(n=y[fe]||null)?Op(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Is("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(os!==0){var b=y?Mp(c,y):new FormData(c);Rh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Mp(c,y):new FormData(c),Rh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var lf=0;lf<Gc.length;lf++){var uf=Gc[lf],y0=uf.toLowerCase(),_0=uf[0].toUpperCase()+uf.slice(1);Mn(y0,"on"+_0)}Mn(fm,"onAnimationEnd"),Mn(dm,"onAnimationIteration"),Mn(mm,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(UE,"onTransitionRun"),Mn(LE,"onTransitionStart"),Mn(zE,"onTransitionCancel"),Mn(gm,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function xp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){so(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){so(G)}c.currentTarget=null,f=b}}}}function Ct(t,n){var r=n[ka];r===void 0&&(r=n[ka]=new Set);var l=t+"__bubble";r.has(l)||(Up(n,t,2,!1),r.add(l))}function of(t,n,r){var l=0;n&&(l|=4),Up(r,t,l,n)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function cf(t){if(!t[Eo]){t[Eo]=!0,qa.forEach(function(r){r!=="selectionchange"&&(v0.has(r)||of(r,!1,t),of(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Eo]||(n[Eo]=!0,of("selectionchange",!1,n))}}function Up(t,n,r,l){switch(sy(n)){case 2:var c=F0;break;case 8:c=Y0;break;default:c=bf}r=c.bind(null,n,r,t),c=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function hf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ci(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Tu(function(){var P=f,G=vn(r),F=[];t:{var B=pm.get(t);if(B!==void 0){var k=Is,gt=t;switch(t){case"keypress":if(Hn(r)===0)break t;case"keydown":case"keyup":k=Ls;break;case"focusin":gt="focus",k=Ms;break;case"focusout":gt="blur",k=Ms;break;case"beforeblur":case"afterblur":k=Ms;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Vu;break;case fm:case dm:case mm:k=xs;break;case gm:k=Nu;break;case"scroll":case"scrollend":k=Au;break;case"wheel":k=zs;break;case"copy":case"cut":case"paste":k=Us;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Wa;break;case"toggle":case"beforetoggle":k=Mu}var ht=(n&4)!==0,Xt=!ht&&(t==="scroll"||t==="scrollend"),x=ht?B!==null?B+"Capture":null:B;ht=[];for(var I=P,z;I!==null;){var Q=I;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||x===null||(Q=jr(I,x),Q!=null&&ht.push(Il(I,Q,z))),Xt)break;I=I.return}0<ht.length&&(B=new k(B,gt,null,r,G),F.push({event:B,listeners:ht}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==mi&&(gt=r.relatedTarget||r.fromElement)&&(ci(gt)||gt[yn]))break t;if((k||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,k?(gt=r.relatedTarget||r.toElement,k=P,gt=gt?ci(gt):null,gt!==null&&(Xt=h(gt),ht=gt.tag,gt!==Xt||ht!==5&&ht!==27&&ht!==6)&&(gt=null)):(k=null,gt=P),k!==gt)){if(ht=Tn,Q="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ht=Wa,Q="onPointerLeave",x="onPointerEnter",I="pointer"),Xt=k==null?B:Bn(k),z=gt==null?B:Bn(gt),B=new ht(Q,I+"leave",k,r,G),B.target=Xt,B.relatedTarget=z,Q=null,ci(G)===P&&(ht=new ht(x,I+"enter",gt,r,G),ht.target=z,ht.relatedTarget=Xt,Q=ht),Xt=Q,k&&gt)e:{for(ht=k,x=gt,I=0,z=ht;z;z=ua(z))I++;for(z=0,Q=x;Q;Q=ua(Q))z++;for(;0<I-z;)ht=ua(ht),I--;for(;0<z-I;)x=ua(x),z--;for(;I--;){if(ht===x||x!==null&&ht===x.alternate)break e;ht=ua(ht),x=ua(x)}ht=null}else ht=null;k!==null&&Lp(F,B,k,ht,!1),gt!==null&&Xt!==null&&Lp(F,Xt,gt,ht,!0)}}t:{if(B=P?Bn(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var rt=em;else if(Ee(B))if(nm)rt=OE;else{rt=IE;var Rt=VE}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Fa(P.elementType)&&(rt=em):rt=NE;if(rt&&(rt=rt(t,P))){vi(F,rt,r,G);break t}Rt&&Rt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Gi(B,"number",B.value)}switch(Rt=P?Bn(P):window,t){case"focusin":(Ee(Rt)||Rt.contentEditable==="true")&&(Ps=Rt,qc=P,nl=null);break;case"focusout":nl=qc=Ps=null;break;case"mousedown":jc=!0;break;case"contextmenu":case"mouseup":case"dragend":jc=!1,cm(F,r,G);break;case"selectionchange":if(xE)break;case"keydown":case"keyup":cm(F,r,G)}var lt;if(Fn)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Nt?q(t,r)&&(ft="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ft="onCompositionStart");ft&&(p&&r.locale!=="ko"&&(Nt||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Nt&&(lt=Xa()):(jn=G,Qi="value"in jn?jn.value:jn.textContent,Nt=!0)),Rt=To(P,ft),0<Rt.length&&(ft=new $a(ft,t,null,r,G),F.push({event:ft,listeners:Rt}),lt?ft.data=lt:(lt=W(r),lt!==null&&(ft.data=lt)))),(lt=m?ve(t,r):Ot(t,r))&&(ft=To(P,"onBeforeInput"),0<ft.length&&(Rt=new $a("onBeforeInput","beforeinput",null,r,G),F.push({event:Rt,listeners:ft}),Rt.data=lt)),p0(F,t,P,r,G)}xp(F,n)})}function Il(t,n,r){return{instance:t,listener:n,currentTarget:r}}function To(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=jr(t,r),c!=null&&l.unshift(Il(t,c,f)),c=jr(t,n),c!=null&&l.push(Il(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Lp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=jr(r,f),P!=null&&y.unshift(Il(r,P,b))):c||(P=jr(r,f),P!=null&&y.push(Il(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var E0=/\r\n?/g,T0=/\u0000|\uFFFD/g;function zp(t){return(typeof t=="string"?t:""+t).replace(E0,`
`).replace(T0,"")}function Pp(t,n){return n=zp(n),zp(t)===n}function Ao(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,r,l);break;case"style":Qa(t,l,f);break;case"data":if(n!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Vs(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Vs(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Ao);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Vs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Hi(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=xc.get(r)||r,Hi(t,r,l))}}function ff(t,n,r,l,c,f){switch(r){case"style":Qa(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ao);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bs.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Hi(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(t,n,l,G,r,null)}}Br(t,f,E,b,P,y,c,!1),Ds(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?di(t,!!l,n,!1):r!=null&&di(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,y,E,r,null)}kr(t,l,c,f),Ds(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,r,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Ct(Vl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,P,l,r,null)}return;default:if(Fa(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&ff(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function A0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,G=null;for(k in r){var F=r[k];if(r.hasOwnProperty(k)&&F!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(k)||Yt(t,n,k,null,l,F)}}for(var B in l){var k=l[B];if(F=r[B],l.hasOwnProperty(B)&&(k!=null||F!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":G=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==F&&Yt(t,n,B,k,l,F)}}an(t,y,E,b,P,G,f,c);return;case"select":k=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,r=y,l=k,B!=null?di(t,!!r,B,!1):!!l!=!!r&&(n!=null?di(t,!!r,n,!0):di(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Qt(t,B,k);return;case"option":for(var gt in r)if(B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":t.selected=!1;break;default:Yt(t,n,gt,null,l,B)}for(b in l)if(B=l[b],k=r[b],l.hasOwnProperty(b)&&B!==k&&(B!=null||k!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,b,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in r)B=r[ht],r.hasOwnProperty(ht)&&B!=null&&!l.hasOwnProperty(ht)&&Yt(t,n,ht,null,l,B);for(P in l)if(B=l[P],k=r[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Yt(t,n,P,B,l,k)}return;default:if(Fa(n)){for(var Xt in r)B=r[Xt],r.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&ff(t,n,Xt,void 0,l,B);for(G in l)B=l[G],k=r[G],!l.hasOwnProperty(G)||B===k||B===void 0&&k===void 0||ff(t,n,G,B,l,k);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,B);for(F in l)B=l[F],k=r[F],!l.hasOwnProperty(F)||B===k||B==null&&k==null||Yt(t,n,F,B,l,k)}var df=null,mf=null;function So(t){return t.nodeType===9?t:t.ownerDocument}function Bp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pf=null;function S0(){var t=window.event;return t&&t.type==="popstate"?t===pf?!1:(pf=t,!0):(pf=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,b0=typeof clearTimeout=="function"?clearTimeout:void 0,jp=typeof Promise=="function"?Promise:void 0,R0=typeof queueMicrotask=="function"?queueMicrotask:typeof jp<"u"?function(t){return jp.resolve(null).then(t).catch(w0)}:qp;function w0(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function Hp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Nl(y.documentElement),r&2&&Nl(y.body),r&4)for(r=y.head,Nl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Ur]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Bl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Bl(n)}function yf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yf(r),ji(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function C0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ur])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function D0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Un(t.nextSibling),t===null))return null;return t}function _f(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function V0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var vf=null;function Gp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Qp(t,n,r){switch(n=So(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Nl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ji(t)}var Dn=new Map,Fp=new Set;function bo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=tt.d;tt.d={f:I0,r:N0,D:O0,C:M0,L:x0,m:U0,X:z0,S:L0,M:P0};function I0(){var t=Oi.f(),n=go();return t||n}function N0(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?fg(n):Oi.r(t)}var oa=typeof document>"u"?null:document;function Yp(t,n,r){var l=oa;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Fp.has(c)||(Fp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function O0(t){Oi.D(t),Yp("dns-prefetch",t,null)}function M0(t,n){Oi.C(t,n),Yp("preconnect",t,n)}function x0(t,n,r){Oi.L(t,n,r);var l=oa;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+de(r.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=ca(t);break;case"script":f=ha(t)}Dn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ol(f))||n==="script"&&l.querySelector(Ml(f))||(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function U0(t,n){Oi.m(t,n);var r=oa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ha(t)}if(!Dn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Dn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ml(f)))return}l=r.createElement("link"),Pe(l,"link",t),ue(l),r.head.appendChild(l)}}}function L0(t,n,r){Oi.S(t,n,r);var l=oa;if(l&&t){var c=Xe(l).hoistableStyles,f=ca(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Ol(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Dn.get(f))&&Ef(t,r);var b=y=l.createElement("link");ue(b),Pe(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ro(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function z0(t,n){Oi.X(t,n);var r=oa;if(r&&t){var l=Xe(r).hoistableScripts,c=ha(t),f=l.get(c);f||(f=r.querySelector(Ml(c)),f||(t=A({src:t,async:!0},n),(n=Dn.get(c))&&Tf(t,n),f=r.createElement("script"),ue(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function P0(t,n){Oi.M(t,n);var r=oa;if(r&&t){var l=Xe(r).hoistableScripts,c=ha(t),f=l.get(c);f||(f=r.querySelector(Ml(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&Tf(t,n),f=r.createElement("script"),ue(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Xp(t,n,r,l){var c=(c=pt.current)?bo(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ca(r.href),r=Xe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ca(r.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Ol(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(t,r),f||B0(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ha(r),r=Xe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ca(t){return'href="'+de(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function Kp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function B0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),ue(n),t.head.appendChild(n))}function ha(t){return'[src="'+de(t)+'"]'}function Ml(t){return"script[async]"+t}function Zp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(r.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),Pe(l,"style",c),Ro(l,r.precedence,t),n.instance=l;case"stylesheet":c=ca(r.href);var f=t.querySelector(Ol(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=Kp(r),(c=Dn.get(c))&&Ef(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",l),n.state.loading|=4,Ro(f,r.precedence,t),n.instance=f;case"script":return f=ha(r.src),(c=t.querySelector(Ml(f)))?(n.instance=c,ue(c),c):(l=r,(c=Dn.get(f))&&(l=A({},r),Tf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ro(l,r.precedence,t));return n.instance}function Ro(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wo=null;function $p(t,n,r){if(wo===null){var l=new Map,c=wo=new Map;c.set(r,l)}else c=wo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Ur]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Jp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function k0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xl=null;function q0(){}function j0(t,n,r){if(xl===null)throw Error(s(475));var l=xl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ca(r.href),f=t.querySelector(Ol(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Co.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,r=Kp(r),(c=Dn.get(c))&&Ef(r,c),f=f.createElement("link"),ue(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Co.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function H0(){if(xl===null)throw Error(s(475));var t=xl;return t.stylesheets&&t.count===0&&Af(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Af(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Co(){if(this.count--,this.count===0){if(this.stylesheets)Af(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Do=null;function Af(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Do=new Map,n.forEach(G0,t),Do=null,Co.call(t))}function G0(t,n){if(!(n.state.loading&4)){var r=Do.get(t);if(r)var l=r.get(null);else{r=new Map,Do.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Co.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ul={$$typeof:st,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function Q0(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ty(t,n,r,l,c,f,y,E,b,P,G,F){return t=new Q0(t,n,r,y,E,b,P,F),n=1,f===!0&&(n|=24),f=un(3,null,null,n),t.current=f,f.stateNode=t,n=nh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ah(f),t}function ey(t){return t?(t=js,t):js}function ny(t,n,r,l,c,f){c=ey(c),l.context===null?l.context=c:l.pendingContext=c,l=Xi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ki(t,l,n),r!==null&&(dn(r,t,n),hl(r,t,n))}function iy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Sf(t,n){iy(t,n),(t=t.alternate)&&iy(t,n)}function ry(t){if(t.tag===13){var n=qs(t,67108864);n!==null&&dn(n,t,67108864),Sf(t,67108864)}}var Vo=!0;function F0(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,bf(t,n,r,l)}finally{tt.p=f,H.T=c}}function Y0(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,bf(t,n,r,l)}finally{tt.p=f,H.T=c}}function bf(t,n,r,l){if(Vo){var c=Rf(l);if(c===null)hf(t,n,l,Io,r),ay(t,l);else if(K0(c,t,n,r,l))l.stopPropagation();else if(ay(t,l),n&4&&-1<X0.indexOf(t)){for(;c!==null;){var f=Pn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=In(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-je(y);E.entanglements[1]|=b,y&=~b}Jn(f),(Ht&6)===0&&(fo=pn()+500,Dl(0))}}break;case 13:E=qs(f,2),E!==null&&dn(E,f,2),go(),Sf(f,2)}if(f=Rf(l),f===null&&hf(t,n,l,Io,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else hf(t,n,l,null,r)}}function Rf(t){return t=vn(t),wf(t)}var Io=null;function wf(t){if(Io=null,t=ci(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Io=t,null}function sy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dc()){case Ma:return 2;case Es:return 8;case Ir:case Vc:return 32;case Ts:return 268435456;default:return 32}default:return 32}}var Cf=!1,ur=null,or=null,cr=null,Ll=new Map,zl=new Map,hr=[],X0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ay(t,n){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function Pl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Pn(n),n!==null&&ry(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function K0(t,n,r,l,c){switch(n){case"focusin":return ur=Pl(ur,t,n,r,l,c),!0;case"dragenter":return or=Pl(or,t,n,r,l,c),!0;case"mouseover":return cr=Pl(cr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Ll.set(f,Pl(Ll.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,zl.set(f,Pl(zl.get(f)||null,t,n,r,l,c)),!0}return!1}function ly(t){var n=ci(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,mu(t.priority,function(){if(r.tag===13){var l=fn();l=Bi(l);var c=qs(r,l);c!==null&&dn(c,r,l),Sf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function No(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Rf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);mi=l,r.target.dispatchEvent(l),mi=null}else return n=Pn(r),n!==null&&ry(n),t.blockedOn=r,!1;n.shift()}return!0}function uy(t,n,r){No(t)&&r.delete(n)}function Z0(){Cf=!1,ur!==null&&No(ur)&&(ur=null),or!==null&&No(or)&&(or=null),cr!==null&&No(cr)&&(cr=null),Ll.forEach(uy),zl.forEach(uy)}function Oo(t,n){t.blockedOn===n&&(t.blockedOn=null,Cf||(Cf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Z0)))}var Mo=null;function oy(t){Mo!==t&&(Mo=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Mo===t&&(Mo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(wf(l||r)===null)continue;break}var f=Pn(r);f!==null&&(t.splice(n,3),n-=3,Rh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Bl(t){function n(b){return Oo(b,t)}ur!==null&&Oo(ur,t),or!==null&&Oo(or,t),cr!==null&&Oo(cr,t),Ll.forEach(n),zl.forEach(n);for(var r=0;r<hr.length;r++){var l=hr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hr.length&&(r=hr[0],r.blockedOn===null);)ly(r),r.blockedOn===null&&hr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[fe]||null;if(typeof f=="function")y||oy(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[fe]||null)E=y.formAction;else if(wf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),oy(r)}}}function Df(t){this._internalRoot=t}xo.prototype.render=Df.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=fn();ny(r,l,t,n,null,null)},xo.prototype.unmount=Df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ny(t.current,2,null,t,null,null),go(),n[yn]=null}};function xo(t){this._internalRoot=t}xo.prototype.unstable_scheduleHydration=function(t){if(t){var n=ki();t={blockedOn:null,target:t,priority:n};for(var r=0;r<hr.length&&n!==0&&n<hr[r].priority;r++);hr.splice(r,0,t),r===0&&ly(t)}};var cy=e.version;if(cy!=="19.1.1")throw Error(s(527,cy,"19.1.1"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var $0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{se=Uo.inject($0),jt=Uo}catch{}}return ql.createRoot=function(t,n){if(!u(t))throw Error(s(299));var r=!1,l="",c=wg,f=Cg,y=Dg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ty(t,1,!1,null,null,r,l,c,f,y,E,null),t[yn]=n.current,cf(t),new Df(n)},ql.hydrateRoot=function(t,n,r){if(!u(t))throw Error(s(299));var l=!1,c="",f=wg,y=Cg,E=Dg,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=ty(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=ey(null),r=n.current,l=fn(),l=Bi(l),c=Xi(l),c.callback=null,Ki(r,c,l),r=l,n.current.lanes=r,oi(n,r),Jn(n),t[yn]=n.current,cf(t),new xo(n)},ql.version="19.1.1",ql}var Ey;function lT(){if(Ey)return Nf.exports;Ey=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Nf.exports=aT(),Nf.exports}var uT=lT();const oT=()=>{};var Ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let u=a.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},cT=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const u=a[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=a[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=a[i++],d=a[i++],g=a[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},x_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<a.length;u+=3){const h=a[u],d=u+1<a.length,g=d?a[u+1]:0,v=u+2<a.length,_=v?a[u+2]:0,A=h>>2,R=(h&3)<<4|g>>4;let D=(g&15)<<2|_>>6,j=_&63;v||(j=64,d||(D=64)),s.push(i[A],i[R],i[D],i[j])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(M_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):cT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<a.length;){const h=i[a.charAt(u++)],g=u<a.length?i[a.charAt(u)]:0;++u;const _=u<a.length?i[a.charAt(u)]:64;++u;const R=u<a.length?i[a.charAt(u)]:64;if(++u,h==null||g==null||_==null||R==null)throw new hT;const D=h<<2|g>>4;if(s.push(D),_!==64){const j=g<<4&240|_>>2;if(s.push(j),R!==64){const Z=_<<6&192|R;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class hT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fT=function(a){const e=M_(a);return x_.encodeByteArray(e,!0)},Xo=function(a){return fT(a).replace(/\./g,"")},U_=function(a){try{return x_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ko(a,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!dT(i)||(a[i]=Ko(a[i],e[i]));return a}function dT(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=()=>L_().__FIREBASE_DEFAULTS__,gT=()=>{if(typeof process>"u"||typeof Ty>"u")return;const a=Ty.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},pT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&U_(a[1]);return e&&JSON.parse(e)},md=()=>{try{return oT()||mT()||gT()||pT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},yT=a=>{var e,i;return(i=(e=md())==null?void 0:e.emulatorHosts)==null?void 0:i[a]},_T=a=>{const e=yT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},gd=()=>{var a;return(a=md())==null?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ET(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Xo(JSON.stringify(i)),Xo(JSON.stringify(d)),""].join(".")}const Fl={};function AT(){const a={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?a.emulator.push(e):a.prod.push(e);return a}function ST(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Ay=!1;function bT(a,e){if(typeof window>"u"||typeof document>"u"||!pd(window.location.host)||Fl[a]===e||Fl[a]||Ay)return;Fl[a]=e;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",h=AT().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,j){D.setAttribute("width","24"),D.setAttribute("id",j),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{Ay=!0,d()},D}function A(D,j){D.setAttribute("id",j),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function R(){const D=ST(s),j=i("text"),Z=document.getElementById(j)||document.createElement("span"),et=i("learnmore"),$=document.getElementById(et)||document.createElement("a"),vt=i("preprendIcon"),dt=document.getElementById(vt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const st=D.element;g(st),A($,et);const Ut=_();v(dt,vt),st.append(dt,Z,$,Ut),document.body.appendChild(st)}h?(Z.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wT(){var e;const a=(e=md())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CT(){return typeof window<"u"||z_()}function z_(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function DT(){return!wT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VT(){try{return typeof indexedDB=="object"}catch{return!1}}function IT(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="FirebaseError";class ys extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=NT,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?OT(h,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new ys(u,g,s)}}function OT(a,e){return a.replace(MT,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const MT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(a,e){return Object.prototype.hasOwnProperty.call(a,e)}function Zo(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=a[u],d=e[u];if(by(h)&&by(d)){if(!Zo(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function by(a){return a!==null&&typeof a=="object"}function xT(a,e){const i=new UT(a,e);return i.subscribe.bind(i)}class UT{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let u;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");LT(e,["next","error","complete"])?u=e:u={next:e,error:i,complete:s},u.next===void 0&&(u.next=Uf),u.error===void 0&&(u.error=Uf),u.complete===void 0&&(u.complete=Uf);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?u.error(this.finalError):u.complete()}catch{}}),this.observers.push(u),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LT(a,e){if(typeof a!="object"||a===null)return!1;for(const i of e)if(i in a&&typeof a[i]=="function")return!0;return!1}function Uf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(a){return a&&a._delegate?a._delegate:a}class _a{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new vT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BT(e))try{this.getOrInitializeService({instanceIdentifier:cs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cs){return this.instances.has(e)}getOptions(e=cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(u)}return u}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(s)??new Set;u.add(e),this.onInitCallbacks.set(s,u);const h=this.instances.get(s);return h&&e(h,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=cs){return this.component?this.component.multipleInstances?e:cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PT(a){return a===cs?void 0:a}function BT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new zT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=[];var It;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(It||(It={}));const B_={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},kT=It.INFO,qT={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},jT=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),u=qT[e];if(u)console[u](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _d{constructor(e){this.name=e,this._logLevel=kT,this._logHandler=jT,this._userLogHandler=null,yd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}function HT(a){yd.forEach(e=>{e.setLogLevel(a)})}function GT(a,e){for(const i of yd){let s=null;e&&e.level&&(s=B_[e.level]),a===null?i.userLogHandler=null:i.userLogHandler=(u,h,...d)=>{const g=d.map(v=>{if(v==null)return null;if(typeof v=="string")return v;if(typeof v=="number"||typeof v=="boolean")return v.toString();if(v instanceof Error)return v.message;try{return JSON.stringify(v)}catch{return null}}).filter(v=>v).join(" ");h>=(s??u.logLevel)&&a({level:It[h].toLowerCase(),message:g,args:d,type:u.name})}}}const QT=(a,e)=>e.some(i=>a instanceof i);let Ry,wy;function FT(){return Ry||(Ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YT(){return wy||(wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k_=new WeakMap,Ff=new WeakMap,q_=new WeakMap,Lf=new WeakMap,vd=new WeakMap;function XT(a){const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(mr(a.result)),u()},d=()=>{s(a.error),u()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&k_.set(i,a)}).catch(()=>{}),vd.set(e,a),e}function KT(a){if(Ff.has(a))return;const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Ff.set(a,e)}let Yf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Ff.get(a);if(e==="objectStoreNames")return a.objectStoreNames||q_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return mr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function ZT(a){Yf=a(Yf)}function $T(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(zf(this),e,...i);return q_.set(s,e.sort?e.sort():[e]),mr(s)}:YT().includes(a)?function(...e){return a.apply(zf(this),e),mr(k_.get(this))}:function(...e){return mr(a.apply(zf(this),e))}}function JT(a){return typeof a=="function"?$T(a):(a instanceof IDBTransaction&&KT(a),QT(a,FT())?new Proxy(a,Yf):a)}function mr(a){if(a instanceof IDBRequest)return XT(a);if(Lf.has(a))return Lf.get(a);const e=JT(a);return e!==a&&(Lf.set(a,e),vd.set(e,a)),e}const zf=a=>vd.get(a);function WT(a,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(a,e),g=mr(d);return s&&d.addEventListener("upgradeneeded",v=>{s(mr(d.result),v.oldVersion,v.newVersion,mr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const t1=["get","getKey","getAll","getAllKeys","count"],e1=["put","add","delete","clear"],Pf=new Map;function Cy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=e1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||t1.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),u&&v.done]))[0]};return Pf.set(e,h),h}ZT(a=>({...a,get:(e,i,s)=>Cy(e,i)||a.get(e,i,s),has:(e,i)=>!!Cy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(i1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function i1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $o="@firebase/app",Xf="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new _d("@firebase/app"),r1="@firebase/app-compat",s1="@firebase/analytics-compat",a1="@firebase/analytics",l1="@firebase/app-check-compat",u1="@firebase/app-check",o1="@firebase/auth",c1="@firebase/auth-compat",h1="@firebase/database",f1="@firebase/data-connect",d1="@firebase/database-compat",m1="@firebase/functions",g1="@firebase/functions-compat",p1="@firebase/installations",y1="@firebase/installations-compat",_1="@firebase/messaging",v1="@firebase/messaging-compat",E1="@firebase/performance",T1="@firebase/performance-compat",A1="@firebase/remote-config",S1="@firebase/remote-config-compat",b1="@firebase/storage",R1="@firebase/storage-compat",w1="@firebase/firestore",C1="@firebase/ai",D1="@firebase/firestore-compat",V1="firebase",I1="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="[DEFAULT]",N1={[$o]:"fire-core",[r1]:"fire-core-compat",[a1]:"fire-analytics",[s1]:"fire-analytics-compat",[u1]:"fire-app-check",[l1]:"fire-app-check-compat",[o1]:"fire-auth",[c1]:"fire-auth-compat",[h1]:"fire-rtdb",[f1]:"fire-data-connect",[d1]:"fire-rtdb-compat",[m1]:"fire-fn",[g1]:"fire-fn-compat",[p1]:"fire-iid",[y1]:"fire-iid-compat",[_1]:"fire-fcm",[v1]:"fire-fcm-compat",[E1]:"fire-perf",[T1]:"fire-perf-compat",[A1]:"fire-rc",[S1]:"fire-rc-compat",[b1]:"fire-gcs",[R1]:"fire-gcs-compat",[w1]:"fire-fst",[D1]:"fire-fst-compat",[C1]:"fire-vertex","fire-js":"fire-js",[V1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new Map,va=new Map,Ea=new Map;function $l(a,e){try{a.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function j_(a,e){a.container.addOrOverwriteComponent(e)}function Ta(a){const e=a.name;if(Ea.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;Ea.set(e,a);for(const i of _r.values())$l(i,a);for(const i of va.values())$l(i,a);return!0}function Ed(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function O1(a,e,i=yr){Ed(a,e).clearInstance(i)}function Td(a){return a.options!==void 0}function H_(a){return Td(a)?!1:"authIdToken"in a||"appCheckToken"in a||"releaseOnDeref"in a||"automaticDataCollectionEnabled"in a}function G_(a){return a==null?!1:a.settings!==void 0}function M1(){Ea.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gn=new cc("app","Firebase",x1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q_=class{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(a,e){const i=U_(a.split(".")[1]);if(i===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(i).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const u=JSON.parse(i).exp*1e3,h=new Date().getTime();u-h<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class U1 extends Q_{constructor(e,i,s,u){const h=i.automaticDataCollectionEnabled!==void 0?i.automaticDataCollectionEnabled:!0,d={name:s,automaticDataCollectionEnabled:h};if(e.apiKey!==void 0)super(e,d,u);else{const g=e;super(g.options,d,u)}this._serverConfig={automaticDataCollectionEnabled:h,...i},this._serverConfig.authIdToken&&Dy(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&Dy(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,i.releaseOnDeref=void 0,Mi($o,Xf,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){bd(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw gn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=I1;function Sd(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:yr,automaticDataCollectionEnabled:!0,...e},u=s.name;if(typeof u!="string"||!u)throw gn.create("bad-app-name",{appName:String(u)});if(i||(i=gd()),!i)throw gn.create("no-options");const h=_r.get(u);if(h){if(Zo(i,h.options)&&Zo(s,h.config))return h;throw gn.create("duplicate-app",{appName:u})}const d=new P_(u);for(const v of Ea.values())d.addComponent(v);const g=new Q_(i,s,d);return _r.set(u,g),g}function L1(a,e={}){if(CT()&&!z_())throw gn.create("invalid-server-app-environment");let i,s=e||{};if(a&&(Td(a)?i=a.options:H_(a)?s=a:i=a),s.automaticDataCollectionEnabled===void 0&&(s.automaticDataCollectionEnabled=!0),i||(i=gd()),!i)throw gn.create("no-options");const u={...s,...i};u.releaseOnDeref!==void 0&&delete u.releaseOnDeref;const h=A=>[...A].reduce((R,D)=>Math.imul(31,R)+D.charCodeAt(0)|0,0);if(s.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw gn.create("finalization-registry-not-supported",{});const d=""+h(JSON.stringify(u)),g=va.get(d);if(g)return g.incRefCount(s.releaseOnDeref),g;const v=new P_(d);for(const A of Ea.values())v.addComponent(A);const _=new U1(i,s,d,v);return va.set(d,_),_}function F_(a=yr){const e=_r.get(a);if(!e&&a===yr&&gd())return Sd();if(!e)throw gn.create("no-app",{appName:a});return e}function z1(){return Array.from(_r.values())}async function bd(a){let e=!1;const i=a.name;_r.has(i)?(e=!0,_r.delete(i)):va.has(i)&&a.decRefCount()<=0&&(va.delete(i),e=!0),e&&(await Promise.all(a.container.getProviders().map(s=>s.delete())),a.isDeleted=!0)}function Mi(a,e,i){let s=N1[a]??a;i&&(s+=`-${i}`);const u=s.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${s}" with version "${e}":`];u&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(d.join(" "));return}Ta(new _a(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function Y_(a,e){if(a!==null&&typeof a!="function")throw gn.create("invalid-log-argument");GT(a,e)}function X_(a){HT(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="firebase-heartbeat-database",B1=1,Jl="firebase-heartbeat-store";let Bf=null;function K_(){return Bf||(Bf=WT(P1,B1,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Jl)}catch(i){console.warn(i)}}}}).catch(a=>{throw gn.create("idb-open",{originalErrorMessage:a.message})})),Bf}async function k1(a){try{const i=(await K_()).transaction(Jl),s=await i.objectStore(Jl).get(Z_(a));return await i.done,s}catch(e){if(e instanceof ys)Ui.warn(e.message);else{const i=gn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(i.message)}}}async function Vy(a,e){try{const s=(await K_()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,Z_(a)),await s.done}catch(i){if(i instanceof ys)Ui.warn(i.message);else{const s=gn.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ui.warn(s.message)}}}function Z_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=1024,j1=30;class H1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Q1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Iy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>j1){const d=F1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Iy(),{heartbeatsToSend:s,unsentEntries:u}=G1(this._heartbeatsCache.heartbeats),h=Xo(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ui.warn(i),""}}}function Iy(){return new Date().toISOString().substring(0,10)}function G1(a,e=q1){const i=[];let s=a.slice();for(const u of a){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Ny(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Ny(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Q1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VT()?IT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await k1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ny(a){return Xo(JSON.stringify({version:2,heartbeats:a})).length}function F1(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(a){Ta(new _a("platform-logger",e=>new n1(e),"PRIVATE")),Ta(new _a("heartbeat",e=>new H1(e),"PRIVATE")),Mi($o,Xf,a),Mi($o,Xf,"esm2020"),Mi("fire-js","")}Y1("");const X1=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ys,SDK_VERSION:Ad,_DEFAULT_ENTRY_NAME:yr,_addComponent:$l,_addOrOverwriteComponent:j_,_apps:_r,_clearComponents:M1,_components:Ea,_getProvider:Ed,_isFirebaseApp:Td,_isFirebaseServerApp:G_,_isFirebaseServerAppSettings:H_,_registerComponent:Ta,_removeServiceInstance:O1,_serverApps:va,deleteApp:bd,getApp:F_,getApps:z1,initializeApp:Sd,initializeServerApp:L1,onLog:Y_,registerVersion:Mi,setLogLevel:X_},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,i){this._delegate=e,this.firebase=i,$l(e,new _a("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),bd(this._delegate)))}_getService(e,i=yr){var u;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((u=s.getComponent())==null?void 0:u.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:i})}_removeServiceInstance(e,i=yr){this._delegate.container.getProvider(e).clearInstance(i)}_addComponent(e){$l(this._delegate,e)}_addOrOverwriteComponent(e){j_(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Oy=new cc("app-compat","Firebase",Z1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(a){const e={},i={__esModule:!0,initializeApp:h,app:u,registerVersion:Mi,setLogLevel:X_,onLog:Y_,apps:null,SDK_VERSION:Ad,INTERNAL:{registerComponent:g,removeApp:s,useAsService:v,modularAPIs:X1}};i.default=i,Object.defineProperty(i,"apps",{get:d});function s(_){delete e[_]}function u(_){if(_=_||yr,!Sy(e,_))throw Oy.create("no-app",{appName:_});return e[_]}u.App=a;function h(_,A={}){const R=Sd(_,A);if(Sy(e,R.name))return e[R.name];const D=new a(R,i);return e[R.name]=D,D}function d(){return Object.keys(e).map(_=>e[_])}function g(_){const A=_.name,R=A.replace("-compat","");if(Ta(_)&&_.type==="PUBLIC"){const D=(j=u())=>{if(typeof j[R]!="function")throw Oy.create("invalid-app-argument",{appName:A});return j[R]()};_.serviceProps!==void 0&&Ko(D,_.serviceProps),i[R]=D,a.prototype[R]=function(...j){return this._getService.bind(this,A).apply(this,_.multipleInstances?j:[])}}return _.type==="PUBLIC"?i[R]:null}function v(_,A){return A==="serverAuth"?null:A}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(){const a=$1(K1);a.INTERNAL={...a.INTERNAL,createFirebaseNamespace:$_,extendNamespace:e,createSubscribe:xT,ErrorFactory:cc,deepExtend:Ko};function e(i){Ko(a,i)}return a}const J1=$_();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=new _d("@firebase/app-compat"),W1="@firebase/app-compat",tA="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(a){Mi(W1,tA,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const a=L_();if(a.firebase!==void 0){My.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=a.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&My.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const J_=J1;eA();var nA="firebase",iA="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */J_.registerVersion(nA,iA,"app-compat");var xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gr,W_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function C(){}C.prototype=S.prototype,O.D=S.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(N,M,U){for(var w=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)w[Me-2]=arguments[Me];return S.prototype[M].apply(N,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,S,C){C||(C=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(M=0;16>M;++M)N[M]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=O.g[0],C=O.g[1],M=O.g[2];var U=O.g[3],w=S+(U^C&(M^U))+N[0]+3614090360&4294967295;S=C+(w<<7&4294967295|w>>>25),w=U+(M^S&(C^M))+N[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(C^U&(S^C))+N[2]+606105819&4294967295,M=U+(w<<17&4294967295|w>>>15),w=C+(S^M&(U^S))+N[3]+3250441966&4294967295,C=M+(w<<22&4294967295|w>>>10),w=S+(U^C&(M^U))+N[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(M^S&(C^M))+N[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(C^U&(S^C))+N[6]+2821735955&4294967295,M=U+(w<<17&4294967295|w>>>15),w=C+(S^M&(U^S))+N[7]+4249261313&4294967295,C=M+(w<<22&4294967295|w>>>10),w=S+(U^C&(M^U))+N[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(M^S&(C^M))+N[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(C^U&(S^C))+N[10]+4294925233&4294967295,M=U+(w<<17&4294967295|w>>>15),w=C+(S^M&(U^S))+N[11]+2304563134&4294967295,C=M+(w<<22&4294967295|w>>>10),w=S+(U^C&(M^U))+N[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(M^S&(C^M))+N[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(C^U&(S^C))+N[14]+2792965006&4294967295,M=U+(w<<17&4294967295|w>>>15),w=C+(S^M&(U^S))+N[15]+1236535329&4294967295,C=M+(w<<22&4294967295|w>>>10),w=S+(M^U&(C^M))+N[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^M&(S^C))+N[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^C&(U^S))+N[11]+643717713&4294967295,M=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(M^U))+N[0]+3921069994&4294967295,C=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(C^M))+N[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^M&(S^C))+N[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^C&(U^S))+N[15]+3634488961&4294967295,M=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(M^U))+N[4]+3889429448&4294967295,C=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(C^M))+N[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^M&(S^C))+N[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^C&(U^S))+N[3]+4107603335&4294967295,M=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(M^U))+N[8]+1163531501&4294967295,C=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(C^M))+N[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^M&(S^C))+N[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^C&(U^S))+N[7]+1735328473&4294967295,M=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(M^U))+N[12]+2368359562&4294967295,C=M+(w<<20&4294967295|w>>>12),w=S+(C^M^U)+N[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^M)+N[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^C)+N[11]+1839030562&4294967295,M=U+(w<<16&4294967295|w>>>16),w=C+(M^U^S)+N[14]+4259657740&4294967295,C=M+(w<<23&4294967295|w>>>9),w=S+(C^M^U)+N[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^M)+N[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^C)+N[7]+4139469664&4294967295,M=U+(w<<16&4294967295|w>>>16),w=C+(M^U^S)+N[10]+3200236656&4294967295,C=M+(w<<23&4294967295|w>>>9),w=S+(C^M^U)+N[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^M)+N[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^C)+N[3]+3572445317&4294967295,M=U+(w<<16&4294967295|w>>>16),w=C+(M^U^S)+N[6]+76029189&4294967295,C=M+(w<<23&4294967295|w>>>9),w=S+(C^M^U)+N[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^M)+N[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^C)+N[15]+530742520&4294967295,M=U+(w<<16&4294967295|w>>>16),w=C+(M^U^S)+N[2]+3299628645&4294967295,C=M+(w<<23&4294967295|w>>>9),w=S+(M^(C|~U))+N[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~M))+N[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~C))+N[14]+2878612391&4294967295,M=U+(w<<15&4294967295|w>>>17),w=C+(U^(M|~S))+N[5]+4237533241&4294967295,C=M+(w<<21&4294967295|w>>>11),w=S+(M^(C|~U))+N[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~M))+N[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~C))+N[10]+4293915773&4294967295,M=U+(w<<15&4294967295|w>>>17),w=C+(U^(M|~S))+N[1]+2240044497&4294967295,C=M+(w<<21&4294967295|w>>>11),w=S+(M^(C|~U))+N[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~M))+N[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~C))+N[6]+2734768916&4294967295,M=U+(w<<15&4294967295|w>>>17),w=C+(U^(M|~S))+N[13]+1309151649&4294967295,C=M+(w<<21&4294967295|w>>>11),w=S+(M^(C|~U))+N[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~M))+N[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~C))+N[2]+718787259&4294967295,M=U+(w<<15&4294967295|w>>>17),w=C+(U^(M|~S))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var C=S-this.blockSize,N=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=C;)u(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<S;)if(N[M++]=O.charCodeAt(U++),M==this.blockSize){u(this,N),M=0;break}}else for(;U<S;)if(N[M++]=O[U++],M==this.blockSize){u(this,N),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var C=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=C&255,C/=256;for(this.u(O),O=Array(16),S=C=0;4>S;++S)for(var N=0;32>N;N+=8)O[C++]=this.g[S]>>>N&255;return O};function h(O,S){var C=g;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=S(O)}function d(O,S){this.h=S;for(var C=[],N=!0,M=O.length-1;0<=M;M--){var U=O[M]|0;N&&U==S||(C[M]=U,N=!1)}this.g=C}var g={};function v(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return R;if(0>O)return $(_(-O));for(var S=[],C=1,N=0;O>=C;N++)S[N]=O/C|0,C*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return $(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=_(Math.pow(S,8)),N=R,M=0;M<O.length;M+=8){var U=Math.min(8,O.length-M),w=parseInt(O.substring(M,M+U),S);8>U?(U=_(Math.pow(S,U)),N=N.j(U).add(_(w))):(N=N.j(C),N=N.add(_(w)))}return N}var R=v(0),D=v(1),j=v(16777216);a=d.prototype,a.m=function(){if(et(this))return-$(this).m();for(var O=0,S=1,C=0;C<this.g.length;C++){var N=this.i(C);O+=(0<=N?N:4294967296+N)*S,S*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Z(this))return"0";if(et(this))return"-"+$(this).toString(O);for(var S=_(Math.pow(O,6)),C=this,N="";;){var M=Ut(C,S).g;C=vt(C,M.j(S));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=M,Z(C))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Z(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function et(O){return O.h==-1}a.l=function(O){return O=vt(this,O),et(O)?-1:Z(O)?0:1};function $(O){for(var S=O.g.length,C=[],N=0;N<S;N++)C[N]=~O.g[N];return new d(C,~O.h).add(D)}a.abs=function(){return et(this)?$(this):this},a.add=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],N=0,M=0;M<=S;M++){var U=N+(this.i(M)&65535)+(O.i(M)&65535),w=(U>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);N=w>>>16,U&=65535,w&=65535,C[M]=w<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function vt(O,S){return O.add($(S))}a.j=function(O){if(Z(this)||Z(O))return R;if(et(this))return et(O)?$(this).j($(O)):$($(this).j(O));if(et(O))return $(this.j($(O)));if(0>this.l(j)&&0>O.l(j))return _(this.m()*O.m());for(var S=this.g.length+O.g.length,C=[],N=0;N<2*S;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<O.g.length;M++){var U=this.i(N)>>>16,w=this.i(N)&65535,Me=O.i(M)>>>16,re=O.i(M)&65535;C[2*N+2*M]+=w*re,dt(C,2*N+2*M),C[2*N+2*M+1]+=U*re,dt(C,2*N+2*M+1),C[2*N+2*M+1]+=w*Me,dt(C,2*N+2*M+1),C[2*N+2*M+2]+=U*Me,dt(C,2*N+2*M+2)}for(N=0;N<S;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=S;N<2*S;N++)C[N]=0;return new d(C,0)};function dt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function st(O,S){this.g=O,this.h=S}function Ut(O,S){if(Z(S))throw Error("division by zero");if(Z(O))return new st(R,R);if(et(O))return S=Ut($(O),S),new st($(S.g),$(S.h));if(et(S))return S=Ut(O,$(S)),new st($(S.g),S.h);if(30<O.g.length){if(et(O)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var C=D,N=S;0>=N.l(O);)C=Et(C),N=Et(N);var M=zt(C,1),U=zt(N,1);for(N=zt(N,2),C=zt(C,2);!Z(N);){var w=U.add(N);0>=w.l(O)&&(M=M.add(C),U=w),N=zt(N,1),C=zt(C,1)}return S=vt(O,M.j(S)),new st(M,S)}for(M=R;0<=O.l(S);){for(C=Math.max(1,Math.floor(O.m()/S.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=_(C),w=U.j(S);et(w)||0<w.l(O);)C-=N,U=_(C),w=U.j(S);Z(U)&&(U=D),M=M.add(U),O=vt(O,w)}return new st(M,O)}a.A=function(O){return Ut(this,O).h},a.and=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],N=0;N<S;N++)C[N]=this.i(N)&O.i(N);return new d(C,this.h&O.h)},a.or=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],N=0;N<S;N++)C[N]=this.i(N)|O.i(N);return new d(C,this.h|O.h)},a.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],N=0;N<S;N++)C[N]=this.i(N)^O.i(N);return new d(C,this.h^O.h)};function Et(O){for(var S=O.g.length+1,C=[],N=0;N<S;N++)C[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(C,O.h)}function zt(O,S){var C=S>>5;S%=32;for(var N=O.g.length-C,M=[],U=0;U<N;U++)M[U]=0<S?O.i(U+C)>>>S|O.i(U+C+1)<<32-S:O.i(U+C);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,W_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,gr=d}).apply(typeof xy<"u"?xy:typeof self<"u"?self:typeof window<"u"?window:{});var Lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tv,jl,ev,qo,Kf,nv,iv,rv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lo=="object"&&Lo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,L={next:function(){if(!T&&p<o.length){var q=p++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function R(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function D(o,m,p){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:R,D.apply(null,arguments)}function j(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,L,q){for(var W=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)W[Nt-2]=arguments[Nt];return m.prototype[L].apply(T,W)}}function et(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function $(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const L=o.length||0,q=T.length||0;o.length=L+q;for(let W=0;W<q;W++)o[L+W]=T[W]}else o.push(T)}}class vt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(o){return/^[\s\xa0]*$/.test(o)}function st(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Ut(o){return Ut[" "](o),o}Ut[" "]=function(){};var Et=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function zt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function O(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function S(o){const m={};for(const p in o)m[p]=o[p];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let q=0;q<C.length;q++)p=C[q],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function M(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function U(o){g.setTimeout(()=>{throw o},0)}function w(){var o=Pt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,p){const T=re.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new vt(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ut=!1,Pt=new Me,V=()=>{const o=g.Promise.resolve(void 0);tt=()=>{o.then(X)}};var X=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){U(p)}var m=re;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ut=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ot=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o})();function bt(o,m){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(Et){t:{try{Ut(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:pt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&bt.aa.h.call(this)}}Z(bt,J);var pt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Ln(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Pi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function li(o){this.src=o,this.g={},this.h=0}li.prototype.add=function(o,m,p,T,L){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var W=Dr(o,m,T,L);return-1<W?(m=o[W],p||(m.fa=!1)):(m=new Ln(m,this.src,q,!!T,L),m.fa=p,o.push(m)),m};function Cr(o,m){var p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(Pi(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Dr(o,m,p,T){for(var L=0;L<o.length;++L){var q=o[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var Vr="closure_lm_"+(1e6*Math.random()|0),Oa={};function hu(o,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)hu(o,m[q],p,T,L);return null}return p=fu(p),o&&o[we]?o.K(m,p,_(T)?!!T.capture:!1,L):pn(o,m,p,!1,T,L)}function pn(o,m,p,T,L,q){if(!m)throw Error("Invalid event type");var W=_(L)?!!L.capture:!!L,Nt=Ts(o);if(Nt||(o[Vr]=Nt=new li(o)),p=Nt.add(m,p,T,W,q),p.proxy)return p;if(T=Dc(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)ot||(L=W),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Ir(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Dc(){function o(p){return m.call(o.src,o.listener,p)}const m=Vc;return o}function Ma(o,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ma(o,m[q],p,T,L);else T=_(T)?!!T.capture:!!T,p=fu(p),o&&o[we]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],p=Dr(q,p,T,L),-1<p&&(Pi(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=Ts(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Dr(m,p,T,L)),(p=-1<o?m[o]:null)&&Es(p))}function Es(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[we])Cr(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Ir(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ts(m))?(Cr(p,o),p.h==0&&(p.src=null,m[Vr]=null)):Pi(o)}}}function Ir(o){return o in Oa?Oa[o]:Oa[o]="on"+o}function Vc(o,m){if(o.da)o=!0;else{m=new bt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&Es(o),o=p.call(T,m)}return o}function Ts(o){return o=o[Vr],o instanceof li?o:null}var xa="__closure_events_fn_"+(1e9*Math.random()>>>0);function fu(o){return typeof o=="function"?o:(o[xa]||(o[xa]=function(m){return o.handleEvent(m)}),o[xa])}function se(){nt.call(this),this.i=new li(this),this.M=this,this.F=null}Z(se,nt),se.prototype[we]=!0,se.prototype.removeEventListener=function(o,m,p,T){Ma(this,o,m,p,T)};function jt(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new J(m,o);else if(m instanceof J)m.target=m.target||o;else{var L=m;m=new J(T,o),N(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var W=m.g=p[q];L=sn(W,T,!0,m)&&L}if(W=m.g=o,L=sn(W,T,!0,m)&&L,L=sn(W,T,!1,m)&&L,p)for(q=0;q<p.length;q++)W=m.g=p[q],L=sn(W,T,!1,m)&&L}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Pi(p[T]);delete o.g[m],o.h--}}this.F=null},se.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},se.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function sn(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==p){var Nt=W.listener,ve=W.ha||W.src;W.fa&&Cr(o.i,W),L=Nt.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function je(o,m,p){if(typeof o=="function")p&&(o=D(o,p));else if(o&&typeof o.handleEvent=="function")o=D(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function du(o){o.g=je(()=>{o.g=null,o.i&&(o.i=!1,du(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ic extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(o){nt.call(this),this.h=o,this.g={}}Z(Nr,nt);var Or=[];function Mr(o){zt(o.g,function(m,p){this.g.hasOwnProperty(p)&&Es(m)},o),o.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),Mr(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=g.JSON.stringify,As=g.JSON.parse,xr=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ua(){}Ua.prototype.h=null;function La(o){return o.h||(o.h=o.i())}function za(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){J.call(this,"d")}Z(oi,J);function Pa(){J.call(this,"c")}Z(Pa,J);var zn={},Ba=null;function Bi(){return Ba=Ba||new se}zn.La="serverreachability";function Ss(o){J.call(this,zn.La,o)}Z(Ss,J);function ki(o){const m=Bi();jt(m,new Ss(m))}zn.STAT_EVENT="statevent";function mu(o,m){J.call(this,zn.STAT_EVENT,o),this.stat=m}Z(mu,J);function te(o){const m=Bi();jt(m,new mu(m,o))}zn.Ma="timingevent";function _e(o,m){J.call(this,zn.Ma,o),this.size=m}Z(_e,J);function fe(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function ka(o,m,p,T,L,q){o.info(function(){if(o.g)if(q)for(var W="",Nt=q.split("&"),ve=0;ve<Nt.length;ve++){var Ot=Nt[ve].split("=");if(1<Ot.length){var De=Ot[0];Ot=Ot[1];var Ee=De.split("_");W=2<=Ee.length&&Ee[1]=="type"?W+(De+"="+Ot+"&"):W+(De+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+W})}function Nc(o,m,p,T,L,q,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+W})}function qi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ur(o,p)+(T?" "+T:"")})}function gu(o,m){o.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function Ur(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return In(p)}catch{return m}}var ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function Bn(){}Z(Bn,Ua),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},Pn=new Bn;function Xe(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var qa={},bs={};function Nn(o,m,p){o.L=1,o.v=kr(an(m)),o.m=p,o.P=!0,hi(o,null)}function hi(o,m){o.F=Date.now(),Lr(o),o.A=an(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Ya(p.i,"t",T),o.C=0,p=o.j.J,o.h=new ue,o.g=Nu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new Ic(D(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Or[0]=L.toString()),L=Or);for(var q=0;q<L.length;q++){var W=hu(p,L[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),ki(),ka(o.i,o.u,o.A,o.l,o.R,o.m)}Xe.prototype.ca=function(o){o=o.target;const m=this.M;m&&Tn(o)==3?m.j():this.Y(o)},Xe.prototype.Y=function(o){try{if(o==this.g)t:{const Ee=Tn(this.g);var m=this.g.Ba();const vi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=vi?ki(3):ki(2)),Hi(this);var p=this.g.Z();this.X=p;e:if(pu(this)){var T=Su(this.g);o="";var L=T.length,q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),kn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,Nc(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,ve=this.g;if((Nt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Nt)){var Ot=Nt;break e}}Ot=null}if(p=Ot)qi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zr(this,p);else{this.o=!1,this.s=3,te(12),xe(this),kn(this);break t}}if(this.P){p=!0;let Ue;for(;!this.J&&this.C<W.length;)if(Ue=yu(this,W),Ue==bs){Ee==4&&(this.s=4,te(14),p=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==qa){this.s=4,te(15),qi(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else qi(this.i,this.l,Ue,null),zr(this,Ue);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||W.length!=0||this.h.h||(this.s=1,te(16),p=!1),this.o=this.o&&p,!p)qi(this.i,this.l,W,"[Invalid Chunked Response]"),xe(this),kn(this);else if(0<W.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Xr(De),De.M=!0,te(11))}}else qi(this.i,this.l,W,null),zr(this,W);Ee==4&&xe(this),this.o&&!this.J&&(Ee==4?Du(this.j,this):(this.o=!1,Lr(this)))}else Lc(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),xe(this),kn(this)}}}catch{}finally{}};function pu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function yu(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?bs:(p=Number(m.substring(p,T)),isNaN(p)?qa:(T+=1,T+p>m.length?bs:(m=m.slice(T,T+p),o.C=T+p,m)))}Xe.prototype.cancel=function(){this.J=!0,xe(this)};function Lr(o){o.S=Date.now()+o.I,_u(o,o.I)}function _u(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=fe(D(o.ba,o),m)}function Hi(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Xe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(gu(this.i,this.A),this.L!=2&&(ki(),te(17)),xe(this),this.s=2,kn(this)):_u(this,this.S-o)};function kn(o){o.j.G==0||o.J||Du(o.j,o)}function xe(o){Hi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Mr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function zr(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||ja(p.h,o))){if(!o.K&&ja(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ls(p),xs(p);else break t;Ja(p),te(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=fe(D(p.Za,p),6e3));if(1>=ws(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else _i(p,11)}else if((o.K||p.g==o)&&Ls(p),!dt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Ot=L[m];if(p.T=Ot[0],Ot=Ot[1],p.G==2)if(Ot[0]=="c"){p.K=Ot[1],p.ia=Ot[2];const De=Ot[3];De!=null&&(p.la=De,p.j.info("VER="+p.la));const Ee=Ot[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const vi=Ot[5];vi!=null&&typeof vi=="number"&&0<vi&&(T=1.5*vi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ue=o.g;if(Ue){const Yn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var q=T.h;q.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Cs(q,q.h),q.h=null))}if(T.D){const tl=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(T.ya=tl,Qt(T.I,T.D,tl))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=o;if(T.qa=Iu(T,T.J?T.ia:null,T.W),W.K){Ke(T.h,W);var Nt=W,ve=T.L;ve&&(Nt.I=ve),Nt.B&&(Hi(Nt),Lr(Nt)),T.g=W}else wu(T);0<p.i.length&&Us(p)}else Ot[0]!="stop"&&Ot[0]!="close"||_i(p,7);else p.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?_i(p,7):Za(p):Ot[0]!="noop"&&p.l&&p.l.ta(Ot),p.v=0)}}ki(4)}catch{}}var vu=class{constructor(o,m){this.g=o,this.map=m}};function fi(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ws(o){return o.h?1:o.g?o.g.size:0}function ja(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Cs(o,m){o.g?o.g.add(m):o.h=m}function Ke(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}fi.prototype.cancel=function(){if(this.i=Ha(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ha(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return et(o.i)}function Oc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function Ds(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function Ga(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=Ds(o),T=Oc(o),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],o)}var Pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mc(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),L=null;if(0<=T){var q=o[p].substring(0,T);L=o[p].substring(T+1)}else q=o[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof de){this.h=o.h,Br(this,o.j),this.o=o.o,this.g=o.g,Gi(this,o.s),this.l=o.l;var m=o.i,p=new mi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),di(this,p),this.m=o.m}else o&&(m=String(o).match(Pr))?(this.h=!1,Br(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),Gi(this,m[4]),this.l=_n(m[5]||"",!0),di(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}de.prototype.toString=function(){var o=[],m=this.j;m&&o.push(qr(m,Qa,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(qr(m,Qa,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(qr(p,p.charAt(0)=="/"?xc:Fa,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",qr(p,Vs)),o.join("")};function an(o){return new de(o)}function Br(o,m,p){o.j=p?_n(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Gi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function di(o,m,p){m instanceof mi?(o.i=m,Tu(o.i,o.h)):(p||(m=qr(m,Uc)),o.i=new mi(m,o.h))}function Qt(o,m,p){o.i.set(m,p)}function kr(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function _n(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function qr(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,Eu),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Eu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Qa=/[#\/\?@]/g,Fa=/[#\?:]/g,xc=/[#\?]/g,Uc=/[#\?@]/g,Vs=/#/g;function mi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function vn(o){o.g||(o.g=new Map,o.h=0,o.i&&Mc(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=mi.prototype,a.add=function(o,m){vn(this),this.i=null,o=qn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function gi(o,m){vn(o),m=qn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function pi(o,m){return vn(o),m=qn(o,m),o.g.has(m)}a.forEach=function(o,m){vn(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)},a.na=function(){vn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=o[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},a.V=function(o){vn(this);let m=[];if(typeof o=="string")pi(this,o)&&(m=m.concat(this.g.get(qn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},a.set=function(o,m){return vn(this),this.i=null,o=qn(this,o),pi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},a.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Ya(o,m,p){gi(o,m),0<p.length&&(o.i=null,o.g.set(qn(o,m),et(p)),o.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=q;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),o.push(L)}}return this.i=o.join("&")};function qn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Tu(o,m){m&&!o.j&&(vn(o),o.i=null,o.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(gi(this,T),Ya(this,L,p))},o)),o.j=m}function jr(o,m){const p=new yn;if(g.Image){const T=new Image;T.onload=j(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(En,p,"TestLoadImage: error",!1,m,T),T.onabort=j(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(En,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function On(o,m){const p=new yn,T=new AbortController,L=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(p,"TestPingServer: error",!1,m)})}function En(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Hr(){this.g=new xr}function jn(o,m,p){const T=p||"";try{Ga(o,function(L,q){let W=L;_(L)&&(W=In(L)),m.push(T+q+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Qi(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(Qi,Ua),Qi.prototype.g=function(){return new yi(this.l,this.j)},Qi.prototype.i=(function(o){return function(){return o}})({});function yi(o,m){se.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(yi,se),a=yi.prototype,a.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Gn(this)},a.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},a.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xa(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xa(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}a.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Hn(this):Gn(this),this.readyState==3&&Xa(this)}},a.Ra=function(o){this.g&&(this.response=this.responseText=o,Hn(this))},a.Qa=function(o){this.g&&(this.response=o,Hn(this))},a.ga=function(){this.g&&Hn(this)};function Hn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gn(o)}a.setRequestHeader=function(o,m){this.u.append(o,m)},a.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Gn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ka(o){let m="";return zt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ce(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ka(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Qt(o,m,p))}function kt(o){se.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(kt,se);var Is=/^https?$/i,Gr=["POST","PUT"];a=kt.prototype,a.Ha=function(o){this.J=o},a.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?La(this.o):La(Pn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){Au(this,q);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Gr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of p)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qr(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){Au(this,q)}};function Au(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ns(o),Qn(o)}function Ns(o){o.A||(o.A=!0,jt(o,"complete"),jt(o,"error"))}a.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,jt(this,"complete"),jt(this,"abort"),Qn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),kt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Os(this):this.bb())},a.bb=function(){Os(this)};function Os(o){if(o.h&&typeof d<"u"&&(!o.v[1]||Tn(o)!=4||o.Z()!=2)){if(o.u&&Tn(o)==4)je(o.Ea,0,o);else if(jt(o,"readystatechange"),Tn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var L=String(o.D).match(Pr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Is.test(L?L.toLowerCase():"")}p=T}if(p)jt(o,"complete"),jt(o,"success");else{o.m=6;try{var q=2<Tn(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Ns(o)}}finally{Qn(o)}}}}function Qn(o,m){if(o.g){Qr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||jt(o,"ready");try{p.onreadystatechange=T}catch{}}}function Qr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}a.isActive=function(){return!!this.g};function Tn(o){return o.g?o.g.readyState:0}a.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),As(m)}};function Su(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Lc(o){const m={};o=(o.g&&2<=Tn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(dt(o[T]))continue;var p=M(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}O(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ms(o){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fr("baseRetryDelayMs",5e3,o),this.cb=Fr("retryDelaySeedMs",1e4,o),this.Wa=Fr("forwardChannelMaxRetries",2,o),this.wa=Fr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(o&&o.concurrentRequestLimit),this.Da=new Hr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ms.prototype,a.la=8,a.G=1,a.connect=function(o,m,p,T){te(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Iu(this,null,this.W),Us(this)};function Za(o){if(bu(o),o.G==3){var m=o.U++,p=an(o.I);if(Qt(p,"SID",o.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Yr(o,p),m=new Xe(o,o.j,m),m.L=2,m.v=kr(an(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Nu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Lr(m)}Vu(o)}function xs(o){o.g&&(Xr(o),o.g.cancel(),o.g=null)}function bu(o){xs(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ls(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Us(o){if(!Rs(o.h)&&!o.s){o.s=!0;var m=o.Ga;tt||V(),ut||(tt(),ut=!0),Pt.add(m,o),o.B=0}}function zc(o,m){return ws(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=fe(D(o.Ga,o,m),Wa(o,o.B)),o.B++,!0)}a.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Xe(this,this.j,o);let q=this.o;if(this.S&&(q?(q=S(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Ru(this,L,m),p=an(this.I),Qt(p,"RID",o),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),Yr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Ka(q)))+"&"+m:this.m&&Ce(p,this.m,q)),Cs(this.h,L),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),L.T=!0,Nn(L,p,null)):Nn(L,p,m),this.G=2}}else this.G==3&&(o?$a(this,o):this.i.length==0||Rs(this.h)||$a(this))};function $a(o,m){var p;m?p=m.l:p=o.U++;const T=an(o.I);Qt(T,"SID",o.K),Qt(T,"RID",p),Qt(T,"AID",o.T),Yr(o,T),o.m&&o.o&&Ce(T,o.m,o.o),p=new Xe(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=Ru(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Cs(o.h,p),Nn(p,T,m)}function Yr(o,m){o.H&&zt(o.H,function(p,T){Qt(m,T,p)}),o.l&&Ga({},function(p,T){Qt(m,T,p)})}function Ru(o,m,p){p=Math.min(o.i.length,p);var T=o.l?D(o.l.Na,o.l,o):null;t:{var L=o.i;let q=-1;for(;;){const W=["count="+p];q==-1?0<p?(q=L[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Nt=!0;for(let ve=0;ve<p;ve++){let Ot=L[ve].g;const De=L[ve].map;if(Ot-=q,0>Ot)q=Math.max(0,L[ve].g-100),Nt=!1;else try{jn(De,W,"req"+Ot+"_")}catch{T&&T(De)}}if(Nt){T=W.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function wu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;tt||V(),ut||(tt(),ut=!0),Pt.add(m,o),o.v=0}}function Ja(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=fe(D(o.Fa,o),Wa(o,o.v)),o.v++,!0)}a.Fa=function(){if(this.u=null,Cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=fe(D(this.ab,this),o)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),xs(this),Cu(this))};function Xr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function Cu(o){o.g=new Xe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=an(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),Yr(o,m),o.m&&o.o&&Ce(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=kr(an(m)),p.m=null,p.P=!0,hi(p,o)}a.Za=function(){this.C!=null&&(this.C=null,xs(this),Ja(this),te(19))};function Ls(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Du(o,m){var p=null;if(o.g==m){Ls(o),Xr(o),o.g=null;var T=2}else if(ja(o.h,m))p=m.D,Ke(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Bi(),jt(T,new _e(T,p)),Us(o)}else wu(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&zc(o,m)||T==2&&Ja(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),L){case 1:_i(o,5);break;case 4:_i(o,10);break;case 3:_i(o,6);break;default:_i(o,2)}}}function Wa(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function _i(o,m){if(o.j.info("Error code "+m),m==2){var p=D(o.fb,o),T=o.Xa;const L=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Br(T,"https"),kr(T),L?jr(T.toString(),p):On(T.toString(),p)}else te(2);o.G=0,o.l&&o.l.sa(m),Vu(o),bu(o)}a.fb=function(o){o?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Vu(o){if(o.G=0,o.ka=[],o.l){const m=Ha(o.h);(m.length!=0||o.i.length!=0)&&($(o.ka,m),$(o.ka,o.i),o.h.i.length=0,et(o.i),o.i.length=0),o.l.ra()}}function Iu(o,m,p){var T=p instanceof de?an(p):new de(p);if(T.g!="")m&&(T.g=m+"."+T.g),Gi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new de(null);T&&Br(q,T),m&&(q.g=m),L&&Gi(q,L),p&&(q.l=p),T=q}return p=o.D,m=o.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",o.la),Yr(o,T),T}function Nu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new kt(new Qi({eb:p})):new kt(o.pa),m.Ha(o.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}a=Ou.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function zs(){}zs.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){se.call(this),this.g=new Ms(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!dt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}Z(Ze,se),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Za(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=In(o),o=p);m.i.push(new vu(m.Ya++,o)),m.G==3&&Us(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Za(this.g),delete this.g,Ze.aa.N.call(this)};function Mu(o){oi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Mu,oi);function xu(){Pa.call(this),this.status=1}Z(xu,Pa);function Fn(o){this.g=o}Z(Fn,Ou),Fn.prototype.ua=function(){jt(this.g,"a")},Fn.prototype.ta=function(o){jt(this.g,new Mu(o))},Fn.prototype.sa=function(o){jt(this.g,new xu)},Fn.prototype.ra=function(){jt(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,rv=function(){return new zs},iv=function(){return Bi()},nv=zn,Kf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ji.NO_ERROR=0,ji.TIMEOUT=8,ji.HTTP_ERROR=6,qo=ji,ci.COMPLETE="complete",ev=ci,za.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",se.prototype.listen=se.prototype.K,jl=za,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,tv=kt}).apply(typeof Lo<"u"?Lo:typeof self<"u"?self:typeof window<"u"?window:{});const Uy="@firebase/firestore",Ly="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new _d("@firebase/firestore");function fa(){return gs.logLevel}function it(a,...e){if(gs.logLevel<=It.DEBUG){const i=e.map(Rd);gs.debug(`Firestore (${Da}): ${a}`,...i)}}function Li(a,...e){if(gs.logLevel<=It.ERROR){const i=e.map(Rd);gs.error(`Firestore (${Da}): ${a}`,...i)}}function Aa(a,...e){if(gs.logLevel<=It.WARN){const i=e.map(Rd);gs.warn(`Firestore (${Da}): ${a}`,...i)}}function Rd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,sv(a,s,i)}function sv(a,e,i){let s=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Li(s),new Error(s)}function qt(a,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,a||sv(e,u,s)}function _t(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ys{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Fe.UNAUTHENTICATED)))}shutdown(){}}class sA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class aA{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const u=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new fs,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},g=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new fs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new av(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Fe(e)}}class lA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new lA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Fe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,G_(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new zy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=cA(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function Dt(a,e){return a<e?-1:a>e?1:0}function Zf(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const u=a.charAt(s),h=e.charAt(s);if(u!==h)return kf(u)===kf(h)?Dt(u,h):kf(u)?1:-1}return Dt(a.length,e.length)}const hA=55296,fA=57343;function kf(a){const e=a.charCodeAt(0);return e>=hA&&e<=fA}function Sa(a,e,i){return a.length===e.length&&a.every(((s,u)=>i(s,e[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="__name__";class Wn{constructor(e,i,s){i===void 0?i=0:i>e.length&&mt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&mt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=Wn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const s=Wn.isNumericId(e),u=Wn.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):Zf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class Jt extends Wn{construct(e,i,s){return new Jt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new at(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((u=>u.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const dA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends Wn{construct(e,i,s){return new ke(e,i,s)}static isValidIdentifier(e){return dA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Py}static keyField(){return new ke([Py])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new at(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(h(),u++)}if(h(),d)throw new at(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(Jt.fromString(e))}static fromName(e){return new ct(Jt.fromString(e).popFirst(5))}static empty(){return new ct(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(a,e,i){if(!i)throw new at(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function mA(a,e,i,s){if(e===!0&&s===!0)throw new at(K.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function By(a){if(!ct.isDocumentKey(a))throw new at(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function ky(a){if(ct.isDocumentKey(a))throw new at(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function uv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Cd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":mt(12329,{type:typeof a})}function ds(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new at(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Cd(a);throw new at(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(a,e){const i={typeString:a};return e&&(i.value=e),i}function au(a,e){if(!uv(a))throw new at(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const u=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(u&&typeof d!==u){i=`JSON field '${s}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new at(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=-62135596800,jy=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*jy);return new Wt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<qy)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jy}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,Wt._jsonSchema))return new Wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:ye("string",Wt._jsonSchemaVersion),seconds:ye("number"),nanoseconds:ye("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Wt(0,0))}static max(){return new yt(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function gA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=yt.fromTimestamp(s===1e9?new Wt(i+1,0):new Wt(i,s));return new vr(u,ct.empty(),e)}function pA(a){return new vr(a.readTime,a.key,Wl)}class vr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new vr(yt.min(),ct.empty(),Wl)}static max(){return new vr(yt.max(),ct.empty(),Wl)}}function yA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(a.documentKey,e.documentKey),i!==0?i:Dt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==_A)throw a;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y(((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Y.reject(i)}static resolve(e){return new Y(((i,s)=>{i(e)}))}static reject(e){return new Y(((i,s)=>{s(e)}))}static waitFor(e){return new Y(((i,s)=>{let u=0,h=0,d=!1;e.forEach((g=>{++u,g.next((()=>{++h,d&&h===u&&i()}),(v=>s(v)))})),d=!0,h===u&&i()}))}static or(e){let i=Y.resolve(!1);for(const s of e)i=i.next((u=>u?Y.resolve(u):s()));return i}static forEach(e,i){const s=[];return e.forEach(((u,h)=>{s.push(i.call(this,u,h))})),this.waitFor(s)}static mapArray(e,i){return new Y(((s,u)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++g,g===h&&s(d)}),(A=>u(A)))}}))}static doWhile(e,i){return new Y(((s,u)=>{const h=()=>{e()===!0?i().next((()=>{h()}),u):s()};h()}))}}function EA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ia(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=-1;function fc(a){return a==null}function Jo(a){return a===0&&1/a==-1/0}function TA(a){return typeof a=="number"&&Number.isInteger(a)&&!Jo(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="";function AA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Hy(e)),e=SA(a.get(i),e);return Hy(e)}function SA(a,e){let i=e;const s=a.length;for(let u=0;u<s;u++){const h=a.charAt(u);switch(h){case"\0":i+="";break;case ov:i+="";break;default:i+=h}}return i}function Hy(a){return a+ov+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Rr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function cv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zo(this.root,e,this.comparator,!1)}getReverseIterator(){return new zo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zo(this.root,e,this.comparator,!0)}}class zo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??Be.RED,this.left=u??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new Be(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw mt(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Qy(this.data.getIterator())}getIteratorFrom(e){return new Qy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class Qy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new mn([])}unionWith(e){let i=new Re(ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new hv("Invalid base64 string: "+h):h}})(e);return new qe(i)}static fromUint8Array(e){const i=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const bA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(a){if(qt(!!a,39018),typeof a=="string"){let e=0;const i=bA.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:he(a.seconds),nanos:he(a.nanos)}}function he(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Tr(a){return typeof a=="string"?qe.fromBase64String(a):qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="server_timestamp",dv="__type__",mv="__previous_value__",gv="__local_write_time__";function Vd(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[dv])==null?void 0:s.stringValue)===fv}function dc(a){const e=a.mapValue.fields[mv];return Vd(e)?dc(e):e}function tu(a){const e=Er(a.mapValue.fields[gv].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,i,s,u,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Wo="(default)";class eu{constructor(e,i){this.projectId=e,this.database=i||Wo}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===Wo}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="__type__",wA="__max__",Po={mapValue:{}},yv="__vector__",tc="value";function Ar(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Vd(a)?4:DA(a)?9007199254740991:CA(a)?10:11:mt(28295,{value:a})}function si(a,e){if(a===e)return!0;const i=Ar(a);if(i!==Ar(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return tu(a).isEqual(tu(e));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Er(u.timestampValue),g=Er(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(u,h){return Tr(u.bytesValue).isEqual(Tr(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(u,h){return he(u.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(u.geoPointValue.longitude)===he(h.geoPointValue.longitude)})(a,e);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return he(u.integerValue)===he(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=he(u.doubleValue),g=he(h.doubleValue);return d===g?Jo(d)===Jo(g):isNaN(d)&&isNaN(g)}return!1})(a,e);case 9:return Sa(a.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(Gy(d)!==Gy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!si(d[v],g[v])))return!1;return!0})(a,e);default:return mt(52216,{left:a})}}function nu(a,e){return(a.values||[]).find((i=>si(i,e)))!==void 0}function ba(a,e){if(a===e)return 0;const i=Ar(a),s=Ar(e);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=he(h.integerValue||h.doubleValue),v=he(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(a,e);case 3:return Fy(a.timestampValue,e.timestampValue);case 4:return Fy(tu(a),tu(e));case 5:return Zf(a.stringValue,e.stringValue);case 6:return(function(h,d){const g=Tr(h),v=Tr(d);return g.compareTo(v)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=Dt(g[_],v[_]);if(A!==0)return A}return Dt(g.length,v.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=Dt(he(h.latitude),he(d.latitude));return g!==0?g:Dt(he(h.longitude),he(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return Yy(a.arrayValue,e.arrayValue);case 10:return(function(h,d){var D,j,Z,et;const g=h.fields||{},v=d.fields||{},_=(D=g[tc])==null?void 0:D.arrayValue,A=(j=v[tc])==null?void 0:j.arrayValue,R=Dt(((Z=_==null?void 0:_.values)==null?void 0:Z.length)||0,((et=A==null?void 0:A.values)==null?void 0:et.length)||0);return R!==0?R:Yy(_,A)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Po.mapValue&&d===Po.mapValue)return 0;if(h===Po.mapValue)return 1;if(d===Po.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let R=0;R<v.length&&R<A.length;++R){const D=Zf(v[R],A[R]);if(D!==0)return D;const j=ba(g[v[R]],_[A[R]]);if(j!==0)return j}return Dt(v.length,A.length)})(a.mapValue,e.mapValue);default:throw mt(23264,{he:i})}}function Fy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Dt(a,e);const i=Er(a),s=Er(e),u=Dt(i.seconds,s.seconds);return u!==0?u:Dt(i.nanos,s.nanos)}function Yy(a,e){const i=a.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=ba(i[u],s[u]);if(h)return h}return Dt(i.length,s.length)}function Ra(a){return $f(a)}function $f(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Er(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Tr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ct.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=$f(h);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${$f(i.fields[d])}`;return u+"}"})(a.mapValue):mt(61005,{value:a})}function jo(a){switch(Ar(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dc(a);return e?16+jo(e):16;case 5:return 2*a.stringValue.length;case 6:return Tr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((u,h)=>u+jo(h)),0)})(a.arrayValue);case 10:case 11:return(function(s){let u=0;return Rr(s.fields,((h,d)=>{u+=h.length+jo(d)})),u})(a.mapValue);default:throw mt(13486,{value:a})}}function Jf(a){return!!a&&"integerValue"in a}function Id(a){return!!a&&"arrayValue"in a}function Xy(a){return!!a&&"nullValue"in a}function Ky(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ho(a){return!!a&&"mapValue"in a}function CA(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[pv])==null?void 0:s.stringValue)===yv}function Yl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Rr(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Yl(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Yl(a.arrayValue.values[i]);return e}return{...a}}function DA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===wA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ho(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(i)}setAll(e){let i=ke.emptyPath(),s={},u=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=Yl(d):u.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());Ho(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Ho(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){Rr(i,((u,h)=>e[u]=h));for(const u of s)delete e[u]}clone(){return new rn(Yl(this.value))}}function _v(a){const e=[];return Rr(a.fields,((i,s)=>{const u=new ke([i]);if(Ho(s)){const h=_v(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)})),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,s,u,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,yt.min(),yt.min(),yt.min(),rn.empty(),0)}static newFoundDocument(e,i,s,u){return new Ye(e,1,i,yt.min(),s,u,0)}static newNoDocument(e,i){return new Ye(e,2,i,yt.min(),yt.min(),rn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,yt.min(),yt.min(),rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i){this.position=e,this.inclusive=i}}function Zy(a,e,i){let s=0;for(let u=0;u<a.position.length;u++){const h=e[u],d=a.position[u];if(h.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=ba(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function $y(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!si(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i="asc"){this.field=e,this.dir=i}}function VA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{}class Se extends vv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new NA(e,i,s):i==="array-contains"?new xA(e,s):i==="in"?new UA(e,s):i==="not-in"?new LA(e,s):i==="array-contains-any"?new zA(e,s):new Se(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new OA(e,s):new MA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ba(i,this.value)):i!==null&&Ar(this.value)===Ar(i)&&this.matchesComparison(ba(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends vv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ai(e,i)}matches(e){return Ev(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ev(a){return a.op==="and"}function Tv(a){return IA(a)&&Ev(a)}function IA(a){for(const e of a.filters)if(e instanceof ai)return!1;return!0}function Wf(a){if(a instanceof Se)return a.field.canonicalString()+a.op.toString()+Ra(a.value);if(Tv(a))return a.filters.map((e=>Wf(e))).join(",");{const e=a.filters.map((i=>Wf(i))).join(",");return`${a.op}(${e})`}}function Av(a,e){return a instanceof Se?(function(s,u){return u instanceof Se&&s.op===u.op&&s.field.isEqual(u.field)&&si(s.value,u.value)})(a,e):a instanceof ai?(function(s,u){return u instanceof ai&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce(((h,d,g)=>h&&Av(d,u.filters[g])),!0):!1})(a,e):void mt(19439)}function Sv(a){return a instanceof Se?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ra(i.value)}`})(a):a instanceof ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(Sv).join(" ,")+"}"})(a):"Filter"}class NA extends Se{constructor(e,i,s){super(e,i,s),this.key=ct.fromName(s.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class OA extends Se{constructor(e,i){super(e,"in",i),this.keys=bv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class MA extends Se{constructor(e,i){super(e,"not-in",i),this.keys=bv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function bv(a,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>ct.fromName(s.referenceValue)))}class xA extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Id(i)&&nu(i.arrayValue,this.value)}}class UA extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&nu(this.value.arrayValue,i)}}class LA extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!nu(this.value.arrayValue,i)}}class zA extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Id(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,i=null,s=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function Jy(a,e=null,i=[],s=[],u=null,h=null,d=null){return new PA(a,e,i,s,u,h,d)}function Nd(a){const e=_t(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Wf(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),fc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Ra(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Ra(s))).join(",")),e.Te=i}return e.Te}function Od(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!VA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Av(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!$y(a.startAt,e.startAt)&&$y(a.endAt,e.endAt)}function td(a){return ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i=null,s=[],u=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BA(a,e,i,s,u,h,d,g){return new mc(a,e,i,s,u,h,d,g)}function Md(a){return new mc(a)}function Wy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function kA(a){return a.collectionGroup!==null}function Xl(a){const e=_t(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(ke.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new nc(h,s))})),i.has(ke.keyField().canonicalString())||e.Ie.push(new nc(ke.keyField(),s))}return e.Ie}function ti(a){const e=_t(a);return e.Ee||(e.Ee=qA(e,Xl(a))),e.Ee}function qA(a,e){if(a.limitType==="F")return Jy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new nc(u.field,h)}));const i=a.endAt?new ec(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new ec(a.startAt.position,a.startAt.inclusive):null;return Jy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function ed(a,e,i){return new mc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function gc(a,e){return Od(ti(a),ti(e))&&a.limitType===e.limitType}function Rv(a){return`${Nd(ti(a))}|lt:${a.limitType}`}function da(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((u=>Sv(u))).join(", ")}]`),fc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((u=>Ra(u))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((u=>Ra(u))).join(",")),`Target(${s})`})(ti(a))}; limitType=${a.limitType})`}function pc(a,e){return e.isFoundDocument()&&(function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ct.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(a,e)&&(function(s,u){for(const h of Xl(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0})(a,e)&&(function(s,u){return!(s.startAt&&!(function(d,g,v){const _=Zy(d,g,v);return d.inclusive?_<=0:_<0})(s.startAt,Xl(s),u)||s.endAt&&!(function(d,g,v){const _=Zy(d,g,v);return d.inclusive?_>=0:_>0})(s.endAt,Xl(s),u))})(a,e)}function jA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function wv(a){return(e,i)=>{let s=!1;for(const u of Xl(a)){const h=HA(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function HA(a,e,i){const s=a.field.isKeyField()?ct.comparator(e.key,i.key):(function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?ba(v,_):mt(42886)})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Rr(this.inner,((i,s)=>{for(const[u,h]of s)e(u,h)}))}isEmpty(){return cv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new ie(ct.comparator);function zi(){return GA}const Cv=new ie(ct.comparator);function Hl(...a){let e=Cv;for(const i of a)e=e.insert(i.key,i);return e}function Dv(a){let e=Cv;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function hs(){return Kl()}function Vv(){return Kl()}function Kl(){return new _s((a=>a.toString()),((a,e)=>a.isEqual(e)))}const QA=new ie(ct.comparator),FA=new Re(ct.comparator);function Vt(...a){let e=FA;for(const i of a)e=e.add(i);return e}const YA=new Re(Dt);function XA(){return YA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jo(e)?"-0":e}}function Iv(a){return{integerValue:""+a}}function KA(a,e){return TA(e)?Iv(e):xd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this._=void 0}}function ZA(a,e,i){return a instanceof ic?(function(u,h){const d={fields:{[dv]:{stringValue:fv},[gv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Vd(h)&&(h=dc(h)),h&&(d.fields[mv]=h),{mapValue:d}})(i,e):a instanceof iu?Ov(a,e):a instanceof ru?Mv(a,e):(function(u,h){const d=Nv(u,h),g=t_(d)+t_(u.Ae);return Jf(d)&&Jf(u.Ae)?Iv(g):xd(u.serializer,g)})(a,e)}function $A(a,e,i){return a instanceof iu?Ov(a,e):a instanceof ru?Mv(a,e):i}function Nv(a,e){return a instanceof rc?(function(s){return Jf(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class ic extends yc{}class iu extends yc{constructor(e){super(),this.elements=e}}function Ov(a,e){const i=xv(e);for(const s of a.elements)i.some((u=>si(u,s)))||i.push(s);return{arrayValue:{values:i}}}class ru extends yc{constructor(e){super(),this.elements=e}}function Mv(a,e){let i=xv(e);for(const s of a.elements)i=i.filter((u=>!si(u,s)));return{arrayValue:{values:i}}}class rc extends yc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function t_(a){return he(a.integerValue||a.doubleValue)}function xv(a){return Id(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function JA(a,e){return a.field.isEqual(e.field)&&(function(s,u){return s instanceof iu&&u instanceof iu||s instanceof ru&&u instanceof ru?Sa(s.elements,u.elements,si):s instanceof rc&&u instanceof rc?si(s.Ae,u.Ae):s instanceof ic&&u instanceof ic})(a.transform,e.transform)}class WA{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Go(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class _c{}function Uv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new zv(a.key,ei.none()):new lu(a.key,a.data,ei.none());{const i=a.data,s=rn.empty();let u=new Re(ke.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new wr(a.key,s,new mn(u.toArray()),ei.none())}}function tS(a,e,i){a instanceof lu?(function(u,h,d){const g=u.value.clone(),v=n_(u.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,e,i):a instanceof wr?(function(u,h,d){if(!Go(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=n_(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Lv(u)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,e,i):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Zl(a,e,i,s){return a instanceof lu?(function(h,d,g,v){if(!Go(h.precondition,d))return g;const _=h.value.clone(),A=i_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,e,i,s):a instanceof wr?(function(h,d,g,v){if(!Go(h.precondition,d))return g;const _=i_(h.fieldTransforms,v,d),A=d.data;return A.setAll(Lv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((R=>R.field)))})(a,e,i,s):(function(h,d,g){return Go(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,e,i)}function eS(a,e){let i=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),h=Nv(s.transform,u||null);h!=null&&(i===null&&(i=rn.empty()),i.set(s.field,h))}return i||null}function e_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Sa(s,u,((h,d)=>JA(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class lu extends _c{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class wr extends _c{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Lv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function n_(a,e,i){const s=new Map;qt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let u=0;u<i.length;u++){const h=a[u],d=h.transform,g=e.data.field(h.field);s.set(h.field,$A(d,g,i[u]))}return s}function i_(a,e,i){const s=new Map;for(const u of a){const h=u.transform,d=i.data.field(u.field);s.set(u.field,ZA(h,d,e))}return s}class zv extends _c{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nS extends _c{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&tS(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Vv();return this.mutations.forEach((u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const v=Uv(d,g);v!==null&&s.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Vt())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,((i,s)=>e_(i,s)))&&Sa(this.baseMutations,e.baseMutations,((i,s)=>e_(i,s)))}}class Ud{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){qt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let u=(function(){return QA})();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new Ud(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,xt;function aS(a){switch(a){case K.OK:return mt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return mt(15467,{code:a})}}function Pv(a){if(a===void 0)return Li("GRPC error has no .code"),K.UNKNOWN;switch(a){case pe.OK:return K.OK;case pe.CANCELLED:return K.CANCELLED;case pe.UNKNOWN:return K.UNKNOWN;case pe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case pe.INTERNAL:return K.INTERNAL;case pe.UNAVAILABLE:return K.UNAVAILABLE;case pe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case pe.NOT_FOUND:return K.NOT_FOUND;case pe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case pe.ABORTED:return K.ABORTED;case pe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case pe.DATA_LOSS:return K.DATA_LOSS;default:return mt(39323,{code:a})}}(xt=pe||(pe={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=new gr([4294967295,4294967295],0);function r_(a){const e=lS().encode(a),i=new W_;return i.update(e),new Uint8Array(i.digest())}function s_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new gr([i,s],0),new gr([u,h],0)]}class Ld{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Gl(`Invalid padding: ${i}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=gr.fromNumber(this.ge)}ye(e,i,s){let u=e.add(i.multiply(gr.fromNumber(s)));return u.compare(uS)===1&&(u=new gr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=r_(e),[s,u]=s_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ld(h,u,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=r_(e),[s,u]=s_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new vc(yt.min(),u,new ie(Dt),zi(),Vt())}}class uu{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new uu(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,i,s,u){this.be=e,this.removedTargetIds=i,this.key=s,this.De=u}}class Bv{constructor(e,i){this.targetId=e,this.Ce=i}}class kv{constructor(e,i,s=qe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class a_{constructor(){this.ve=0,this.Fe=l_(),this.Me=qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),s=Vt();return this.Fe.forEach(((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:mt(38017,{changeType:h})}})),new uu(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=l_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oS{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.Je=Bo(),this.He=Bo(),this.Ye=new ie(Dt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:mt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,s=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(td(h))if(s===0){const d=new ct(h.path);this.et(i,d,Ye.newNoDocument(d,yt.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=Tr(s).toUint8Array()}catch(v){if(v instanceof hv)return Aa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Ld(d,u,h)}catch(v){return Aa(v instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let u=0;return s.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&td(g.target)){const v=new ct(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ye.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Vt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const u=new vc(e,i,this.Ye,this.je,s);return this.je=zi(),this.Je=Bo(),this.He=Bo(),this.Ye=new ie(Dt),u}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new a_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Re(Dt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Re(Dt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new a_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Bo(){return new ie(ct.comparator)}function l_(){return new ie(ct.comparator)}const cS={asc:"ASCENDING",desc:"DESCENDING"},hS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fS={and:"AND",or:"OR"};class dS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nd(a,e){return a.useProto3Json||fc(e)?e:{value:e}}function sc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function mS(a,e){return sc(a,e.toTimestamp())}function ni(a){return qt(!!a,49232),yt.fromTimestamp((function(i){const s=Er(i);return new Wt(s.seconds,s.nanos)})(a))}function zd(a,e){return id(a,e).canonicalString()}function id(a,e){const i=(function(u){return new Jt(["projects",u.projectId,"databases",u.database])})(a).child("documents");return e===void 0?i:i.child(e)}function jv(a){const e=Jt.fromString(a);return qt(Yv(e),10190,{key:e.toString()}),e}function rd(a,e){return zd(a.databaseId,e.path)}function qf(a,e){const i=jv(e);if(i.get(1)!==a.databaseId.projectId)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ct(Gv(i))}function Hv(a,e){return zd(a.databaseId,e)}function gS(a){const e=jv(a);return e.length===4?Jt.emptyPath():Gv(e)}function sd(a){return new Jt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Gv(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function u_(a,e,i){return{name:rd(a,e),fields:i.value.mapValue.fields}}function pS(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:mt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),qe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),qe.fromUint8Array(A||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?K.UNKNOWN:Pv(_.code);return new at(A,_.message||"")})(d);i=new kv(s,u,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=qf(a,s.document.name),h=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):yt.min(),g=new rn({mapValue:{fields:s.document.fields}}),v=Ye.newFoundDocument(u,h,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Qo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=qf(a,s.document),h=s.readTime?ni(s.readTime):yt.min(),d=Ye.newNoDocument(u,h),g=s.removedTargetIds||[];i=new Qo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=qf(a,s.document),h=s.removedTargetIds||[];i=new Qo([],h,u,null)}else{if(!("filter"in e))return mt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new sS(u,h),g=s.targetId;i=new Bv(g,d)}}return i}function yS(a,e){let i;if(e instanceof lu)i={update:u_(a,e.key,e.value)};else if(e instanceof zv)i={delete:rd(a,e.key)};else if(e instanceof wr)i={update:u_(a,e.key,e.data),updateMask:wS(e.fieldMask)};else{if(!(e instanceof nS))return mt(16599,{Vt:e.type});i={verify:rd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const g=d.transform;if(g instanceof ic)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof iu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ru)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof rc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw mt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:mS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt(27497)})(a,e.precondition)),i}function _S(a,e){return a&&a.length>0?(qt(e!==void 0,14353),a.map((i=>(function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(yt.min())&&(d=ni(h)),new WA(d,u.transformResults||[])})(i,e)))):[]}function vS(a,e){return{documents:[Hv(a,e.path)]}}function ES(a,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Hv(a,u);const h=(function(_){if(_.length!==0)return Fv(ai.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(D){return{field:ma(D.field),direction:SS(D.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=nd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function TS(a){let e=gS(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(R){const D=Qv(R);return D instanceof ai&&Tv(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((D=>(function(Z){return new nc(ga(Z.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(R){let D;return D=typeof R=="object"?R.value:R,fc(D)?null:D})(i.limit));let v=null;i.startAt&&(v=(function(R){const D=!!R.before,j=R.values||[];return new ec(j,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(R){const D=!R.before,j=R.values||[];return new ec(j,D)})(i.endAt)),BA(e,u,d,h,g,"F",v,_)}function AS(a,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Qv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ga(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=ga(i.unaryFilter.field);return Se.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ga(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ga(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Se.create(ga(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ai.create(i.compositeFilter.filters.map((s=>Qv(s))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(a):mt(30097,{filter:a})}function SS(a){return cS[a]}function bS(a){return hS[a]}function RS(a){return fS[a]}function ma(a){return{fieldPath:a.canonicalString()}}function ga(a){return ke.fromServerFormat(a.fieldPath)}function Fv(a){return a instanceof Se?(function(i){if(i.op==="=="){if(Ky(i.value))return{unaryFilter:{field:ma(i.field),op:"IS_NAN"}};if(Xy(i.value))return{unaryFilter:{field:ma(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ky(i.value))return{unaryFilter:{field:ma(i.field),op:"IS_NOT_NAN"}};if(Xy(i.value))return{unaryFilter:{field:ma(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ma(i.field),op:bS(i.op),value:i.value}}})(a):a instanceof ai?(function(i){const s=i.getFilters().map((u=>Fv(u)));return s.length===1?s[0]:{compositeFilter:{op:RS(i.op),filters:s}}})(a):mt(54877,{filter:a})}function wS(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Yv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,i,s,u,h=yt.min(),d=yt.min(),g=qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.yt=e}}function DS(a){const e=TS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.Cn=new IS}addToCollectionParentIndex(e,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(vr.min())}updateCollectionGroup(e,i,s){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class IS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Re(Jt.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Re(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xv=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(Xv,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wa(0)}static cr(){return new wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="LruGarbageCollector",NS=1048576;function h_([a,e],[i,s]){const u=Dt(a,i);return u===0?Dt(e,s):u}class OS{constructor(e){this.Ir=e,this.buffer=new Re(h_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();h_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class MS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(c_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ia(i)?it(c_,"Ignoring IndexedDB error during garbage collection: ",i):await Va(i)}await this.Vr(3e5)}))}}class xS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(hc.ce);const s=new OS(i);return this.mr.forEachTarget(e,(u=>s.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>s.Ar(u))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(o_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,u,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),u=this.params.maximumSequenceNumbersToCollect):u=R,d=Date.now(),this.nthSequenceNumber(e,u)))).next((R=>(s=R,g=Date.now(),this.removeTargets(e,s,i)))).next((R=>(h=R,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((R=>(_=Date.now(),fa()<=It.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${R} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:R}))))}}function US(a,e){return new xS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.changes=new _s((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(s=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(s!==null&&Zl(s.mutation,u,mn.empty(),Wt.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Vt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Vt()){const u=hs();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,s).next((h=>{let d=Hl();return h.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=hs();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Vt())))}populateOverlays(e,i,s){const u=[];return s.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(e,u).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,u){let h=zi();const d=Kl(),g=(function(){return Kl()})();return i.forEach(((v,_)=>{const A=s.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof wr)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Zl(A.mutation,_,A.mutation.getFieldMask(),Wt.now())):d.set(_.key,mn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new zS(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=Kl();let u=new ie(((d,g)=>d-g)),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||mn.empty();A=g.applyToLocalView(_,A),s.set(v,A);const R=(u.get(g.batchId)||Vt()).add(v);u=u.insert(g.batchId,R)}))})).next((()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,R=Vv();A.forEach((D=>{if(!h.has(D)){const j=Uv(i.get(D),s.get(D));j!==null&&R.set(D,j),h=h.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,R))}return Y.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,u){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):kA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):Y.resolve(hs());let g=Wl,v=h;return d.next((_=>Y.forEach(_,((A,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next((D=>{v=v.insert(A,D)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Vt()))).next((A=>({batchId:g,changes:Dv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next((s=>{let u=Hl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=Hl();return this.indexManager.getCollectionParents(e,h).next((g=>Y.forEach(g,(v=>{const _=(function(R,D){return new mc(D,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,u).next((A=>{A.forEach(((R,D)=>{d=d.insert(R,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))}));let g=Hl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Zl(A.mutation,_,mn.empty(),Wt.now()),pc(i,_)&&(g=g.insert(v,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}})(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:DS(u.bundledQuery),readTime:ni(u.readTime)}})(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.overlays=new ie(ct.comparator),this.qr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const s=hs();return Y.forEach(i,(u=>this.getOverlay(e,u).next((h=>{h!==null&&s.set(u,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((u,h)=>{this.St(e,i,h)})),Y.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.qr.get(s);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),Y.resolve()}getOverlaysForCollection(e,i,s){const u=hs(),h=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&u.set(v.getKey(),v)}return Y.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new ie(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=hs(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=hs(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=u)););return Y.resolve(g)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new rS(i,s));let h=this.qr.get(i);h===void 0&&(h=Vt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this.Qr=new Re(Oe.$r),this.Ur=new Re(Oe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Oe(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ct(new Jt([])),s=new Oe(i,e),u=new Oe(i,e+1),h=[];return this.Ur.forEachInRange([s,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ct(new Jt([])),s=new Oe(i,e),u=new Oe(i,e+1);let h=Vt();return this.Ur.forEachInRange([s,u],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Oe(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ct.comparator(e.key,i.key)||Dt(e.Yr,i.Yr)}static Kr(e,i){return Dt(e.Yr,i.Yr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Re(Oe.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new iS(h,i,s,u);this.mutationQueue.push(d);for(const g of u)this.Zr=this.Zr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ei(s),h=u<0?0:u;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Dd:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),u=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,u],(d=>{const g=this.Xr(d.Yr);h.push(g)})),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(Dt);return i.forEach((u=>{const h=new Oe(u,0),d=new Oe(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{s=s.add(g.Yr)}))})),Y.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;ct.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ct(h),0);let g=new Re(Dt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===u&&(g=g.add(v.Yr)),!0)}),d),Y.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const u=this.Xr(s);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Y.forEach(i.mutations,(u=>{const h=new Oe(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Oe(i,0),u=this.Zr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.ri=e,this.docs=(function(){return new ie(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let s=zi();return i.forEach((u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Ye.newInvalidDocument(u))})),Y.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=zi();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||yA(pA(A),s)<=0||(u.has(A.key)||pc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,s,u){mt(9500)}ii(e,i){return Y.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new GS(this)}getSize(e){return Y.resolve(this.size)}}class GS extends LS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(s)})),Y.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.persistence=e,this.si=new _s((i=>Nd(i)),Od),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Pd,this.targetCount=0,this.ai=wa.ur()}forEachTarget(e,i){return this.si.forEach(((s,u)=>i(u))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Y.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new wa(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.Pr(i),Y.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)})),Y.waitFor(h).next((()=>u))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Y.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Y.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((d=>{h.push(u.markPotentiallyOrphaned(e,d))})),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Y.resolve(s)}containsKey(e,i){return Y.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,i){this.ui={},this.overlays={},this.ci=new hc(0),this.li=!1,this.li=!0,this.hi=new qS,this.referenceDelegate=e(this),this.Pi=new QS(this),this.indexManager=new VS,this.remoteDocumentCache=(function(u){return new HS(u)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new CS(i),this.Ii=new BS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new kS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new jS(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const u=new FS(this.ci.next());return this.referenceDelegate.Ei(),s(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(e,i){return Y.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class FS extends vA{constructor(e){super(),this.currentSequenceNumber=e}}class Bd{constructor(e){this.persistence=e,this.Ri=new Pd,this.Vi=null}static mi(e){return new Bd(e)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Y.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(s=>{const u=ct.fromPath(s);return this.gi(e,u).next((h=>{h||i.removeEntry(u,yt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ac{constructor(e,i){this.persistence=e,this.pi=new _s((s=>AA(s.path)),((s,u)=>s.isEqual(u))),this.garbageCollector=US(this,i)}static mi(e,i){return new ac(e,i)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((u=>s+u))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Y.forEach(this.pi,((s,u)=>this.br(e,s,u).next((h=>h?Y.resolve():i(u)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((g=>{g||(s++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=jo(e.data.value)),i}br(e,i,s){return Y.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return Y.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=u}static As(e,i){let s=Vt(),u=Vt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new kd(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DT()?8:EA(RT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,u,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new YS;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,s,u){return s.documentReadCount<this.fs?(fa()<=It.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",da(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(fa()<=It.DEBUG&&it("QueryEngine","Query:",da(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(fa()<=It.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",da(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):Y.resolve())}ys(e,i){if(Wy(i))return Y.resolve(null);let s=ti(i);return this.indexManager.getIndexType(e,s).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=ed(i,null,"F"),s=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Vt(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,ed(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,u){return Wy(i)||u.isEqual(yt.min())?Y.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,u)?Y.resolve(null):(fa()<=It.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),da(i)),this.vs(e,d,i,gA(u,Wl)).next((g=>g)))}))}Ds(e,i){let s=new Re(wv(e));return i.forEach(((u,h)=>{pc(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,s){return fa()<=It.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",da(i)),this.ps.getDocumentsMatchingQuery(e,i,vr.min(),s)}vs(e,i,s,u){return this.ps.getDocumentsMatchingQuery(e,s,u).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="LocalStore",KS=3e8;class ZS{constructor(e,i,s,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new ie(Dt),this.xs=new _s((h=>Nd(h)),Od),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function $S(a,e,i,s){return new ZS(a,e,i,s)}async function Zv(a,e){const i=_t(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next((h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],g=[];let v=Vt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function JS(a,e){const i=_t(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,A){const R=_.batch,D=R.keys();let j=Y.resolve();return D.forEach((Z=>{j=j.next((()=>A.getEntry(v,Z))).next((et=>{const $=_.docVersions.get(Z);qt($!==null,48541),et.version.compareTo($)<0&&(R.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(v,R)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let v=Vt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,u)))}))}function $v(a){const e=_t(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function WS(a,e){const i=_t(a),s=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const g=[];e.targetChanges.forEach(((A,R)=>{const D=u.get(R);if(!D)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,R).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,R))));let j=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(R)!==null?j=j.withResumeToken(qe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),u=u.insert(R,j),(function(et,$,vt){return et.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=KS?!0:vt.addedDocuments.size+vt.modifiedDocuments.size+vt.removedDocuments.size>0})(D,j,A)&&g.push(i.Pi.updateTargetData(h,j))}));let v=zi(),_=Vt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),g.push(tb(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!s.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((R=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));g.push(A)}return Y.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=u,h)))}function tb(a,e,i){let s=Vt(),u=Vt();return i.forEach((h=>s=s.add(h))),e.getEntries(a,s).next((h=>{let d=zi();return i.forEach(((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(g)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):it(qd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:u}}))}function eb(a,e){const i=_t(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Dd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function nb(a,e){const i=_t(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let u;return i.Pi.getTargetData(s,e).next((h=>h?(u=h,Y.resolve(u)):i.Pi.allocateTargetId(s).next((d=>(u=new dr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,u).next((()=>u)))))))})).then((s=>{const u=i.Ms.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function ad(a,e,i){const s=_t(a),u=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!Ia(d))throw d;it(qd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(u.target)}function f_(a,e,i){const s=_t(a);let u=yt.min(),h=Vt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const R=_t(v),D=R.xs.get(A);return D!==void 0?Y.resolve(R.Ms.get(D)):R.Pi.getTargetData(_,A)})(s,d,ti(e)).next((g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?u:yt.min(),i?h:Vt()))).next((g=>(ib(s,jA(e),g),{documents:g,Qs:h})))))}function ib(a,e,i){let s=a.Os.get(e)||yt.min();i.forEach(((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),a.Os.set(e,s)}class d_{constructor(){this.activeTargetIds=XA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rb{constructor(){this.Mo=new d_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new d_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="ConnectivityMonitor";class g_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(m_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(m_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko=null;function ld(){return ko===null?ko=(function(){return 268435456+Math.round(2147483648*Math.random())})():ko++,"0x"+ko.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="RestConnection",ab={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===Wo?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(e,i,s,u,h){const d=ld(),g=this.zo(e,i.toUriEncodedString());it(jf,`Sending RPC '${e}' ${d}:`,g,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(g),A=pd(_);return this.Jo(e,g,v,s,A).then((R=>(it(jf,`Received RPC '${e}' ${d}: `,R),R)),(R=>{throw Aa(jf,`RPC '${e}' ${d} failed with error: `,R,"url: ",g,"request:",s),R}))}Ho(e,i,s,u,h,d){return this.Go(e,i,s,u,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Da})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>e[h]=u)),s&&s.headers.forEach(((u,h)=>e[h]=u))}zo(e,i){const s=ab[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class ob extends lb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,h){const d=ld();return new Promise(((g,v)=>{const _=new tv;_.setWithCredentials(!0),_.listenOnce(ev.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case qo.NO_ERROR:const R=_.getResponseJson();it(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),g(R);break;case qo.TIMEOUT:it(Qe,`RPC '${e}' ${d} timed out`),v(new at(K.DEADLINE_EXCEEDED,"Request time out"));break;case qo.HTTP_ERROR:const D=_.getStatus();if(it(Qe,`RPC '${e}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const Z=j==null?void 0:j.error;if(Z&&Z.status&&Z.message){const et=(function(vt){const dt=vt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(dt)>=0?dt:K.UNKNOWN})(Z.status);v(new at(et,Z.message))}else v(new at(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(K.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Qe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(u);it(Qe,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,s,15)}))}T_(e,i,s){const u=ld(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=rv(),g=iv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");it(Qe,`Creating RPC '${e}' stream ${u}: ${A}`,v);const R=d.createWebChannel(A,v);this.I_(R);let D=!1,j=!1;const Z=new ub({Yo:$=>{j?it(Qe,`Not sending because RPC '${e}' stream ${u} is closed:`,$):(D||(it(Qe,`Opening RPC '${e}' stream ${u} transport.`),R.open(),D=!0),it(Qe,`RPC '${e}' stream ${u} sending:`,$),R.send($))},Zo:()=>R.close()}),et=($,vt,dt)=>{$.listen(vt,(st=>{try{dt(st)}catch(Ut){setTimeout((()=>{throw Ut}),0)}}))};return et(R,jl.EventType.OPEN,(()=>{j||(it(Qe,`RPC '${e}' stream ${u} transport opened.`),Z.o_())})),et(R,jl.EventType.CLOSE,(()=>{j||(j=!0,it(Qe,`RPC '${e}' stream ${u} transport closed`),Z.a_(),this.E_(R))})),et(R,jl.EventType.ERROR,($=>{j||(j=!0,Aa(Qe,`RPC '${e}' stream ${u} transport errored. Name:`,$.name,"Message:",$.message),Z.a_(new at(K.UNAVAILABLE,"The operation could not be completed")))})),et(R,jl.EventType.MESSAGE,($=>{var vt;if(!j){const dt=$.data[0];qt(!!dt,16349);const st=dt,Ut=(st==null?void 0:st.error)||((vt=st[0])==null?void 0:vt.error);if(Ut){it(Qe,`RPC '${e}' stream ${u} received error:`,Ut);const Et=Ut.status;let zt=(function(C){const N=pe[C];if(N!==void 0)return Pv(N)})(Et),O=Ut.message;zt===void 0&&(zt=K.INTERNAL,O="Unknown error status: "+Et+" with message "+Ut.message),j=!0,Z.a_(new at(zt,O)),R.close()}else it(Qe,`RPC '${e}' stream ${u} received:`,dt),Z.u_(dt)}})),et(g,nv.STAT_EVENT,($=>{$.stat===Kf.PROXY?it(Qe,`RPC '${e}' stream ${u} detected buffering proxy`):$.stat===Kf.NOPROXY&&it(Qe,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(a){return new dS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,i,s=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-s);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="PersistentStream";class Wv{constructor(e,i,s,u,h,d,g,v){this.Mi=e,this.S_=s,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,u])=>{this.D_===i&&this.G_(s,u)}),(s=>{e((()=>{const u=new at(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{s((()=>this.z_(u)))})),this.stream.onMessage((u=>{s((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(p_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(it(p_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cb extends Wv{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=pS(this.serializer,e),s=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?ni(d.readTime):yt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=sd(this.serializer),i.addTarget=(function(h,d){let g;const v=d.target;if(g=td(v)?{documents:vS(h,v)}:{query:ES(h,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=qv(h,d.resumeToken);const _=nd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=sc(h,d.snapshotVersion.toTimestamp());const _=nd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const s=AS(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=sd(this.serializer),i.removeTarget=e,this.q_(i)}}class hb extends Wv{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=_S(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=sd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>yS(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{}class db extends fb{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,id(i,s),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(K.UNKNOWN,h.toString())}))}Ho(e,i,s,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,id(i,s),u,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="RemoteStore";class gb{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{vs(this)&&(it(ps,"Restarting streams for network reachability change."),await(async function(v){const _=_t(v);_.Ea.add(4),await ou(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Tc(_)})(this))}))})),this.Ra=new mb(s,u)}}async function Tc(a){if(vs(a))for(const e of a.da)await e(!0)}async function ou(a){for(const e of a.da)await e(!1)}function tE(a,e){const i=_t(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Qd(i)?Gd(i):Na(i).O_()&&Hd(i,e))}function jd(a,e){const i=_t(a),s=Na(i);i.Ia.delete(e),s.O_()&&eE(i,e),i.Ia.size===0&&(s.O_()?s.L_():vs(i)&&i.Ra.set("Unknown"))}function Hd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Na(a).Y_(e)}function eE(a,e){a.Va.Ue(e),Na(a).Z_(e)}function Gd(a){a.Va=new oS({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Na(a).start(),a.Ra.ua()}function Qd(a){return vs(a)&&!Na(a).x_()&&a.Ia.size>0}function vs(a){return _t(a).Ea.size===0}function nE(a){a.Va=void 0}async function pb(a){a.Ra.set("Online")}async function yb(a){a.Ia.forEach(((e,i)=>{Hd(a,e)}))}async function _b(a,e){nE(a),Qd(a)?(a.Ra.ha(e),Gd(a)):a.Ra.set("Unknown")}async function vb(a,e,i){if(a.Ra.set("Online"),e instanceof kv&&e.state===2&&e.cause)try{await(async function(u,h){const d=h.cause;for(const g of h.targetIds)u.Ia.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.Ia.delete(g),u.Va.removeTarget(g))})(a,e)}catch(s){it(ps,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lc(a,s)}else if(e instanceof Qo?a.Va.Ze(e):e instanceof Bv?a.Va.st(e):a.Va.tt(e),!i.isEqual(yt.min()))try{const s=await $v(a.localStore);i.compareTo(s)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),eE(h,v);const R=new dr(A.target,v,_,A.sequenceNumber);Hd(h,R)})),h.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(s){it(ps,"Failed to raise snapshot:",s),await lc(a,s)}}async function lc(a,e,i){if(!Ia(e))throw e;a.Ea.add(1),await ou(a),a.Ra.set("Offline"),i||(i=()=>$v(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{it(ps,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Tc(a)}))}function iE(a,e){return e().catch((i=>lc(a,i,e)))}async function Ac(a){const e=_t(a),i=Sr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dd;for(;Eb(e);)try{const u=await eb(e.localStore,s);if(u===null){e.Ta.length===0&&i.L_();break}s=u.batchId,Tb(e,u)}catch(u){await lc(e,u)}rE(e)&&sE(e)}function Eb(a){return vs(a)&&a.Ta.length<10}function Tb(a,e){a.Ta.push(e);const i=Sr(a);i.O_()&&i.X_&&i.ea(e.mutations)}function rE(a){return vs(a)&&!Sr(a).x_()&&a.Ta.length>0}function sE(a){Sr(a).start()}async function Ab(a){Sr(a).ra()}async function Sb(a){const e=Sr(a);for(const i of a.Ta)e.ea(i.mutations)}async function bb(a,e,i){const s=a.Ta.shift(),u=Ud.from(s,e,i);await iE(a,(()=>a.remoteSyncer.applySuccessfulWrite(u))),await Ac(a)}async function Rb(a,e){e&&Sr(a).X_&&await(async function(s,u){if((function(d){return aS(d)&&d!==K.ABORTED})(u.code)){const h=s.Ta.shift();Sr(s).B_(),await iE(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u))),await Ac(s)}})(a,e),rE(a)&&sE(a)}async function y_(a,e){const i=_t(a);i.asyncQueue.verifyOperationInProgress(),it(ps,"RemoteStore received new credentials");const s=vs(i);i.Ea.add(3),await ou(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Tc(i)}async function wb(a,e){const i=_t(a);e?(i.Ea.delete(2),await Tc(i)):e||(i.Ea.add(2),await ou(i),i.Ra.set("Unknown"))}function Na(a){return a.ma||(a.ma=(function(i,s,u){const h=_t(i);return h.sa(),new cb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(a.datastore,a.asyncQueue,{Xo:pb.bind(null,a),t_:yb.bind(null,a),r_:_b.bind(null,a),H_:vb.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Qd(a)?Gd(a):a.Ra.set("Unknown")):(await a.ma.stop(),nE(a))}))),a.ma}function Sr(a){return a.fa||(a.fa=(function(i,s,u){const h=_t(i);return h.sa(),new hb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ab.bind(null,a),r_:Rb.bind(null,a),ta:Sb.bind(null,a),na:bb.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Ac(a)):(await a.fa.stop(),a.Ta.length>0&&(it(ps,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,g=new Fd(e,i,d,u,h);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yd(a,e){if(Li("AsyncQueue",`${e}: ${a}`),Ia(a))return new at(K.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{static emptySet(e){return new pa(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=Hl(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof pa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new pa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.ga=new ie(ct.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):mt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Ca{constructor(e,i,s,u,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ca(e,i,pa.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Db{constructor(){this.queries=v_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const u=_t(i),h=u.queries;u.queries=v_(),h.forEach(((d,g)=>{for(const v of g.Sa)v.onError(s)}))})(this,new at(K.ABORTED,"Firestore shutting down"))}}function v_(){return new _s((a=>Rv(a)),gc)}async function Vb(a,e){const i=_t(a);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(s=2):(h=new Cb,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Yd(d,`Initialization of query '${da(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Xd(i)}async function Ib(a,e){const i=_t(a),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Nb(a,e){const i=_t(a);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(u)&&(s=!0);d.wa=u}}s&&Xd(i)}function Ob(a,e,i){const s=_t(a),u=s.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);s.queries.delete(e)}function Xd(a){a.Ca.forEach((e=>{e.next()}))}var ud,E_;(E_=ud||(ud={})).Ma="default",E_.Cache="cache";class Mb{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Ca(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this.key=e}}class lE{constructor(e){this.key=e}}class xb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=wv(e),this.tu=new pa(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new __,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((A,R)=>{const D=u.get(A),j=pc(this.query,R)?R:null,Z=!!D&&this.mutatedKeys.has(D.key),et=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let $=!1;D&&j?D.data.isEqual(j.data)?Z!==et&&(s.track({type:3,doc:j}),$=!0):this.su(D,j)||(s.track({type:2,doc:j}),$=!0,(v&&this.eu(j,v)>0||_&&this.eu(j,_)<0)&&(g=!0)):!D&&j?(s.track({type:0,doc:j}),$=!0):D&&!j&&(s.track({type:1,doc:D}),$=!0,(v||_)&&(g=!0)),$&&(j?(d=d.add(j),h=et?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,R)=>(function(j,Z){const et=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:$})}};return et(j)-et(Z)})(A.type,R.type)||this.eu(A.doc,R.doc))),this.ou(s),u=u??!1;const g=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ca(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new __,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Vt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new lE(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new aE(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ca.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kd="SyncEngine";class Ub{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Lb{constructor(e){this.key=e,this.hu=!1}}class zb{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new _s((g=>Rv(g)),gc),this.Iu=new Map,this.Eu=new Set,this.du=new ie(ct.comparator),this.Au=new Map,this.Ru=new Pd,this.Vu={},this.mu=new Map,this.fu=wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Pb(a,e,i=!0){const s=dE(a);let u;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await uE(s,e,i,!0),u}async function Bb(a,e){const i=dE(a);await uE(i,e,!0,!1)}async function uE(a,e,i,s){const u=await nb(a.localStore,ti(e)),h=u.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await kb(a,e,h,d==="current",u.resumeToken)),a.isPrimaryClient&&i&&tE(a.remoteStore,u),g}async function kb(a,e,i,s,u){a.pu=(R,D,j)=>(async function(et,$,vt,dt){let st=$.view.ru(vt);st.Cs&&(st=await f_(et.localStore,$.query,!1).then((({documents:O})=>$.view.ru(O,st))));const Ut=dt&&dt.targetChanges.get($.targetId),Et=dt&&dt.targetMismatches.get($.targetId)!=null,zt=$.view.applyChanges(st,et.isPrimaryClient,Ut,Et);return A_(et,$.targetId,zt.au),zt.snapshot})(a,R,D,j);const h=await f_(a.localStore,e,!0),d=new xb(e,h.Qs),g=d.ru(h.documents),v=uu.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",u),_=d.applyChanges(g,a.isPrimaryClient,v);A_(a,i,_.au);const A=new Ub(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function qb(a,e,i){const s=_t(a),u=s.Tu.get(e),h=s.Iu.get(u.targetId);if(h.length>1)return s.Iu.set(u.targetId,h.filter((d=>!gc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await ad(s.localStore,u.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(u.targetId),i&&jd(s.remoteStore,u.targetId),od(s,u.targetId)})).catch(Va)):(od(s,u.targetId),await ad(s.localStore,u.targetId,!0))}async function jb(a,e){const i=_t(a),s=i.Tu.get(e),u=i.Iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),jd(i.remoteStore,s.targetId))}async function Hb(a,e,i){const s=Zb(a);try{const u=await(function(d,g){const v=_t(d),_=Wt.now(),A=g.reduce(((j,Z)=>j.add(Z.key)),Vt());let R,D;return v.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let Z=zi(),et=Vt();return v.Ns.getEntries(j,A).next(($=>{Z=$,Z.forEach(((vt,dt)=>{dt.isValidDocument()||(et=et.add(vt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(j,Z))).next(($=>{R=$;const vt=[];for(const dt of g){const st=eS(dt,R.get(dt.key).overlayedDocument);st!=null&&vt.push(new wr(dt.key,st,_v(st.value.mapValue),ei.exists(!0)))}return v.mutationQueue.addMutationBatch(j,_,vt,g)})).next(($=>{D=$;const vt=$.applyToLocalDocumentSet(R,et);return v.documentOverlayCache.saveOverlays(j,$.batchId,vt)}))})).then((()=>({batchId:D.batchId,changes:Dv(R)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ie(Dt)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(s,u.batchId,i),await cu(s,u.changes),await Ac(s.remoteStore)}catch(u){const h=Yd(u,"Failed to persist write");i.reject(h)}}async function oE(a,e){const i=_t(a);try{const s=await WS(i.localStore,e);e.targetChanges.forEach(((u,h)=>{const d=i.Au.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?qt(d.hu,14607):u.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await cu(i,s,e)}catch(s){await Va(s)}}function T_(a,e,i){const s=_t(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&u.push(g.snapshot)})),(function(d,g){const v=_t(d);v.onlineState=g;let _=!1;v.queries.forEach(((A,R)=>{for(const D of R.Sa)D.va(g)&&(_=!0)})),_&&Xd(v)})(s.eventManager,e),u.length&&s.Pu.H_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Gb(a,e,i){const s=_t(a);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Au.get(e),h=u&&u.key;if(h){let d=new ie(ct.comparator);d=d.insert(h,Ye.newNoDocument(h,yt.min()));const g=Vt().add(h),v=new vc(yt.min(),new Map,new ie(Dt),d,g);await oE(s,v),s.du=s.du.remove(h),s.Au.delete(e),Zd(s)}else await ad(s.localStore,e,!1).then((()=>od(s,e,i))).catch(Va)}async function Qb(a,e){const i=_t(a),s=e.batch.batchId;try{const u=await JS(i.localStore,e);hE(i,s,null),cE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await cu(i,u)}catch(u){await Va(u)}}async function Fb(a,e,i){const s=_t(a);try{const u=await(function(d,g){const v=_t(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next((R=>(qt(R!==null,37113),A=R.keys(),v.mutationQueue.removeMutationBatch(_,R)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(s.localStore,e);hE(s,e,i),cE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await cu(s,u)}catch(u){await Va(u)}}function cE(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function hE(a,e,i){const s=_t(a);let u=s.Vu[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Vu[s.currentUser.toKey()]=u}}function od(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||fE(a,s)}))}function fE(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(jd(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Zd(a))}function A_(a,e,i){for(const s of i)s instanceof aE?(a.Ru.addReference(s.key,e),Yb(a,s)):s instanceof lE?(it(Kd,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||fE(a,s.key)):mt(19791,{wu:s})}function Yb(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(it(Kd,"New document in limbo: "+i),a.Eu.add(s),Zd(a))}function Zd(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new ct(Jt.fromString(e)),s=a.fu.next();a.Au.set(s,new Lb(i)),a.du=a.du.insert(i,s),tE(a.remoteStore,new dr(ti(Md(i.path)),s,"TargetPurposeLimboResolution",hc.ce))}}async function cu(a,e,i){const s=_t(a),u=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,v)=>{d.push(s.pu(v,e,i).then((_=>{var A;if((_||i)&&s.isPrimaryClient){const R=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,R?"current":"not-current")}if(_){u.push(_);const R=kd.As(v.targetId,_);h.push(R)}})))})),await Promise.all(d),s.Pu.H_(u),await(async function(v,_){const A=_t(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>Y.forEach(_,(D=>Y.forEach(D.Es,(j=>A.persistence.referenceDelegate.addReference(R,D.targetId,j))).next((()=>Y.forEach(D.ds,(j=>A.persistence.referenceDelegate.removeReference(R,D.targetId,j)))))))))}catch(R){if(!Ia(R))throw R;it(qd,"Failed to update sequence numbers: "+R)}for(const R of _){const D=R.targetId;if(!R.fromCache){const j=A.Ms.get(D),Z=j.snapshotVersion,et=j.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(D,et)}}})(s.localStore,h))}async function Xb(a,e){const i=_t(a);if(!i.currentUser.isEqual(e)){it(Kd,"User change. New user:",e.toKey());const s=await Zv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((v=>{v.reject(new at(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await cu(i,s.Ls)}}function Kb(a,e){const i=_t(a),s=i.Au.get(e);if(s&&s.hu)return Vt().add(s.key);{let u=Vt();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const g=i.Tu.get(d);u=u.unionWith(g.view.nu)}return u}}function dE(a){const e=_t(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=oE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gb.bind(null,e),e.Pu.H_=Nb.bind(null,e.eventManager),e.Pu.yu=Ob.bind(null,e.eventManager),e}function Zb(a){const e=_t(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fb.bind(null,e),e}class uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ec(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return $S(this.persistence,new XS,e.initialUser,this.serializer)}Cu(e){return new Kv(Bd.mi,this.serializer)}Du(e){return new rb}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uc.provider={build:()=>new uc};class $b extends uc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){qt(this.persistence.referenceDelegate instanceof ac,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new MS(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new Kv((s=>ac.mi(s,i)),this.serializer)}}class cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>T_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xb.bind(null,this.syncEngine),await wb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Db})()}createDatastore(e){const i=Ec(e.databaseInfo.databaseId),s=(function(h){return new ob(h)})(e.databaseInfo);return(function(h,d,g,v){return new db(h,d,g,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,u,h,d,g){return new gb(s,u,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>T_(this.syncEngine,i,0)),(function(){return g_.v()?new g_:new sb})())}createSyncEngine(e,i){return(function(u,h,d,g,v,_,A){const R=new zb(u,h,d,g,v,_);return A&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(u){const h=_t(u);it(ps,"RemoteStore shutting down."),h.Ea.add(5),await ou(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}cd.provider={build:()=>new cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="FirestoreClient";class Wb{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Fe.UNAUTHENTICATED,this.clientId=wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{it(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Yd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Gf(a,e){a.asyncQueue.verifyOperationInProgress(),it(br,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async u=>{s.isEqual(u)||(await Zv(e.localStore,u),s=u)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function S_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await t2(a);it(br,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>y_(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,u)=>y_(e.remoteStore,u))),a._onlineComponents=e}async function t2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(br,"Using user provided OfflineComponentProvider");try{await Gf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;Aa("Error using user provided cache. Falling back to memory cache: "+i),await Gf(a,new uc)}}else it(br,"Using default OfflineComponentProvider"),await Gf(a,new $b(void 0));return a._offlineComponents}async function mE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(br,"Using user provided OnlineComponentProvider"),await S_(a,a._uninitializedComponentsProvider._online)):(it(br,"Using default OnlineComponentProvider"),await S_(a,new cd))),a._onlineComponents}function e2(a){return mE(a).then((e=>e.syncEngine))}async function b_(a){const e=await mE(a),i=e.eventManager;return i.onListen=Pb.bind(null,e.syncEngine),i.onUnlisten=qb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Bb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=jb.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="firestore.googleapis.com",w_=!0;class C_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pE,this.ssl=w_}else this.host=e.host,this.ssl=e.ssl??w_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NS)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,u){return s.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new rA;switch(s.type){case"firstParty":return new uA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=R_.get(i);s&&(it("ComponentProvider","Removing Datastore"),R_.delete(i),s.terminate())})(this),Promise.resolve()}}function n2(a,e,i,s={}){var _;a=ds(a,Sc);const u=pd(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;u&&(ET(`https://${g}`),bT("Firestore",!0)),h.host!==pE&&h.host!==g&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:u,emulatorOptions:s};if(!Zo(v,d)&&(a._setSettings(v),s.mockUserToken)){let A,R;if(typeof s.mockUserToken=="string")A=s.mockUserToken,R=Fe.MOCK_USER;else{A=TT(s.mockUserToken,(_=a._app)==null?void 0:_.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new at(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Fe(D)}a._authCredentials=new sA(new av(A,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bc(this.firestore,e,this._query)}}class be{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new be(this.firestore,e,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(au(i,be._jsonSchema))return new be(e,s||null,new ct(Jt.fromString(i.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:ye("string",be._jsonSchemaVersion),referencePath:ye("string")};class pr extends bc{constructor(e,i,s){super(e,i,Md(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new be(this.firestore,null,new ct(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function i2(a,e,...i){if(a=xi(a),lv("collection","path",e),a instanceof Sc){const s=Jt.fromString(e,...i);return ky(s),new pr(a,null,s)}{if(!(a instanceof be||a instanceof pr))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return ky(s),new pr(a.firestore,null,s)}}function hd(a,e,...i){if(a=xi(a),arguments.length===1&&(e=wd.newId()),lv("doc","path",e),a instanceof Sc){const s=Jt.fromString(e,...i);return By(s),new be(a,null,new ct(s))}{if(!(a instanceof be||a instanceof pr))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return By(s),new be(a.firestore,a instanceof pr?a.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="AsyncQueue";class V_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jv(this,"async_queue_retry"),this._c=()=>{const s=Hf();s&&it(D_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Hf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Hf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ia(e))throw e;it(D_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",I_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=Fd.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&mt(47125,{Pc:I_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function I_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of s)if(h in u&&typeof u[h]=="function")return!0;return!1})(a,["next","error","complete"])}class su extends Sc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new V_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V_(e),this._firestoreClient=void 0,await e}}}function r2(a,e){const i=typeof a=="object"?a:F_(),s=typeof a=="string"?a:Wo,u=Ed(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=_T("firestore");h&&n2(u,...h)}return u}function yE(a){if(a._terminated)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||s2(a),a._firestoreClient}function s2(a){var s,u,h;const e=a._freezeSettings(),i=(function(g,v,_,A){return new RA(g,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,gE(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(a._databaseId,((s=a._app)==null?void 0:s.options.appId)||"",a._persistenceKey,e);a._componentsProvider||(u=e.localCache)!=null&&u._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new Wb(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(qe.fromBase64String(e))}catch(i){throw new at(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Vn(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:ye("string",Vn._jsonSchemaVersion),bytes:ye("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(au(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:ye("string",ii._jsonSchemaVersion),latitude:ye("number"),longitude:ye("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ri(e.vectorValues);throw new at(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:ye("string",ri._jsonSchemaVersion),vectorValues:ye("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=/^__.*__$/;class l2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new lu(e,this.data,i,this.fieldTransforms)}}class _E{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new wr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function vE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:a})}}class Jd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var u;const i=(u=this.path)==null?void 0:u.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){var u;const i=(u=this.path)==null?void 0:u.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return oc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vE(this.Ac)&&a2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class u2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ec(e)}Cc(e,i,s,u=!1){return new Jd({Ac:e,methodName:i,Dc:s,path:ke.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EE(a){const e=a._freezeSettings(),i=Ec(a._databaseId);return new u2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function o2(a,e,i,s,u,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,e,i,u);Wd("Data must be an object, but it was:",d,s);const g=TE(s,d);let v,_;if(h.merge)v=new mn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const R of h.mergeFields){const D=fd(e,R,i);if(!d.contains(D))throw new at(K.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);SE(A,D)||A.push(D)}v=new mn(A),_=d.fieldTransforms.filter((R=>v.covers(R.field)))}else v=null,_=d.fieldTransforms;return new l2(new rn(g),v,_)}class wc extends $d{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wc}}function c2(a,e,i,s){const u=a.Cc(1,e,i);Wd("Data must be an object, but it was:",u,s);const h=[],d=rn.empty();Rr(s,((v,_)=>{const A=tm(e,v,i);_=xi(_);const R=u.yc(A);if(_ instanceof wc)h.push(A);else{const D=Cc(_,R);D!=null&&(h.push(A),d.set(A,D))}}));const g=new mn(h);return new _E(d,g,u.fieldTransforms)}function h2(a,e,i,s,u,h){const d=a.Cc(1,e,i),g=[fd(e,s,i)],v=[u];if(h.length%2!=0)throw new at(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<h.length;D+=2)g.push(fd(e,h[D])),v.push(h[D+1]);const _=[],A=rn.empty();for(let D=g.length-1;D>=0;--D)if(!SE(_,g[D])){const j=g[D];let Z=v[D];Z=xi(Z);const et=d.yc(j);if(Z instanceof wc)_.push(j);else{const $=Cc(Z,et);$!=null&&(_.push(j),A.set(j,$))}}const R=new mn(_);return new _E(A,R,d.fieldTransforms)}function Cc(a,e){if(AE(a=xi(a)))return Wd("Unsupported field value:",e,a),TE(a,e);if(a instanceof $d)return(function(s,u){if(!vE(u.Ac))throw u.Sc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,u){const h=[];let d=0;for(const g of s){let v=Cc(g,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(a,e)}return(function(s,u){if((s=xi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KA(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Wt.fromDate(s);return{timestampValue:sc(u.serializer,h)}}if(s instanceof Wt){const h=new Wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sc(u.serializer,h)}}if(s instanceof ii)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:qv(u.serializer,s._byteString)};if(s instanceof be){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:zd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof ri)return(function(d,g){return{mapValue:{fields:{[pv]:{stringValue:yv},[tc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return xd(g.serializer,_)}))}}}}}})(s,u);throw u.Sc(`Unsupported field value: ${Cd(s)}`)})(a,e)}function TE(a,e){const i={};return cv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rr(a,((s,u)=>{const h=Cc(u,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function AE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Wt||a instanceof ii||a instanceof Vn||a instanceof be||a instanceof $d||a instanceof ri)}function Wd(a,e,i){if(!AE(i)||!uv(i)){const s=Cd(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function fd(a,e,i){if((e=xi(e))instanceof Rc)return e._internalPath;if(typeof e=="string")return tm(a,e);throw oc("Field path arguments must be of type string or ",a,!1,void 0,i)}const f2=new RegExp("[~\\*/\\[\\]]");function tm(a,e,i){if(e.search(f2)>=0)throw oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Rc(...e.split("."))._internalPath}catch{throw oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function oc(a,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${u}`),v+=")"),new at(K.INVALID_ARGUMENT,g+a+v)}function SE(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(RE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class d2 extends bE{data(){return super.data()}}function RE(a,e){return typeof e=="string"?tm(a,e):e instanceof Rc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new at(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g2{convertValue(e,i="none"){switch(Ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw mt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Rr(e,((u,h)=>{s[u]=this.convertValue(h,i)})),s}convertVectorValue(e){var s,u,h;const i=(h=(u=(s=e.fields)==null?void 0:s[tc].arrayValue)==null?void 0:u.values)==null?void 0:h.map((d=>he(d.doubleValue)));return new ri(i)}convertGeoPoint(e){return new ii(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=dc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const i=Er(e);return new Wt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Jt.fromString(e);qt(Yv(s),9688,{name:e});const u=new eu(s.get(1),s.get(3)),h=new ct(s.popFirst(5));return u.isEqual(i)||Li(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class Ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ms extends bE{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(RE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ms._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",ms._jsonSchema={type:ye("string",ms._jsonSchemaVersion),bundleSource:ye("string","DocumentSnapshot"),bundleName:ye("string"),bundle:ye("string")};class Fo extends ms{data(e={}){return super.data(e)}}class ya{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ql(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Fo(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((g=>{const v=new Fo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ql(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const v=new Fo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ql(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:y2(g.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ya._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function y2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:a})}}ya._jsonSchemaVersion="firestore/querySnapshot/1.0",ya._jsonSchema={type:ye("string",ya._jsonSchemaVersion),bundleSource:ye("string","QuerySnapshot"),bundleName:ye("string"),bundle:ye("string")};class wE extends g2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new be(this.firestore,null,i)}}function _2(a,e,i,...s){a=ds(a,be);const u=ds(a.firestore,su),h=EE(u);let d;return d=typeof(e=xi(e))=="string"||e instanceof Rc?h2(h,"updateDoc",a._key,e,i,s):c2(h,"updateDoc",a._key,e),CE(u,[d.toMutation(a._key,ei.exists(!0))])}function v2(a,e){const i=ds(a.firestore,su),s=hd(a),u=p2(a.converter,e);return CE(i,[o2(EE(a.firestore),"addDoc",s._key,u,a.converter!==null,{}).toMutation(s._key,ei.exists(!1))]).then((()=>s))}function E2(a,...e){var v,_,A;a=xi(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||N_(e[s])||(i=e[s++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(N_(e[s])){const R=e[s];e[s]=(v=R.next)==null?void 0:v.bind(R),e[s+1]=(_=R.error)==null?void 0:_.bind(R),e[s+2]=(A=R.complete)==null?void 0:A.bind(R)}let h,d,g;if(a instanceof be)d=ds(a.firestore,su),g=Md(a._key.path),h={next:R=>{e[s]&&e[s](T2(d,a,R))},error:e[s+1],complete:e[s+2]};else{const R=ds(a,bc);d=ds(R.firestore,su),g=R._query;const D=new wE(d);h={next:j=>{e[s]&&e[s](new ya(d,D,R,j))},error:e[s+1],complete:e[s+2]},m2(a._query)}return(function(D,j,Z,et){const $=new Jb(et),vt=new Mb(j,$,Z);return D.asyncQueue.enqueueAndForget((async()=>Vb(await b_(D),vt))),()=>{$.Nu(),D.asyncQueue.enqueueAndForget((async()=>Ib(await b_(D),vt)))}})(yE(d),g,u,h)}function CE(a,e){return(function(s,u){const h=new fs;return s.asyncQueue.enqueueAndForget((async()=>Hb(await e2(s),u,h))),h.promise})(yE(a),e)}function T2(a,e,i){const s=i.docs.get(e._key),u=new wE(a);return new ms(a,u,e._key,s,new Ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){Da=u})(Ad),Ta(new _a("firestore",((s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new su(new aA(s.getProvider("auth-internal")),new oA(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(_.options.projectId,A)})(d,u),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),Mi(Uy,Ly,e),Mi(Uy,Ly,"esm2020")})();const A2={apiKey:"AIzaSyCxqhUmiPOCkdwDfbI8-Q6k7hyutQEIQEI",authDomain:"ttt1-9c767.firebaseapp.com",projectId:"ttt1-9c767",storageBucket:"ttt1-9c767.firebasestorage.app",messagingSenderId:"146279854885",appId:"1:146279854885:web:6760890c2802c9506fa0cc",measurementId:"G-DSL8FJRC6K"},S2=J_.initializeApp(A2),Qf=r2(S2),Yo={meetingName:"팀 주간 회의",totalSeconds:900,remainingSeconds:900,isActive:!1,isPaused:!1},DE=a=>{const e=Math.floor(a/60),i=a%60;return`${String(e).padStart(2,"0")}:${String(i).padStart(2,"0")}`},b2=(a,e,i)=>!e||i?"grey":a<60?"red":a<300?"yellow":"green",R2=({createAdminSession:a})=>Tt.jsxs("div",{className:"role-selection",children:[Tt.jsx("h1",{children:"발표 타이머"}),Tt.jsx("p",{children:"타이머를 만들거나 공유받은 링크를 통해 참여하세요."}),Tt.jsx("button",{className:"button button-primary",onClick:a,"aria-label":"타이머 관리하기",children:"새 타이머 만들기"}),Tt.jsx("p",{className:"description-text",children:"타이머를 보려면 관리자가 공유한 링크 또는 QR 코드가 필요합니다."})]}),O_=({appState:a})=>{const{remainingSeconds:e,meetingName:i,isActive:s,isPaused:u}=a,h=b2(e,s,u);return nn.useEffect(()=>(document.body.className=`status-${h}`,()=>{document.body.className=""}),[h]),Tt.jsxs("div",{className:"viewer-view",children:[Tt.jsx("h2",{className:"meeting-name",children:i||"회의"}),Tt.jsx("div",{className:"timer-display",children:DE(e)})]})},w2=({appState:a,sessionId:e,updateFirestoreState:i})=>{const[s,u]=nn.useState(Math.floor(a.totalSeconds/60)),[h,d]=nn.useState(a.totalSeconds%60),[g,v]=nn.useState(a.meetingName),[_,A]=nn.useState(!1),[R,D]=nn.useState(!1),j=`${window.location.origin}${window.location.pathname}#view/${e}`;nn.useEffect(()=>{u(Math.floor(a.totalSeconds/60)),d(a.totalSeconds%60),v(a.meetingName)},[a.totalSeconds,a.meetingName]);const Z=()=>{const st=s*60+h;i({...Yo,totalSeconds:st,remainingSeconds:st,meetingName:g})},et=()=>{a.isActive?i({isPaused:!a.isPaused}):i({isActive:!0,isPaused:!1})},$=()=>{i({isActive:!1,isPaused:!1,remainingSeconds:a.totalSeconds})},vt=()=>{navigator.clipboard.writeText(j).then(()=>{D(!0),setTimeout(()=>D(!1),2e3)})},dt=()=>a.isActive?a.isPaused?"계속":"일시정지":"시작";return Tt.jsxs("div",{className:"admin-dashboard",children:[Tt.jsx("button",{onClick:()=>window.location.hash="",className:"back-button","aria-label":"뒤로가기",children:"←"}),Tt.jsx("h2",{children:"타이머 관리"}),Tt.jsxs("div",{className:"admin-panel",children:[Tt.jsx("h3",{children:"설정"}),Tt.jsxs("div",{className:"input-group",children:[Tt.jsx("label",{htmlFor:"meetingName",children:"회의명"}),Tt.jsx("input",{id:"meetingName",type:"text",className:"input-field",value:g,onChange:st=>v(st.target.value),placeholder:"회의명을 입력하세요",disabled:a.isActive})]}),Tt.jsxs("div",{className:"input-group",children:[Tt.jsx("label",{children:"총 발표 시간"}),Tt.jsxs("div",{className:"time-input-group",children:[Tt.jsx("input",{type:"number",value:s,onChange:st=>u(Math.max(0,parseInt(st.target.value,10)||0)),"aria-label":"분",disabled:a.isActive}),Tt.jsx("span",{children:":"}),Tt.jsx("input",{type:"number",value:h,onChange:st=>d(Math.max(0,Math.min(59,parseInt(st.target.value,10)||0))),"aria-label":"초",disabled:a.isActive})]})]}),Tt.jsx("button",{className:"button button-primary",onClick:Z,disabled:a.isActive,children:"설정 적용"})]}),Tt.jsxs("div",{className:"admin-panel",children:[Tt.jsx("h3",{children:"제어 및 공유"}),Tt.jsx("div",{className:"timer-display-small",children:DE(a.remainingSeconds)}),Tt.jsxs("div",{className:"controls",children:[Tt.jsx("button",{className:"button button-primary",onClick:et,disabled:a.totalSeconds===0,children:dt()}),Tt.jsx("button",{className:"button button-secondary",onClick:$,children:"초기화"})]}),Tt.jsxs("div",{className:"share-controls",children:[Tt.jsx("button",{className:"button button-secondary",onClick:vt,children:R?"복사 완료!":"URL 복사"}),Tt.jsx("button",{className:"button button-secondary",onClick:()=>A(!_),children:_?"QR 숨기기":"QR 코드 보기"})]}),_&&Tt.jsxs("div",{className:"qr-code-container",children:[Tt.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(j)}`,alt:"Timer Share QR Code"}),Tt.jsx("p",{children:"이 QR 코드를 스캔하여 타이머를 공유하세요."})]})]})]})},C2=()=>{const[a,e]=nn.useState("loading"),[i,s]=nn.useState(Yo),[u,h]=nn.useState(null),d=nn.useRef(null),g=nn.useCallback(A=>{if(u){const R=hd(Qf,"timers",u);_2(R,A)}},[u]);nn.useEffect(()=>(d.current&&clearInterval(d.current),a==="admin"&&i.isActive&&!i.isPaused&&(d.current=window.setInterval(()=>{const A=i.remainingSeconds-1;A>=0?g({remainingSeconds:A}):(g({remainingSeconds:0,isActive:!1}),d.current&&clearInterval(d.current))},1e3)),()=>{d.current&&clearInterval(d.current)}),[a,i.isActive,i.isPaused,i.remainingSeconds,g]),nn.useEffect(()=>{let A=null;const R=()=>{A&&(A(),A=null);const D=window.location.hash.slice(1),[j,Z]=D.split("/");if((j==="admin"||j==="view")&&Z){h(Z);const et=hd(Qf,"timers",Z);A=E2(et,$=>{$.exists()?s($.data()):(console.error("Timer session not found!"),window.location.hash="")}),e(j)}else h(null),s(Yo),e("select")};return window.addEventListener("hashchange",R),R(),()=>{window.removeEventListener("hashchange",R),A&&A()}},[]);const v=async()=>{try{const A=i2(Qf,"timers"),R=await v2(A,Yo);R.id&&(window.location.hash=`admin/${R.id}`)}catch(A){console.error("Error creating new session:",A),alert("타이머를 생성하는데 실패했습니다. 다시 시도해주세요.")}},_=()=>{if(a==="loading")return Tt.jsx("div",{className:"loading",children:"Loading..."});switch(a){case"admin":return Tt.jsx(w2,{appState:i,sessionId:u,updateFirestoreState:g});case"viewer":return Tt.jsx(O_,{appState:i});case"select":default:return Tt.jsx(R2,{createAdminSession:v})}};return a==="viewer"?Tt.jsx(O_,{appState:i}):Tt.jsx("div",{className:"app-container",children:_()})},D2=document.getElementById("root"),V2=uT.createRoot(D2);V2.render(Tt.jsx(C2,{}));
