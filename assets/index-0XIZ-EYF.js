(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function l(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(u){if(u.ep)return;u.ep=!0;const f=l(u);fetch(u.href,f)}})();var nf={exports:{}},ea={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function Z1(){if(Mg)return ea;Mg=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(a,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var _ in u)_!=="key"&&(f[_]=u[_])}else f=u;return u=f.ref,{$$typeof:s,type:a,key:h,ref:u!==void 0?u:null,props:f}}return ea.Fragment=n,ea.jsx=l,ea.jsxs=l,ea}var xg;function W1(){return xg||(xg=1,nf.exports=Z1()),nf.exports}var W=W1(),lf={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function J1(){if(zg)return J;zg=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=b&&E[b]||E["@@iterator"],typeof E=="function"?E:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,X={};function $(E,U,k){this.props=E,this.context=U,this.refs=X,this.updater=k||z}$.prototype.isReactComponent={},$.prototype.setState=function(E,U){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,U,"setState")},$.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function xe(){}xe.prototype=$.prototype;function Le(E,U,k){this.props=E,this.context=U,this.refs=X,this.updater=k||z}var ue=Le.prototype=new xe;ue.constructor=Le,B(ue,$.prototype),ue.isPureReactComponent=!0;var ut=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},St=Object.prototype.hasOwnProperty;function Et(E,U,k,I,G,ce){return k=ce.ref,{$$typeof:s,type:E,key:U,ref:k!==void 0?k:null,props:ce}}function Ct(E,U){return Et(E.type,U,void 0,void 0,void 0,E.props)}function an(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function el(E){var U={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(k){return U[k]})}var gn=/\/+/g;function nt(E,U){return typeof E=="object"&&E!==null&&E.key!=null?el(""+E.key):U.toString(36)}function Ci(){}function Ti(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Ci,Ci):(E.status="pending",E.then(function(U){E.status==="pending"&&(E.status="fulfilled",E.value=U)},function(U){E.status==="pending"&&(E.status="rejected",E.reason=U)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function it(E,U,k,I,G){var ce=typeof E;(ce==="undefined"||ce==="boolean")&&(E=null);var Z=!1;if(E===null)Z=!0;else switch(ce){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(E.$$typeof){case s:case n:Z=!0;break;case y:return Z=E._init,it(Z(E._payload),U,k,I,G)}}if(Z)return G=G(E),Z=I===""?"."+nt(E,0):I,ut(G)?(k="",Z!=null&&(k=Z.replace(gn,"$&/")+"/"),it(G,U,k,"",function(Hn){return Hn})):G!=null&&(an(G)&&(G=Ct(G,k+(G.key==null||E&&E.key===G.key?"":(""+G.key).replace(gn,"$&/")+"/")+Z)),U.push(G)),1;Z=0;var Tt=I===""?".":I+":";if(ut(E))for(var Ne=0;Ne<E.length;Ne++)I=E[Ne],ce=Tt+nt(I,Ne),Z+=it(I,U,k,ce,G);else if(Ne=S(E),typeof Ne=="function")for(E=Ne.call(E),Ne=0;!(I=E.next()).done;)I=I.value,ce=Tt+nt(I,Ne++),Z+=it(I,U,k,ce,G);else if(ce==="object"){if(typeof E.then=="function")return it(Ti(E),U,k,I,G);throw U=String(E),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Z}function O(E,U,k){if(E==null)return E;var I=[],G=0;return it(E,I,"","",function(ce){return U.call(k,ce,G++)}),I}function H(E){if(E._status===-1){var U=E._result;U=U(),U.then(function(k){(E._status===0||E._status===-1)&&(E._status=1,E._result=k)},function(k){(E._status===0||E._status===-1)&&(E._status=2,E._result=k)}),E._status===-1&&(E._status=0,E._result=U)}if(E._status===1)return E._result.default;throw E._result}var P=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function be(){}return J.Children={map:O,forEach:function(E,U,k){O(E,function(){U.apply(this,arguments)},k)},count:function(E){var U=0;return O(E,function(){U++}),U},toArray:function(E){return O(E,function(U){return U})||[]},only:function(E){if(!an(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},J.Component=$,J.Fragment=l,J.Profiler=u,J.PureComponent=Le,J.StrictMode=a,J.Suspense=g,J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,J.__COMPILER_RUNTIME={__proto__:null,c:function(E){return oe.H.useMemoCache(E)}},J.cache=function(E){return function(){return E.apply(null,arguments)}},J.cloneElement=function(E,U,k){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var I=B({},E.props),G=E.key,ce=void 0;if(U!=null)for(Z in U.ref!==void 0&&(ce=void 0),U.key!==void 0&&(G=""+U.key),U)!St.call(U,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&U.ref===void 0||(I[Z]=U[Z]);var Z=arguments.length-2;if(Z===1)I.children=k;else if(1<Z){for(var Tt=Array(Z),Ne=0;Ne<Z;Ne++)Tt[Ne]=arguments[Ne+2];I.children=Tt}return Et(E.type,G,void 0,void 0,ce,I)},J.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:f,_context:E},E},J.createElement=function(E,U,k){var I,G={},ce=null;if(U!=null)for(I in U.key!==void 0&&(ce=""+U.key),U)St.call(U,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(G[I]=U[I]);var Z=arguments.length-2;if(Z===1)G.children=k;else if(1<Z){for(var Tt=Array(Z),Ne=0;Ne<Z;Ne++)Tt[Ne]=arguments[Ne+2];G.children=Tt}if(E&&E.defaultProps)for(I in Z=E.defaultProps,Z)G[I]===void 0&&(G[I]=Z[I]);return Et(E,ce,void 0,void 0,null,G)},J.createRef=function(){return{current:null}},J.forwardRef=function(E){return{$$typeof:_,render:E}},J.isValidElement=an,J.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:H}},J.memo=function(E,U){return{$$typeof:m,type:E,compare:U===void 0?null:U}},J.startTransition=function(E){var U=oe.T,k={};oe.T=k;try{var I=E(),G=oe.S;G!==null&&G(k,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(be,P)}catch(ce){P(ce)}finally{oe.T=U}},J.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},J.use=function(E){return oe.H.use(E)},J.useActionState=function(E,U,k){return oe.H.useActionState(E,U,k)},J.useCallback=function(E,U){return oe.H.useCallback(E,U)},J.useContext=function(E){return oe.H.useContext(E)},J.useDebugValue=function(){},J.useDeferredValue=function(E,U){return oe.H.useDeferredValue(E,U)},J.useEffect=function(E,U,k){var I=oe.H;if(typeof k=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect(E,U)},J.useId=function(){return oe.H.useId()},J.useImperativeHandle=function(E,U,k){return oe.H.useImperativeHandle(E,U,k)},J.useInsertionEffect=function(E,U){return oe.H.useInsertionEffect(E,U)},J.useLayoutEffect=function(E,U){return oe.H.useLayoutEffect(E,U)},J.useMemo=function(E,U){return oe.H.useMemo(E,U)},J.useOptimistic=function(E,U){return oe.H.useOptimistic(E,U)},J.useReducer=function(E,U,k){return oe.H.useReducer(E,U,k)},J.useRef=function(E){return oe.H.useRef(E)},J.useState=function(E){return oe.H.useState(E)},J.useSyncExternalStore=function(E,U,k){return oe.H.useSyncExternalStore(E,U,k)},J.useTransition=function(){return oe.H.useTransition()},J.version="19.1.1",J}var Ug;function Pf(){return Ug||(Ug=1,lf.exports=J1()),lf.exports}var gt=Pf(),sf={exports:{}},ta={},af={exports:{}},rf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function $1(){return Lg||(Lg=1,(function(s){function n(O,H){var P=O.length;O.push(H);e:for(;0<P;){var be=P-1>>>1,E=O[be];if(0<u(E,H))O[be]=H,O[P]=E,P=be;else break e}}function l(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var H=O[0],P=O.pop();if(P!==H){O[0]=P;e:for(var be=0,E=O.length,U=E>>>1;be<U;){var k=2*(be+1)-1,I=O[k],G=k+1,ce=O[G];if(0>u(I,P))G<E&&0>u(ce,I)?(O[be]=ce,O[G]=P,be=G):(O[be]=I,O[k]=P,be=k);else if(G<E&&0>u(ce,P))O[be]=ce,O[G]=P,be=G;else break e}}return H}function u(O,H){var P=O.sortIndex-H.sortIndex;return P!==0?P:O.id-H.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,_=h.now();s.unstable_now=function(){return h.now()-_}}var g=[],m=[],y=1,b=null,S=3,z=!1,B=!1,X=!1,$=!1,xe=typeof setTimeout=="function"?setTimeout:null,Le=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function ut(O){for(var H=l(m);H!==null;){if(H.callback===null)a(m);else if(H.startTime<=O)a(m),H.sortIndex=H.expirationTime,n(g,H);else break;H=l(m)}}function oe(O){if(X=!1,ut(O),!B)if(l(g)!==null)B=!0,St||(St=!0,nt());else{var H=l(m);H!==null&&it(oe,H.startTime-O)}}var St=!1,Et=-1,Ct=5,an=-1;function el(){return $?!0:!(s.unstable_now()-an<Ct)}function gn(){if($=!1,St){var O=s.unstable_now();an=O;var H=!0;try{e:{B=!1,X&&(X=!1,Le(Et),Et=-1),z=!0;var P=S;try{t:{for(ut(O),b=l(g);b!==null&&!(b.expirationTime>O&&el());){var be=b.callback;if(typeof be=="function"){b.callback=null,S=b.priorityLevel;var E=be(b.expirationTime<=O);if(O=s.unstable_now(),typeof E=="function"){b.callback=E,ut(O),H=!0;break t}b===l(g)&&a(g),ut(O)}else a(g);b=l(g)}if(b!==null)H=!0;else{var U=l(m);U!==null&&it(oe,U.startTime-O),H=!1}}break e}finally{b=null,S=P,z=!1}H=void 0}}finally{H?nt():St=!1}}}var nt;if(typeof ue=="function")nt=function(){ue(gn)};else if(typeof MessageChannel<"u"){var Ci=new MessageChannel,Ti=Ci.port2;Ci.port1.onmessage=gn,nt=function(){Ti.postMessage(null)}}else nt=function(){xe(gn,0)};function it(O,H){Et=xe(function(){O(s.unstable_now())},H)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ct=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(O){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var P=S;S=H;try{return O()}finally{S=P}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var P=S;S=O;try{return H()}finally{S=P}},s.unstable_scheduleCallback=function(O,H,P){var be=s.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?be+P:be):P=be,O){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=P+E,O={id:y++,callback:H,priorityLevel:O,startTime:P,expirationTime:E,sortIndex:-1},P>be?(O.sortIndex=P,n(m,O),l(g)===null&&O===l(m)&&(X?(Le(Et),Et=-1):X=!0,it(oe,P-be))):(O.sortIndex=E,n(g,O),B||z||(B=!0,St||(St=!0,nt()))),O},s.unstable_shouldYield=el,s.unstable_wrapCallback=function(O){var H=S;return function(){var P=S;S=H;try{return O.apply(this,arguments)}finally{S=P}}}})(rf)),rf}var Bg;function eb(){return Bg||(Bg=1,af.exports=$1()),af.exports}var uf={exports:{}},at={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function tb(){if(Ig)return at;Ig=1;var s=Pf();function n(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(g,m,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:g,containerInfo:m,implementation:y}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return at.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,at.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return f(g,m,null,y)},at.flushSync=function(g){var m=h.T,y=a.p;try{if(h.T=null,a.p=2,g)return g()}finally{h.T=m,a.p=y,a.d.f()}},at.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},at.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},at.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,b=_(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,z=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:z}):y==="script"&&a.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:z,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},at.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=_(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},at.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,b=_(y,m.crossOrigin);a.d.L(g,y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},at.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=_(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},at.requestFormReset=function(g){a.d.r(g)},at.unstable_batchedUpdates=function(g,m){return g(m)},at.useFormState=function(g,m,y){return h.H.useFormState(g,m,y)},at.useFormStatus=function(){return h.H.useHostTransitionStatus()},at.version="19.1.1",at}var Hg;function nb(){if(Hg)return uf.exports;Hg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),uf.exports=tb(),uf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function ib(){if(kg)return ta;kg=1;var s=eb(),n=Pf(),l=nb();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(f(e)!==e)throw Error(a(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(a(188));return t!==e?null:e}for(var i=e,r=t;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return _(o),e;if(c===r)return _(o),t;c=c.sibling}throw Error(a(188))}if(i.return!==r.return)i=o,r=c;else{for(var d=!1,p=o.child;p;){if(p===i){d=!0,i=o,r=c;break}if(p===r){d=!0,r=o,i=c;break}p=p.sibling}if(!d){for(p=c.child;p;){if(p===i){d=!0,i=c,r=o;break}if(p===r){d=!0,r=c,i=o;break}p=p.sibling}if(!d)throw Error(a(189))}}if(i.alternate!==r)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),Le=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),Et=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),an=Symbol.for("react.activity"),el=Symbol.for("react.memo_cache_sentinel"),gn=Symbol.iterator;function nt(e){return e===null||typeof e!="object"?null:(e=gn&&e[gn]||e["@@iterator"],typeof e=="function"?e:null)}var Ci=Symbol.for("react.client.reference");function Ti(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ci?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case $:return"Profiler";case X:return"StrictMode";case oe:return"Suspense";case St:return"SuspenseList";case an:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case ue:return(e.displayName||"Context")+".Provider";case Le:return(e._context.displayName||"Context")+".Consumer";case ut:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Et:return t=e.displayName||null,t!==null?t:Ti(e.type)||"Memo";case Ct:t=e._payload,e=e._init;try{return Ti(e(t))}catch{}}return null}var it=Array.isArray,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},be=[],E=-1;function U(e){return{current:e}}function k(e){0>E||(e.current=be[E],be[E]=null,E--)}function I(e,t){E++,be[E]=e.current,e.current=t}var G=U(null),ce=U(null),Z=U(null),Tt=U(null);function Ne(e,t){switch(I(Z,t),I(ce,e),I(G,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=sg(t),e=ag(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(G),I(G,e)}function Hn(){k(G),k(ce),k(Z)}function qu(e){e.memoizedState!==null&&I(Tt,e);var t=G.current,i=ag(t,e.type);t!==i&&(I(ce,e),I(G,i))}function La(e){ce.current===e&&(k(G),k(ce)),Tt.current===e&&(k(Tt),Fs._currentValue=P)}var Yu=Object.prototype.hasOwnProperty,Gu=s.unstable_scheduleCallback,Vu=s.unstable_cancelCallback,Rv=s.unstable_shouldYield,Dv=s.unstable_requestPaint,rn=s.unstable_now,Ov=s.unstable_getCurrentPriorityLevel,kh=s.unstable_ImmediatePriority,qh=s.unstable_UserBlockingPriority,Ba=s.unstable_NormalPriority,Mv=s.unstable_LowPriority,Yh=s.unstable_IdlePriority,xv=s.log,zv=s.unstable_setDisableYieldValue,is=null,At=null;function kn(e){if(typeof xv=="function"&&zv(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(is,e)}catch{}}var wt=Math.clz32?Math.clz32:Bv,Uv=Math.log,Lv=Math.LN2;function Bv(e){return e>>>=0,e===0?32:31-(Uv(e)/Lv|0)|0}var Ia=256,Ha=4194304;function Ai(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ka(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var o=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var p=r&134217727;return p!==0?(r=p&~c,r!==0?o=Ai(r):(d&=p,d!==0?o=Ai(d):i||(i=p&~e,i!==0&&(o=Ai(i))))):(p=r&~c,p!==0?o=Ai(p):d!==0?o=Ai(d):i||(i=r&~e,i!==0&&(o=Ai(i)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:o}function ls(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Iv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gh(){var e=Ia;return Ia<<=1,(Ia&4194048)===0&&(Ia=256),e}function Vh(){var e=Ha;return Ha<<=1,(Ha&62914560)===0&&(Ha=4194304),e}function ju(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ss(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hv(e,t,i,r,o,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var p=e.entanglements,v=e.expirationTimes,w=e.hiddenUpdates;for(i=d&~i;0<i;){var D=31-wt(i),x=1<<D;p[D]=0,v[D]=-1;var N=w[D];if(N!==null)for(w[D]=null,D=0;D<N.length;D++){var R=N[D];R!==null&&(R.lane&=-536870913)}i&=~x}r!==0&&jh(e,r,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function jh(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-wt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&4194090}function Qh(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-wt(i),o=1<<r;o&t|e[r]&t&&(e[r]|=t),i&=~o}}function Qu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xh(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:Ag(e.type))}function kv(e,t){var i=H.p;try{return H.p=e,t()}finally{H.p=i}}var qn=Math.random().toString(36).slice(2),lt="__reactFiber$"+qn,ft="__reactProps$"+qn,tl="__reactContainer$"+qn,Pu="__reactEvents$"+qn,qv="__reactListeners$"+qn,Yv="__reactHandles$"+qn,Ph="__reactResources$"+qn,as="__reactMarker$"+qn;function Ku(e){delete e[lt],delete e[ft],delete e[Pu],delete e[qv],delete e[Yv]}function nl(e){var t=e[lt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[tl]||i[lt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=cg(e);e!==null;){if(i=e[lt])return i;e=cg(e)}return t}e=i,i=e.parentNode}return null}function il(e){if(e=e[lt]||e[tl]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function rs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function ll(e){var t=e[Ph];return t||(t=e[Ph]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[as]=!0}var Kh=new Set,Fh={};function wi(e,t){sl(e,t),sl(e+"Capture",t)}function sl(e,t){for(Fh[e]=t,e=0;e<t.length;e++)Kh.add(t[e])}var Gv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zh={},Wh={};function Vv(e){return Yu.call(Wh,e)?!0:Yu.call(Zh,e)?!1:Gv.test(e)?Wh[e]=!0:(Zh[e]=!0,!1)}function qa(e,t,i){if(Vv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Ya(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function pn(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}var Fu,Jh;function al(e){if(Fu===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Fu=t&&t[1]||"",Jh=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fu+e+Jh}var Zu=!1;function Wu(e,t){if(!e||Zu)return"";Zu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var x=function(){throw Error()};if(Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(R){var N=R}Reflect.construct(e,[],x)}else{try{x.call()}catch(R){N=R}e.call(x.prototype)}}else{try{throw Error()}catch(R){N=R}(x=e())&&typeof x.catch=="function"&&x.catch(function(){})}}catch(R){if(R&&N&&typeof R.stack=="string")return[R.stack,N.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=r.DetermineComponentFrameRoot(),d=c[0],p=c[1];if(d&&p){var v=d.split(`
`),w=p.split(`
`);for(o=r=0;r<v.length&&!v[r].includes("DetermineComponentFrameRoot");)r++;for(;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;if(r===v.length||o===w.length)for(r=v.length-1,o=w.length-1;1<=r&&0<=o&&v[r]!==w[o];)o--;for(;1<=r&&0<=o;r--,o--)if(v[r]!==w[o]){if(r!==1||o!==1)do if(r--,o--,0>o||v[r]!==w[o]){var D=`
`+v[r].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=r&&0<=o);break}}}finally{Zu=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?al(i):""}function jv(e){switch(e.tag){case 26:case 27:case 5:return al(e.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 15:return Wu(e.type,!1);case 11:return Wu(e.type.render,!1);case 1:return Wu(e.type,!0);case 31:return al("Activity");default:return""}}function $h(e){try{var t="";do t+=jv(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ed(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qv(e){var t=ed(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){r=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ga(e){e._valueTracker||(e._valueTracker=Qv(e))}function td(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=ed(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function Va(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xv=/[\n"\\]/g;function qt(e){return e.replace(Xv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ju(e,t,i,r,o,c,d,p){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?$u(e,d,kt(t)):i!=null?$u(e,d,kt(i)):r!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+kt(p):e.removeAttribute("name")}function nd(e,t,i,r,o,c,d,p){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;i=i!=null?""+kt(i):"",t=t!=null?""+kt(t):i,p||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=p?e.checked:!!r,e.defaultChecked=!!r,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function $u(e,t,i){t==="number"&&Va(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function rl(e,t,i,r){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&r&&(e[i].defaultSelected=!0)}else{for(i=""+kt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function id(e,t,i){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+kt(i):""}function ld(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(a(92));if(it(r)){if(1<r.length)throw Error(a(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=kt(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r)}function ul(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Pv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sd(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||Pv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function ad(e,t,i){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&i[o]!==r&&sd(e,o,r)}else for(var c in t)t.hasOwnProperty(c)&&sd(e,c,t[c])}function eo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(e){return Fv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var to=null;function no(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,cl=null;function rd(e){var t=il(e);if(t&&(e=t.stateNode)){var i=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ju(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var o=r[ft]||null;if(!o)throw Error(a(90));Ju(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&td(r)}break e;case"textarea":id(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&rl(e,!!i.multiple,t,!1)}}}var io=!1;function ud(e,t,i){if(io)return e(t,i);io=!0;try{var r=e(t);return r}finally{if(io=!1,(ol!==null||cl!==null)&&(Dr(),ol&&(t=ol,e=cl,cl=ol=null,rd(t),e)))for(t=0;t<e.length;t++)rd(e[t])}}function us(e,t){var i=e.stateNode;if(i===null)return null;var r=i[ft]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,t,typeof i));return i}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lo=!1;if(yn)try{var os={};Object.defineProperty(os,"passive",{get:function(){lo=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{lo=!1}var Yn=null,so=null,Qa=null;function od(){if(Qa)return Qa;var e,t=so,i=t.length,r,o="value"in Yn?Yn.value:Yn.textContent,c=o.length;for(e=0;e<i&&t[e]===o[e];e++);var d=i-e;for(r=1;r<=d&&t[i-r]===o[c-r];r++);return Qa=o.slice(e,1<r?1-r:void 0)}function Xa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pa(){return!0}function cd(){return!1}function ht(e){function t(i,r,o,c,d){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(c):c[p]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Pa:cd,this.isPropagationStopped=cd,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),t}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=ht(Ni),cs=y({},Ni,{view:0,detail:0}),Zv=ht(cs),ao,ro,fs,Fa=y({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fs&&(fs&&e.type==="mousemove"?(ao=e.screenX-fs.screenX,ro=e.screenY-fs.screenY):ro=ao=0,fs=e),ao)},movementY:function(e){return"movementY"in e?e.movementY:ro}}),fd=ht(Fa),Wv=y({},Fa,{dataTransfer:0}),Jv=ht(Wv),$v=y({},cs,{relatedTarget:0}),uo=ht($v),e0=y({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),t0=ht(e0),n0=y({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),i0=ht(n0),l0=y({},Ni,{data:0}),hd=ht(l0),s0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=r0[e])?!!t[e]:!1}function oo(){return u0}var o0=y({},cs,{key:function(e){if(e.key){var t=s0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?a0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(e){return e.type==="keypress"?Xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),c0=ht(o0),f0=y({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dd=ht(f0),h0=y({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),d0=ht(h0),_0=y({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),m0=ht(_0),g0=y({},Fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p0=ht(g0),y0=y({},Ni,{newState:0,oldState:0}),v0=ht(y0),b0=[9,13,27,32],co=yn&&"CompositionEvent"in window,hs=null;yn&&"documentMode"in document&&(hs=document.documentMode);var S0=yn&&"TextEvent"in window&&!hs,_d=yn&&(!co||hs&&8<hs&&11>=hs),md=" ",gd=!1;function pd(e,t){switch(e){case"keyup":return b0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fl=!1;function E0(e,t){switch(e){case"compositionend":return yd(t);case"keypress":return t.which!==32?null:(gd=!0,md);case"textInput":return e=t.data,e===md&&gd?null:e;default:return null}}function C0(e,t){if(fl)return e==="compositionend"||!co&&pd(e,t)?(e=od(),Qa=so=Yn=null,fl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _d&&t.locale!=="ko"?null:t.data;default:return null}}var T0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!T0[e.type]:t==="textarea"}function bd(e,t,i,r){ol?cl?cl.push(r):cl=[r]:ol=r,t=Lr(t,"onChange"),0<t.length&&(i=new Ka("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var ds=null,_s=null;function A0(e){eg(e,0)}function Za(e){var t=rs(e);if(td(t))return e}function Sd(e,t){if(e==="change")return t}var Ed=!1;if(yn){var fo;if(yn){var ho="oninput"in document;if(!ho){var Cd=document.createElement("div");Cd.setAttribute("oninput","return;"),ho=typeof Cd.oninput=="function"}fo=ho}else fo=!1;Ed=fo&&(!document.documentMode||9<document.documentMode)}function Td(){ds&&(ds.detachEvent("onpropertychange",Ad),_s=ds=null)}function Ad(e){if(e.propertyName==="value"&&Za(_s)){var t=[];bd(t,_s,e,no(e)),ud(A0,t)}}function w0(e,t,i){e==="focusin"?(Td(),ds=t,_s=i,ds.attachEvent("onpropertychange",Ad)):e==="focusout"&&Td()}function N0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Za(_s)}function R0(e,t){if(e==="click")return Za(t)}function D0(e,t){if(e==="input"||e==="change")return Za(t)}function O0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:O0;function ms(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!Yu.call(t,o)||!Nt(e[o],t[o]))return!1}return!0}function wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nd(e,t){var i=wd(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=wd(i)}}function Rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Va(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Va(e.document)}return t}function _o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var M0=yn&&"documentMode"in document&&11>=document.documentMode,hl=null,mo=null,gs=null,go=!1;function Od(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;go||hl==null||hl!==Va(r)||(r=hl,"selectionStart"in r&&_o(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gs&&ms(gs,r)||(gs=r,r=Lr(mo,"onSelect"),0<r.length&&(t=new Ka("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=hl)))}function Ri(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var dl={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionrun:Ri("Transition","TransitionRun"),transitionstart:Ri("Transition","TransitionStart"),transitioncancel:Ri("Transition","TransitionCancel"),transitionend:Ri("Transition","TransitionEnd")},po={},Md={};yn&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function Di(e){if(po[e])return po[e];if(!dl[e])return e;var t=dl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Md)return po[e]=t[i];return e}var xd=Di("animationend"),zd=Di("animationiteration"),Ud=Di("animationstart"),x0=Di("transitionrun"),z0=Di("transitionstart"),U0=Di("transitioncancel"),Ld=Di("transitionend"),Bd=new Map,yo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yo.push("scrollEnd");function Jt(e,t){Bd.set(e,t),wi(t,[e])}var Id=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var i=Id.get(e);return i!==void 0?i:(t={value:e,source:t,stack:$h(t)},Id.set(e,t),t)}return{value:e,source:t,stack:$h(t)}}var Gt=[],_l=0,vo=0;function Wa(){for(var e=_l,t=vo=_l=0;t<e;){var i=Gt[t];Gt[t++]=null;var r=Gt[t];Gt[t++]=null;var o=Gt[t];Gt[t++]=null;var c=Gt[t];if(Gt[t++]=null,r!==null&&o!==null){var d=r.pending;d===null?o.next=o:(o.next=d.next,d.next=o),r.pending=o}c!==0&&Hd(i,o,c)}}function Ja(e,t,i,r){Gt[_l++]=e,Gt[_l++]=t,Gt[_l++]=i,Gt[_l++]=r,vo|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function bo(e,t,i,r){return Ja(e,t,i,r),$a(e)}function ml(e,t){return Ja(e,null,null,t),$a(e)}function Hd(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var o=!1,c=e.return;c!==null;)c.childLanes|=i,r=c.alternate,r!==null&&(r.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-wt(i),e=c.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=i|536870912),c):null}function $a(e){if(50<Ys)throw Ys=0,wc=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gl={};function L0(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,i,r){return new L0(e,t,i,r)}function So(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vn(e,t){var i=e.alternate;return i===null?(i=Rt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function kd(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function er(e,t,i,r,o,c){var d=0;if(r=e,typeof e=="function")So(e)&&(d=1);else if(typeof e=="string")d=I1(e,i,G.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case an:return e=Rt(31,i,t,o),e.elementType=an,e.lanes=c,e;case B:return Oi(i.children,o,c,t);case X:d=8,o|=24;break;case $:return e=Rt(12,i,t,o|2),e.elementType=$,e.lanes=c,e;case oe:return e=Rt(13,i,t,o),e.elementType=oe,e.lanes=c,e;case St:return e=Rt(19,i,t,o),e.elementType=St,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xe:case ue:d=10;break e;case Le:d=9;break e;case ut:d=11;break e;case Et:d=14;break e;case Ct:d=16,r=null;break e}d=29,i=Error(a(130,e===null?"null":typeof e,"")),r=null}return t=Rt(d,i,t,o),t.elementType=e,t.type=r,t.lanes=c,t}function Oi(e,t,i,r){return e=Rt(7,e,r,t),e.lanes=i,e}function Eo(e,t,i){return e=Rt(6,e,null,t),e.lanes=i,e}function Co(e,t,i){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pl=[],yl=0,tr=null,nr=0,Vt=[],jt=0,Mi=null,bn=1,Sn="";function xi(e,t){pl[yl++]=nr,pl[yl++]=tr,tr=e,nr=t}function qd(e,t,i){Vt[jt++]=bn,Vt[jt++]=Sn,Vt[jt++]=Mi,Mi=e;var r=bn;e=Sn;var o=32-wt(r)-1;r&=~(1<<o),i+=1;var c=32-wt(t)+o;if(30<c){var d=o-o%5;c=(r&(1<<d)-1).toString(32),r>>=d,o-=d,bn=1<<32-wt(t)+o|i<<o|r,Sn=c+e}else bn=1<<c|i<<o|r,Sn=e}function To(e){e.return!==null&&(xi(e,1),qd(e,1,0))}function Ao(e){for(;e===tr;)tr=pl[--yl],pl[yl]=null,nr=pl[--yl],pl[yl]=null;for(;e===Mi;)Mi=Vt[--jt],Vt[jt]=null,Sn=Vt[--jt],Vt[jt]=null,bn=Vt[--jt],Vt[jt]=null}var ot=null,ze=null,de=!1,zi=null,un=!1,wo=Error(a(519));function Ui(e){var t=Error(a(418,""));throw vs(Yt(t,e)),wo}function Yd(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[lt]=e,t[ft]=r,i){case"dialog":ae("cancel",t),ae("close",t);break;case"iframe":case"object":case"embed":ae("load",t);break;case"video":case"audio":for(i=0;i<Vs.length;i++)ae(Vs[i],t);break;case"source":ae("error",t);break;case"img":case"image":case"link":ae("error",t),ae("load",t);break;case"details":ae("toggle",t);break;case"input":ae("invalid",t),nd(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Ga(t);break;case"select":ae("invalid",t);break;case"textarea":ae("invalid",t),ld(t,r.value,r.defaultValue,r.children),Ga(t)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||lg(t.textContent,i)?(r.popover!=null&&(ae("beforetoggle",t),ae("toggle",t)),r.onScroll!=null&&ae("scroll",t),r.onScrollEnd!=null&&ae("scrollend",t),r.onClick!=null&&(t.onclick=Br),t=!0):t=!1,t||Ui(e)}function Gd(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 13:un=!1;return;case 27:case 3:un=!0;return;default:ot=ot.return}}function ps(e){if(e!==ot)return!1;if(!de)return Gd(e),de=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Gc(e.type,e.memoizedProps)),i=!i),i&&ze&&Ui(e),Gd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){ze=en(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}ze=null}}else t===27?(t=ze,ii(e.type)?(e=Xc,Xc=null,ze=e):ze=t):ze=ot?en(e.stateNode.nextSibling):null;return!0}function ys(){ze=ot=null,de=!1}function Vd(){var e=zi;return e!==null&&(mt===null?mt=e:mt.push.apply(mt,e),zi=null),e}function vs(e){zi===null?zi=[e]:zi.push(e)}var No=U(null),Li=null,En=null;function Gn(e,t,i){I(No,t._currentValue),t._currentValue=i}function Cn(e){e._currentValue=No.current,k(No)}function Ro(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function Do(e,t,i,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var d=o.child;c=c.firstContext;e:for(;c!==null;){var p=c;c=o;for(var v=0;v<t.length;v++)if(p.context===t[v]){c.lanes|=i,p=c.alternate,p!==null&&(p.lanes|=i),Ro(c.return,i,e),r||(d=null);break e}c=p.next}}else if(o.tag===18){if(d=o.return,d===null)throw Error(a(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),Ro(d,i,e),d=null}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===e){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}}function bs(e,t,i,r){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var d=o.alternate;if(d===null)throw Error(a(387));if(d=d.memoizedProps,d!==null){var p=o.type;Nt(o.pendingProps.value,d.value)||(e!==null?e.push(p):e=[p])}}else if(o===Tt.current){if(d=o.alternate,d===null)throw Error(a(387));d.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Fs):e=[Fs])}o=o.return}e!==null&&Do(t,e,i,r),t.flags|=262144}function ir(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bi(e){Li=e,En=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return jd(Li,e)}function lr(e,t){return Li===null&&Bi(e),jd(e,t)}function jd(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},En===null){if(e===null)throw Error(a(308));En=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else En=En.next=t;return i}var B0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},I0=s.unstable_scheduleCallback,H0=s.unstable_NormalPriority,qe={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oo(){return{controller:new B0,data:new Map,refCount:0}}function Ss(e){e.refCount--,e.refCount===0&&I0(H0,function(){e.controller.abort()})}var Es=null,Mo=0,vl=0,bl=null;function k0(e,t){if(Es===null){var i=Es=[];Mo=0,vl=zc(),bl={status:"pending",value:void 0,then:function(r){i.push(r)}}}return Mo++,t.then(Qd,Qd),t}function Qd(){if(--Mo===0&&Es!==null){bl!==null&&(bl.status="fulfilled");var e=Es;Es=null,vl=0,bl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function q0(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),r}var Xd=O.S;O.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&k0(e,t),Xd!==null&&Xd(e,t)};var Ii=U(null);function xo(){var e=Ii.current;return e!==null?e:Te.pooledCache}function sr(e,t){t===null?I(Ii,Ii.current):I(Ii,t.pool)}function Pd(){var e=xo();return e===null?null:{parent:qe._currentValue,pool:e}}var Cs=Error(a(460)),Kd=Error(a(474)),ar=Error(a(542)),zo={then:function(){}};function Fd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rr(){}function Zd(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(rr,rr),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jd(e),e;default:if(typeof t.status=="string")t.then(rr,rr);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jd(e),e}throw Ts=t,Cs}}var Ts=null;function Wd(){if(Ts===null)throw Error(a(459));var e=Ts;return Ts=null,e}function Jd(e){if(e===Cs||e===ar)throw Error(a(483))}var Vn=!1;function Uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(me&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=$a(e),Hd(e,null,i),t}return Ja(e,r,t,i),$a(e)}function As(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Qh(e,i)}}function Bo(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?o=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?o=c=t:c=c.next=t}else o=c=t;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Io=!1;function ws(){if(Io){var e=bl;if(e!==null)throw e}}function Ns(e,t,i,r){Io=!1;var o=e.updateQueue;Vn=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,p=o.shared.pending;if(p!==null){o.shared.pending=null;var v=p,w=v.next;v.next=null,d===null?c=w:d.next=w,d=v;var D=e.alternate;D!==null&&(D=D.updateQueue,p=D.lastBaseUpdate,p!==d&&(p===null?D.firstBaseUpdate=w:p.next=w,D.lastBaseUpdate=v))}if(c!==null){var x=o.baseState;d=0,D=w=v=null,p=c;do{var N=p.lane&-536870913,R=N!==p.lane;if(R?(re&N)===N:(r&N)===N){N!==0&&N===vl&&(Io=!0),D!==null&&(D=D.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var F=e,V=p;N=t;var ve=i;switch(V.tag){case 1:if(F=V.payload,typeof F=="function"){x=F.call(ve,x,N);break e}x=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=V.payload,N=typeof F=="function"?F.call(ve,x,N):F,N==null)break e;x=y({},x,N);break e;case 2:Vn=!0}}N=p.callback,N!==null&&(e.flags|=64,R&&(e.flags|=8192),R=o.callbacks,R===null?o.callbacks=[N]:R.push(N))}else R={lane:N,tag:p.tag,payload:p.payload,callback:p.callback,next:null},D===null?(w=D=R,v=x):D=D.next=R,d|=N;if(p=p.next,p===null){if(p=o.shared.pending,p===null)break;R=p,p=R.next,R.next=null,o.lastBaseUpdate=R,o.shared.pending=null}}while(!0);D===null&&(v=x),o.baseState=v,o.firstBaseUpdate=w,o.lastBaseUpdate=D,c===null&&(o.shared.lanes=0),$n|=d,e.lanes=d,e.memoizedState=x}}function $d(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function e_(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)$d(i[e],t)}var Sl=U(null),ur=U(0);function t_(e,t){e=On,I(ur,e),I(Sl,t),On=e|t.baseLanes}function Ho(){I(ur,On),I(Sl,Sl.current)}function ko(){On=ur.current,k(Sl),k(ur)}var Xn=0,ee=null,pe=null,He=null,or=!1,El=!1,Hi=!1,cr=0,Rs=0,Cl=null,Y0=0;function Be(){throw Error(a(321))}function qo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Nt(e[i],t[i]))return!1;return!0}function Yo(e,t,i,r,o,c){return Xn=c,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?H_:k_,Hi=!1,c=i(r,o),Hi=!1,El&&(c=i_(t,i,r,o)),n_(e),c}function n_(e){O.H=gr;var t=pe!==null&&pe.next!==null;if(Xn=0,He=pe=ee=null,or=!1,Rs=0,Cl=null,t)throw Error(a(300));e===null||je||(e=e.dependencies,e!==null&&ir(e)&&(je=!0))}function i_(e,t,i,r){ee=e;var o=0;do{if(El&&(Cl=null),Rs=0,El=!1,25<=o)throw Error(a(301));if(o+=1,He=pe=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}O.H=K0,c=t(i,r)}while(El);return c}function G0(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Ds(t):t,e=e.useState()[0],(pe!==null?pe.memoizedState:null)!==e&&(ee.flags|=1024),t}function Go(){var e=cr!==0;return cr=0,e}function Vo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function jo(e){if(or){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}or=!1}Xn=0,He=pe=ee=null,El=!1,Rs=cr=0,Cl=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?ee.memoizedState=He=e:He=He.next=e,He}function ke(){if(pe===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=He===null?ee.memoizedState:He.next;if(t!==null)He=t,pe=e;else{if(e===null)throw ee.alternate===null?Error(a(467)):Error(a(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},He===null?ee.memoizedState=He=e:He=He.next=e}return He}function Qo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ds(e){var t=Rs;return Rs+=1,Cl===null&&(Cl=[]),e=Zd(Cl,e,t),t=ee,(He===null?t.memoizedState:He.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?H_:k_),e}function fr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ds(e);if(e.$$typeof===ue)return st(e)}throw Error(a(438,String(e)))}function Xo(e){var t=null,i=ee.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=ee.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Qo(),ee.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=el;return t.index++,i}function Tn(e,t){return typeof t=="function"?t(e):t}function hr(e){var t=ke();return Po(t,pe,e)}function Po(e,t,i){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=i;var o=e.baseQueue,c=r.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}t.baseQueue=o=c,r.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var p=d=null,v=null,w=t,D=!1;do{var x=w.lane&-536870913;if(x!==w.lane?(re&x)===x:(Xn&x)===x){var N=w.revertLane;if(N===0)v!==null&&(v=v.next={lane:0,revertLane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),x===vl&&(D=!0);else if((Xn&N)===N){w=w.next,N===vl&&(D=!0);continue}else x={lane:0,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},v===null?(p=v=x,d=c):v=v.next=x,ee.lanes|=N,$n|=N;x=w.action,Hi&&i(c,x),c=w.hasEagerState?w.eagerState:i(c,x)}else N={lane:x,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},v===null?(p=v=N,d=c):v=v.next=N,ee.lanes|=x,$n|=x;w=w.next}while(w!==null&&w!==t);if(v===null?d=c:v.next=p,!Nt(c,e.memoizedState)&&(je=!0,D&&(i=bl,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=v,r.lastRenderedState=c}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ko(e){var t=ke(),i=t.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var r=i.dispatch,o=i.pending,c=t.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do c=e(c,d.action),d=d.next;while(d!==o);Nt(c,t.memoizedState)||(je=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,r]}function l_(e,t,i){var r=ee,o=ke(),c=de;if(c){if(i===void 0)throw Error(a(407));i=i()}else i=t();var d=!Nt((pe||o).memoizedState,i);d&&(o.memoizedState=i,je=!0),o=o.queue;var p=r_.bind(null,r,o,e);if(Os(2048,8,p,[e]),o.getSnapshot!==t||d||He!==null&&He.memoizedState.tag&1){if(r.flags|=2048,Tl(9,dr(),a_.bind(null,r,o,i,t),null),Te===null)throw Error(a(349));c||(Xn&124)!==0||s_(r,t,i)}return i}function s_(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ee.updateQueue,t===null?(t=Qo(),ee.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function a_(e,t,i,r){t.value=i,t.getSnapshot=r,u_(t)&&o_(e)}function r_(e,t,i){return i(function(){u_(t)&&o_(e)})}function u_(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Nt(e,i)}catch{return!0}}function o_(e){var t=ml(e,2);t!==null&&zt(t,e,2)}function Fo(e){var t=dt();if(typeof e=="function"){var i=e;if(e=i(),Hi){kn(!0);try{i()}finally{kn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:e},t}function c_(e,t,i,r){return e.baseState=i,Po(e,pe,typeof r=="function"?r:Tn)}function V0(e,t,i,r,o){if(mr(e))throw Error(a(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};O.T!==null?i(!0):c.isTransition=!1,r(c),i=t.pending,i===null?(c.next=t.pending=c,f_(t,c)):(c.next=i.next,t.pending=i.next=c)}}function f_(e,t){var i=t.action,r=t.payload,o=e.state;if(t.isTransition){var c=O.T,d={};O.T=d;try{var p=i(o,r),v=O.S;v!==null&&v(d,p),h_(e,t,p)}catch(w){Zo(e,t,w)}finally{O.T=c}}else try{c=i(o,r),h_(e,t,c)}catch(w){Zo(e,t,w)}}function h_(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){d_(e,t,r)},function(r){return Zo(e,t,r)}):d_(e,t,i)}function d_(e,t,i){t.status="fulfilled",t.value=i,__(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,f_(e,i)))}function Zo(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,__(t),t=t.next;while(t!==r)}e.action=null}function __(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function m_(e,t){return t}function g_(e,t){if(de){var i=Te.formState;if(i!==null){e:{var r=ee;if(de){if(ze){t:{for(var o=ze,c=un;o.nodeType!==8;){if(!c){o=null;break t}if(o=en(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){ze=en(o.nextSibling),r=o.data==="F!";break e}}Ui(r)}r=!1}r&&(t=i[0])}}return i=dt(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m_,lastRenderedState:t},i.queue=r,i=L_.bind(null,ee,r),r.dispatch=i,r=Fo(!1),c=tc.bind(null,ee,!1,r.queue),r=dt(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,i=V0.bind(null,ee,o,c,i),o.dispatch=i,r.memoizedState=e,[t,i,!1]}function p_(e){var t=ke();return y_(t,pe,e)}function y_(e,t,i){if(t=Po(e,t,m_)[0],e=hr(Tn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Ds(t)}catch(d){throw d===Cs?ar:d}else r=t;t=ke();var o=t.queue,c=o.dispatch;return i!==t.memoizedState&&(ee.flags|=2048,Tl(9,dr(),j0.bind(null,o,i),null)),[r,c,e]}function j0(e,t){e.action=t}function v_(e){var t=ke(),i=pe;if(i!==null)return y_(t,i,e);ke(),t=t.memoizedState,i=ke();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function Tl(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=ee.updateQueue,t===null&&(t=Qo(),ee.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function dr(){return{destroy:void 0,resource:void 0}}function b_(){return ke().memoizedState}function _r(e,t,i,r){var o=dt();r=r===void 0?null:r,ee.flags|=e,o.memoizedState=Tl(1|t,dr(),i,r)}function Os(e,t,i,r){var o=ke();r=r===void 0?null:r;var c=o.memoizedState.inst;pe!==null&&r!==null&&qo(r,pe.memoizedState.deps)?o.memoizedState=Tl(t,c,i,r):(ee.flags|=e,o.memoizedState=Tl(1|t,c,i,r))}function S_(e,t){_r(8390656,8,e,t)}function E_(e,t){Os(2048,8,e,t)}function C_(e,t){return Os(4,2,e,t)}function T_(e,t){return Os(4,4,e,t)}function A_(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function w_(e,t,i){i=i!=null?i.concat([e]):null,Os(4,4,A_.bind(null,t,e),i)}function Wo(){}function N_(e,t){var i=ke();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&qo(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function R_(e,t){var i=ke();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&qo(t,r[1]))return r[0];if(r=e(),Hi){kn(!0);try{e()}finally{kn(!1)}}return i.memoizedState=[r,t],r}function Jo(e,t,i){return i===void 0||(Xn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=Mm(),ee.lanes|=e,$n|=e,i)}function D_(e,t,i,r){return Nt(i,t)?i:Sl.current!==null?(e=Jo(e,i,r),Nt(e,t)||(je=!0),e):(Xn&42)===0?(je=!0,e.memoizedState=i):(e=Mm(),ee.lanes|=e,$n|=e,t)}function O_(e,t,i,r,o){var c=H.p;H.p=c!==0&&8>c?c:8;var d=O.T,p={};O.T=p,tc(e,!1,t,i);try{var v=o(),w=O.S;if(w!==null&&w(p,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var D=q0(v,r);Ms(e,t,D,xt(e))}else Ms(e,t,r,xt(e))}catch(x){Ms(e,t,{then:function(){},status:"rejected",reason:x},xt())}finally{H.p=c,O.T=d}}function Q0(){}function $o(e,t,i,r){if(e.tag!==5)throw Error(a(476));var o=M_(e).queue;O_(e,o,t,P,i===null?Q0:function(){return x_(e),i(r)})}function M_(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:P},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function x_(e){var t=M_(e).next.queue;Ms(e,t,{},xt())}function ec(){return st(Fs)}function z_(){return ke().memoizedState}function U_(){return ke().memoizedState}function X0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=xt();e=jn(i);var r=Qn(t,e,i);r!==null&&(zt(r,t,i),As(r,t,i)),t={cache:Oo()},e.payload=t;return}t=t.return}}function P0(e,t,i){var r=xt();i={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},mr(e)?B_(t,i):(i=bo(e,t,i,r),i!==null&&(zt(i,e,r),I_(i,t,r)))}function L_(e,t,i){var r=xt();Ms(e,t,i,r)}function Ms(e,t,i,r){var o={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(mr(e))B_(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,p=c(d,i);if(o.hasEagerState=!0,o.eagerState=p,Nt(p,d))return Ja(e,t,o,0),Te===null&&Wa(),!1}catch{}finally{}if(i=bo(e,t,o,r),i!==null)return zt(i,e,r),I_(i,t,r),!0}return!1}function tc(e,t,i,r){if(r={lane:2,revertLane:zc(),action:r,hasEagerState:!1,eagerState:null,next:null},mr(e)){if(t)throw Error(a(479))}else t=bo(e,i,r,2),t!==null&&zt(t,e,2)}function mr(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function B_(e,t){El=or=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function I_(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Qh(e,i)}}var gr={readContext:st,use:fr,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be},H_={readContext:st,use:fr,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:S_,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,_r(4194308,4,A_.bind(null,t,e),i)},useLayoutEffect:function(e,t){return _r(4194308,4,e,t)},useInsertionEffect:function(e,t){_r(4,2,e,t)},useMemo:function(e,t){var i=dt();t=t===void 0?null:t;var r=e();if(Hi){kn(!0);try{e()}finally{kn(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=dt();if(i!==void 0){var o=i(t);if(Hi){kn(!0);try{i(t)}finally{kn(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=P0.bind(null,ee,e),[r.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Fo(e);var t=e.queue,i=L_.bind(null,ee,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Wo,useDeferredValue:function(e,t){var i=dt();return Jo(i,e,t)},useTransition:function(){var e=Fo(!1);return e=O_.bind(null,ee,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=ee,o=dt();if(de){if(i===void 0)throw Error(a(407));i=i()}else{if(i=t(),Te===null)throw Error(a(349));(re&124)!==0||s_(r,t,i)}o.memoizedState=i;var c={value:i,getSnapshot:t};return o.queue=c,S_(r_.bind(null,r,c,e),[e]),r.flags|=2048,Tl(9,dr(),a_.bind(null,r,c,i,t),null),i},useId:function(){var e=dt(),t=Te.identifierPrefix;if(de){var i=Sn,r=bn;i=(r&~(1<<32-wt(r)-1)).toString(32)+i,t="«"+t+"R"+i,i=cr++,0<i&&(t+="H"+i.toString(32)),t+="»"}else i=Y0++,t="«"+t+"r"+i.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:ec,useFormState:g_,useActionState:g_,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=tc.bind(null,ee,!0,i),i.dispatch=t,[e,t]},useMemoCache:Xo,useCacheRefresh:function(){return dt().memoizedState=X0.bind(null,ee)}},k_={readContext:st,use:fr,useCallback:N_,useContext:st,useEffect:E_,useImperativeHandle:w_,useInsertionEffect:C_,useLayoutEffect:T_,useMemo:R_,useReducer:hr,useRef:b_,useState:function(){return hr(Tn)},useDebugValue:Wo,useDeferredValue:function(e,t){var i=ke();return D_(i,pe.memoizedState,e,t)},useTransition:function(){var e=hr(Tn)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:Ds(e),t]},useSyncExternalStore:l_,useId:z_,useHostTransitionStatus:ec,useFormState:p_,useActionState:p_,useOptimistic:function(e,t){var i=ke();return c_(i,pe,e,t)},useMemoCache:Xo,useCacheRefresh:U_},K0={readContext:st,use:fr,useCallback:N_,useContext:st,useEffect:E_,useImperativeHandle:w_,useInsertionEffect:C_,useLayoutEffect:T_,useMemo:R_,useReducer:Ko,useRef:b_,useState:function(){return Ko(Tn)},useDebugValue:Wo,useDeferredValue:function(e,t){var i=ke();return pe===null?Jo(i,e,t):D_(i,pe.memoizedState,e,t)},useTransition:function(){var e=Ko(Tn)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:Ds(e),t]},useSyncExternalStore:l_,useId:z_,useHostTransitionStatus:ec,useFormState:v_,useActionState:v_,useOptimistic:function(e,t){var i=ke();return pe!==null?c_(i,pe,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Xo,useCacheRefresh:U_},Al=null,xs=0;function pr(e){var t=xs;return xs+=1,Al===null&&(Al=[]),Zd(Al,e,t)}function zs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function yr(e,t){throw t.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function q_(e){var t=e._init;return t(e._payload)}function Y_(e){function t(T,C){if(e){var A=T.deletions;A===null?(T.deletions=[C],T.flags|=16):A.push(C)}}function i(T,C){if(!e)return null;for(;C!==null;)t(T,C),C=C.sibling;return null}function r(T){for(var C=new Map;T!==null;)T.key!==null?C.set(T.key,T):C.set(T.index,T),T=T.sibling;return C}function o(T,C){return T=vn(T,C),T.index=0,T.sibling=null,T}function c(T,C,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<C?(T.flags|=67108866,C):A):(T.flags|=67108866,C)):(T.flags|=1048576,C)}function d(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function p(T,C,A,M){return C===null||C.tag!==6?(C=Eo(A,T.mode,M),C.return=T,C):(C=o(C,A),C.return=T,C)}function v(T,C,A,M){var q=A.type;return q===B?D(T,C,A.props.children,M,A.key):C!==null&&(C.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ct&&q_(q)===C.type)?(C=o(C,A.props),zs(C,A),C.return=T,C):(C=er(A.type,A.key,A.props,null,T.mode,M),zs(C,A),C.return=T,C)}function w(T,C,A,M){return C===null||C.tag!==4||C.stateNode.containerInfo!==A.containerInfo||C.stateNode.implementation!==A.implementation?(C=Co(A,T.mode,M),C.return=T,C):(C=o(C,A.children||[]),C.return=T,C)}function D(T,C,A,M,q){return C===null||C.tag!==7?(C=Oi(A,T.mode,M,q),C.return=T,C):(C=o(C,A),C.return=T,C)}function x(T,C,A){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Eo(""+C,T.mode,A),C.return=T,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case S:return A=er(C.type,C.key,C.props,null,T.mode,A),zs(A,C),A.return=T,A;case z:return C=Co(C,T.mode,A),C.return=T,C;case Ct:var M=C._init;return C=M(C._payload),x(T,C,A)}if(it(C)||nt(C))return C=Oi(C,T.mode,A,null),C.return=T,C;if(typeof C.then=="function")return x(T,pr(C),A);if(C.$$typeof===ue)return x(T,lr(T,C),A);yr(T,C)}return null}function N(T,C,A,M){var q=C!==null?C.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return q!==null?null:p(T,C,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case S:return A.key===q?v(T,C,A,M):null;case z:return A.key===q?w(T,C,A,M):null;case Ct:return q=A._init,A=q(A._payload),N(T,C,A,M)}if(it(A)||nt(A))return q!==null?null:D(T,C,A,M,null);if(typeof A.then=="function")return N(T,C,pr(A),M);if(A.$$typeof===ue)return N(T,C,lr(T,A),M);yr(T,A)}return null}function R(T,C,A,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return T=T.get(A)||null,p(C,T,""+M,q);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return T=T.get(M.key===null?A:M.key)||null,v(C,T,M,q);case z:return T=T.get(M.key===null?A:M.key)||null,w(C,T,M,q);case Ct:var ie=M._init;return M=ie(M._payload),R(T,C,A,M,q)}if(it(M)||nt(M))return T=T.get(A)||null,D(C,T,M,q,null);if(typeof M.then=="function")return R(T,C,A,pr(M),q);if(M.$$typeof===ue)return R(T,C,A,lr(C,M),q);yr(C,M)}return null}function F(T,C,A,M){for(var q=null,ie=null,Y=C,j=C=0,Xe=null;Y!==null&&j<A.length;j++){Y.index>j?(Xe=Y,Y=null):Xe=Y.sibling;var fe=N(T,Y,A[j],M);if(fe===null){Y===null&&(Y=Xe);break}e&&Y&&fe.alternate===null&&t(T,Y),C=c(fe,C,j),ie===null?q=fe:ie.sibling=fe,ie=fe,Y=Xe}if(j===A.length)return i(T,Y),de&&xi(T,j),q;if(Y===null){for(;j<A.length;j++)Y=x(T,A[j],M),Y!==null&&(C=c(Y,C,j),ie===null?q=Y:ie.sibling=Y,ie=Y);return de&&xi(T,j),q}for(Y=r(Y);j<A.length;j++)Xe=R(Y,T,j,A[j],M),Xe!==null&&(e&&Xe.alternate!==null&&Y.delete(Xe.key===null?j:Xe.key),C=c(Xe,C,j),ie===null?q=Xe:ie.sibling=Xe,ie=Xe);return e&&Y.forEach(function(ui){return t(T,ui)}),de&&xi(T,j),q}function V(T,C,A,M){if(A==null)throw Error(a(151));for(var q=null,ie=null,Y=C,j=C=0,Xe=null,fe=A.next();Y!==null&&!fe.done;j++,fe=A.next()){Y.index>j?(Xe=Y,Y=null):Xe=Y.sibling;var ui=N(T,Y,fe.value,M);if(ui===null){Y===null&&(Y=Xe);break}e&&Y&&ui.alternate===null&&t(T,Y),C=c(ui,C,j),ie===null?q=ui:ie.sibling=ui,ie=ui,Y=Xe}if(fe.done)return i(T,Y),de&&xi(T,j),q;if(Y===null){for(;!fe.done;j++,fe=A.next())fe=x(T,fe.value,M),fe!==null&&(C=c(fe,C,j),ie===null?q=fe:ie.sibling=fe,ie=fe);return de&&xi(T,j),q}for(Y=r(Y);!fe.done;j++,fe=A.next())fe=R(Y,T,j,fe.value,M),fe!==null&&(e&&fe.alternate!==null&&Y.delete(fe.key===null?j:fe.key),C=c(fe,C,j),ie===null?q=fe:ie.sibling=fe,ie=fe);return e&&Y.forEach(function(F1){return t(T,F1)}),de&&xi(T,j),q}function ve(T,C,A,M){if(typeof A=="object"&&A!==null&&A.type===B&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case S:e:{for(var q=A.key;C!==null;){if(C.key===q){if(q=A.type,q===B){if(C.tag===7){i(T,C.sibling),M=o(C,A.props.children),M.return=T,T=M;break e}}else if(C.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ct&&q_(q)===C.type){i(T,C.sibling),M=o(C,A.props),zs(M,A),M.return=T,T=M;break e}i(T,C);break}else t(T,C);C=C.sibling}A.type===B?(M=Oi(A.props.children,T.mode,M,A.key),M.return=T,T=M):(M=er(A.type,A.key,A.props,null,T.mode,M),zs(M,A),M.return=T,T=M)}return d(T);case z:e:{for(q=A.key;C!==null;){if(C.key===q)if(C.tag===4&&C.stateNode.containerInfo===A.containerInfo&&C.stateNode.implementation===A.implementation){i(T,C.sibling),M=o(C,A.children||[]),M.return=T,T=M;break e}else{i(T,C);break}else t(T,C);C=C.sibling}M=Co(A,T.mode,M),M.return=T,T=M}return d(T);case Ct:return q=A._init,A=q(A._payload),ve(T,C,A,M)}if(it(A))return F(T,C,A,M);if(nt(A)){if(q=nt(A),typeof q!="function")throw Error(a(150));return A=q.call(A),V(T,C,A,M)}if(typeof A.then=="function")return ve(T,C,pr(A),M);if(A.$$typeof===ue)return ve(T,C,lr(T,A),M);yr(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,C!==null&&C.tag===6?(i(T,C.sibling),M=o(C,A),M.return=T,T=M):(i(T,C),M=Eo(A,T.mode,M),M.return=T,T=M),d(T)):i(T,C)}return function(T,C,A,M){try{xs=0;var q=ve(T,C,A,M);return Al=null,q}catch(Y){if(Y===Cs||Y===ar)throw Y;var ie=Rt(29,Y,null,T.mode);return ie.lanes=M,ie.return=T,ie}finally{}}}var wl=Y_(!0),G_=Y_(!1),Qt=U(null),on=null;function Pn(e){var t=e.alternate;I(Ye,Ye.current&1),I(Qt,e),on===null&&(t===null||Sl.current!==null||t.memoizedState!==null)&&(on=e)}function V_(e){if(e.tag===22){if(I(Ye,Ye.current),I(Qt,e),on===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(on=e)}}else Kn()}function Kn(){I(Ye,Ye.current),I(Qt,Qt.current)}function An(e){k(Qt),on===e&&(on=null),k(Ye)}var Ye=U(0);function vr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Qc(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function nc(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:y({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ic={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=xt(),o=jn(r);o.payload=t,i!=null&&(o.callback=i),t=Qn(e,o,r),t!==null&&(zt(t,e,r),As(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=xt(),o=jn(r);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Qn(e,o,r),t!==null&&(zt(t,e,r),As(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=xt(),r=jn(i);r.tag=2,t!=null&&(r.callback=t),t=Qn(e,r,i),t!==null&&(zt(t,e,i),As(t,e,i))}};function j_(e,t,i,r,o,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,c,d):t.prototype&&t.prototype.isPureReactComponent?!ms(i,r)||!ms(o,c):!0}function Q_(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&ic.enqueueReplaceState(t,t.state,null)}function ki(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=y({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}var br=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function X_(e){br(e)}function P_(e){console.error(e)}function K_(e){br(e)}function Sr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function F_(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function lc(e,t,i){return i=jn(i),i.tag=3,i.payload={element:null},i.callback=function(){Sr(e,t)},i}function Z_(e){return e=jn(e),e.tag=3,e}function W_(e,t,i,r){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var c=r.value;e.payload=function(){return o(c)},e.callback=function(){F_(t,i,r)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){F_(t,i,r),typeof o!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var p=r.stack;this.componentDidCatch(r.value,{componentStack:p!==null?p:""})})}function F0(e,t,i,r,o){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&bs(t,i,o,!0),i=Qt.current,i!==null){switch(i.tag){case 13:return on===null?Rc():i.alternate===null&&Ue===0&&(Ue=3),i.flags&=-257,i.flags|=65536,i.lanes=o,r===zo?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),Oc(e,r,o)),!1;case 22:return i.flags|=65536,r===zo?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),Oc(e,r,o)),!1}throw Error(a(435,i.tag))}return Oc(e,r,o),Rc(),!1}if(de)return t=Qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==wo&&(e=Error(a(422),{cause:r}),vs(Yt(e,i)))):(r!==wo&&(t=Error(a(423),{cause:r}),vs(Yt(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Yt(r,i),o=lc(e.stateNode,r,o),Bo(e,o),Ue!==4&&(Ue=2)),!1;var c=Error(a(520),{cause:r});if(c=Yt(c,i),qs===null?qs=[c]:qs.push(c),Ue!==4&&(Ue=2),t===null)return!0;r=Yt(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=lc(i.stateNode,r,e),Bo(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ei===null||!ei.has(c))))return i.flags|=65536,o&=-o,i.lanes|=o,o=Z_(o),W_(o,e,i,r),Bo(i,o),!1}i=i.return}while(i!==null);return!1}var J_=Error(a(461)),je=!1;function Je(e,t,i,r){t.child=e===null?G_(t,null,i,r):wl(t,e.child,i,r)}function $_(e,t,i,r,o){i=i.render;var c=t.ref;if("ref"in r){var d={};for(var p in r)p!=="ref"&&(d[p]=r[p])}else d=r;return Bi(t),r=Yo(e,t,i,d,c,o),p=Go(),e!==null&&!je?(Vo(e,t,o),wn(e,t,o)):(de&&p&&To(t),t.flags|=1,Je(e,t,r,o),t.child)}function em(e,t,i,r,o){if(e===null){var c=i.type;return typeof c=="function"&&!So(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,tm(e,t,c,r,o)):(e=er(i.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!hc(e,o)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:ms,i(d,r)&&e.ref===t.ref)return wn(e,t,o)}return t.flags|=1,e=vn(c,r),e.ref=t.ref,e.return=t,t.child=e}function tm(e,t,i,r,o){if(e!==null){var c=e.memoizedProps;if(ms(c,r)&&e.ref===t.ref)if(je=!1,t.pendingProps=r=c,hc(e,o))(e.flags&131072)!==0&&(je=!0);else return t.lanes=e.lanes,wn(e,t,o)}return sc(e,t,i,r,o)}function nm(e,t,i){var r=t.pendingProps,o=r.children,c=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((t.flags&128)!==0){if(r=c!==null?c.baseLanes|i:i,e!==null){for(o=t.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;t.childLanes=c&~r}else t.childLanes=0,t.child=null;return im(e,t,r,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&sr(t,c!==null?c.cachePool:null),c!==null?t_(t,c):Ho(),V_(t);else return t.lanes=t.childLanes=536870912,im(e,t,c!==null?c.baseLanes|i:i,i)}else c!==null?(sr(t,c.cachePool),t_(t,c),Kn(),t.memoizedState=null):(e!==null&&sr(t,null),Ho(),Kn());return Je(e,t,o,i),t.child}function im(e,t,i,r){var o=xo();return o=o===null?null:{parent:qe._currentValue,pool:o},t.memoizedState={baseLanes:i,cachePool:o},e!==null&&sr(t,null),Ho(),V_(t),e!==null&&bs(e,t,r,!0),null}function Er(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function sc(e,t,i,r,o){return Bi(t),i=Yo(e,t,i,r,void 0,o),r=Go(),e!==null&&!je?(Vo(e,t,o),wn(e,t,o)):(de&&r&&To(t),t.flags|=1,Je(e,t,i,o),t.child)}function lm(e,t,i,r,o,c){return Bi(t),t.updateQueue=null,i=i_(t,r,i,o),n_(e),r=Go(),e!==null&&!je?(Vo(e,t,c),wn(e,t,c)):(de&&r&&To(t),t.flags|=1,Je(e,t,i,c),t.child)}function sm(e,t,i,r,o){if(Bi(t),t.stateNode===null){var c=gl,d=i.contextType;typeof d=="object"&&d!==null&&(c=st(d)),c=new i(r,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=ic,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=r,c.state=t.memoizedState,c.refs={},Uo(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?st(d):gl,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(nc(t,i,d,r),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&ic.enqueueReplaceState(c,c.state,null),Ns(t,r,c,o),ws(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){c=t.stateNode;var p=t.memoizedProps,v=ki(i,p);c.props=v;var w=c.context,D=i.contextType;d=gl,typeof D=="object"&&D!==null&&(d=st(D));var x=i.getDerivedStateFromProps;D=typeof x=="function"||typeof c.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,D||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p||w!==d)&&Q_(t,c,r,d),Vn=!1;var N=t.memoizedState;c.state=N,Ns(t,r,c,o),ws(),w=t.memoizedState,p||N!==w||Vn?(typeof x=="function"&&(nc(t,i,x,r),w=t.memoizedState),(v=Vn||j_(t,i,v,r,N,w,d))?(D||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=w),c.props=r,c.state=w,c.context=d,r=v):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,Lo(e,t),d=t.memoizedProps,D=ki(i,d),c.props=D,x=t.pendingProps,N=c.context,w=i.contextType,v=gl,typeof w=="object"&&w!==null&&(v=st(w)),p=i.getDerivedStateFromProps,(w=typeof p=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==x||N!==v)&&Q_(t,c,r,v),Vn=!1,N=t.memoizedState,c.state=N,Ns(t,r,c,o),ws();var R=t.memoizedState;d!==x||N!==R||Vn||e!==null&&e.dependencies!==null&&ir(e.dependencies)?(typeof p=="function"&&(nc(t,i,p,r),R=t.memoizedState),(D=Vn||j_(t,i,D,r,N,R,v)||e!==null&&e.dependencies!==null&&ir(e.dependencies))?(w||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,R,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,R,v)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=R),c.props=r,c.state=R,c.context=v,r=D):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),r=!1)}return c=r,Er(e,t),r=(t.flags&128)!==0,c||r?(c=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&r?(t.child=wl(t,e.child,null,o),t.child=wl(t,null,i,o)):Je(e,t,i,o),t.memoizedState=c.state,e=t.child):e=wn(e,t,o),e}function am(e,t,i,r){return ys(),t.flags|=256,Je(e,t,i,r),t.child}var ac={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rc(e){return{baseLanes:e,cachePool:Pd()}}function uc(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Xt),e}function rm(e,t,i){var r=t.pendingProps,o=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),d&&(o=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(de){if(o?Pn(t):Kn(),de){var p=ze,v;if(v=p){e:{for(v=p,p=un;v.nodeType!==8;){if(!p){p=null;break e}if(v=en(v.nextSibling),v===null){p=null;break e}}p=v}p!==null?(t.memoizedState={dehydrated:p,treeContext:Mi!==null?{id:bn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},v=Rt(18,null,null,0),v.stateNode=p,v.return=t,t.child=v,ot=t,ze=null,v=!0):v=!1}v||Ui(t)}if(p=t.memoizedState,p!==null&&(p=p.dehydrated,p!==null))return Qc(p)?t.lanes=32:t.lanes=536870912,null;An(t)}return p=r.children,r=r.fallback,o?(Kn(),o=t.mode,p=Cr({mode:"hidden",children:p},o),r=Oi(r,o,i,null),p.return=t,r.return=t,p.sibling=r,t.child=p,o=t.child,o.memoizedState=rc(i),o.childLanes=uc(e,d,i),t.memoizedState=ac,r):(Pn(t),oc(t,p))}if(v=e.memoizedState,v!==null&&(p=v.dehydrated,p!==null)){if(c)t.flags&256?(Pn(t),t.flags&=-257,t=cc(e,t,i)):t.memoizedState!==null?(Kn(),t.child=e.child,t.flags|=128,t=null):(Kn(),o=r.fallback,p=t.mode,r=Cr({mode:"visible",children:r.children},p),o=Oi(o,p,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,wl(t,e.child,null,i),r=t.child,r.memoizedState=rc(i),r.childLanes=uc(e,d,i),t.memoizedState=ac,t=o);else if(Pn(t),Qc(p)){if(d=p.nextSibling&&p.nextSibling.dataset,d)var w=d.dgst;d=w,r=Error(a(419)),r.stack="",r.digest=d,vs({value:r,source:null,stack:null}),t=cc(e,t,i)}else if(je||bs(e,t,i,!1),d=(i&e.childLanes)!==0,je||d){if(d=Te,d!==null&&(r=i&-i,r=(r&42)!==0?1:Qu(r),r=(r&(d.suspendedLanes|i))!==0?0:r,r!==0&&r!==v.retryLane))throw v.retryLane=r,ml(e,r),zt(d,e,r),J_;p.data==="$?"||Rc(),t=cc(e,t,i)}else p.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=v.treeContext,ze=en(p.nextSibling),ot=t,de=!0,zi=null,un=!1,e!==null&&(Vt[jt++]=bn,Vt[jt++]=Sn,Vt[jt++]=Mi,bn=e.id,Sn=e.overflow,Mi=t),t=oc(t,r.children),t.flags|=4096);return t}return o?(Kn(),o=r.fallback,p=t.mode,v=e.child,w=v.sibling,r=vn(v,{mode:"hidden",children:r.children}),r.subtreeFlags=v.subtreeFlags&65011712,w!==null?o=vn(w,o):(o=Oi(o,p,i,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,p=e.child.memoizedState,p===null?p=rc(i):(v=p.cachePool,v!==null?(w=qe._currentValue,v=v.parent!==w?{parent:w,pool:w}:v):v=Pd(),p={baseLanes:p.baseLanes|i,cachePool:v}),o.memoizedState=p,o.childLanes=uc(e,d,i),t.memoizedState=ac,r):(Pn(t),i=e.child,e=i.sibling,i=vn(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function oc(e,t){return t=Cr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Cr(e,t){return e=Rt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function cc(e,t,i){return wl(t,e.child,null,i),e=oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function um(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ro(e.return,t,i)}function fc(e,t,i,r,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=r,c.tail=i,c.tailMode=o)}function om(e,t,i){var r=t.pendingProps,o=r.revealOrder,c=r.tail;if(Je(e,t,r.children,i),r=Ye.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&um(e,i,t);else if(e.tag===19)um(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(I(Ye,r),o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&vr(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),fc(t,!1,o,i,c);break;case"backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&vr(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}fc(t,!0,i,null,c);break;case"together":fc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),$n|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(bs(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,i=vn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=vn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function hc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ir(e)))}function Z0(e,t,i){switch(t.tag){case 3:Ne(t,t.stateNode.containerInfo),Gn(t,qe,e.memoizedState.cache),ys();break;case 27:case 5:qu(t);break;case 4:Ne(t,t.stateNode.containerInfo);break;case 10:Gn(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Pn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?rm(e,t,i):(Pn(t),e=wn(e,t,i),e!==null?e.sibling:null);Pn(t);break;case 19:var o=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(bs(e,t,i,!1),r=(i&t.childLanes)!==0),o){if(r)return om(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),I(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,nm(e,t,i);case 24:Gn(t,qe,e.memoizedState.cache)}return wn(e,t,i)}function cm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)je=!0;else{if(!hc(e,i)&&(t.flags&128)===0)return je=!1,Z0(e,t,i);je=(e.flags&131072)!==0}else je=!1,de&&(t.flags&1048576)!==0&&qd(t,nr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,typeof r=="function")So(r)?(e=ki(r,e),t.tag=1,t=sm(null,t,r,e,i)):(t.tag=0,t=sc(null,t,r,e,i));else{if(r!=null){if(o=r.$$typeof,o===ut){t.tag=11,t=$_(null,t,r,e,i);break e}else if(o===Et){t.tag=14,t=em(null,t,r,e,i);break e}}throw t=Ti(r)||r,Error(a(306,t,""))}}return t;case 0:return sc(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,o=ki(r,t.pendingProps),sm(e,t,r,o,i);case 3:e:{if(Ne(t,t.stateNode.containerInfo),e===null)throw Error(a(387));r=t.pendingProps;var c=t.memoizedState;o=c.element,Lo(e,t),Ns(t,r,null,i);var d=t.memoizedState;if(r=d.cache,Gn(t,qe,r),r!==c.cache&&Do(t,[qe],i,!0),ws(),r=d.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=am(e,t,r,i);break e}else if(r!==o){o=Yt(Error(a(424)),t),vs(o),t=am(e,t,r,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=en(e.firstChild),ot=t,de=!0,zi=null,un=!0,i=G_(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ys(),r===o){t=wn(e,t,i);break e}Je(e,t,r,i)}t=t.child}return t;case 26:return Er(e,t),e===null?(i=_g(t.type,null,t.pendingProps,null))?t.memoizedState=i:de||(i=t.type,e=t.pendingProps,r=Ir(Z.current).createElement(i),r[lt]=t,r[ft]=e,et(r,i,e),Ve(r),t.stateNode=r):t.memoizedState=_g(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return qu(t),e===null&&de&&(r=t.stateNode=fg(t.type,t.pendingProps,Z.current),ot=t,un=!0,o=ze,ii(t.type)?(Xc=o,ze=en(r.firstChild)):ze=o),Je(e,t,t.pendingProps.children,i),Er(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&de&&((o=r=ze)&&(r=T1(r,t.type,t.pendingProps,un),r!==null?(t.stateNode=r,ot=t,ze=en(r.firstChild),un=!1,o=!0):o=!1),o||Ui(t)),qu(t),o=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,r=c.children,Gc(o,c)?r=null:d!==null&&Gc(o,d)&&(t.flags|=32),t.memoizedState!==null&&(o=Yo(e,t,G0,null,null,i),Fs._currentValue=o),Er(e,t),Je(e,t,r,i),t.child;case 6:return e===null&&de&&((e=i=ze)&&(i=A1(i,t.pendingProps,un),i!==null?(t.stateNode=i,ot=t,ze=null,e=!0):e=!1),e||Ui(t)),null;case 13:return rm(e,t,i);case 4:return Ne(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wl(t,null,r,i):Je(e,t,r,i),t.child;case 11:return $_(e,t,t.type,t.pendingProps,i);case 7:return Je(e,t,t.pendingProps,i),t.child;case 8:return Je(e,t,t.pendingProps.children,i),t.child;case 12:return Je(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,Gn(t,t.type,r.value),Je(e,t,r.children,i),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Bi(t),o=st(o),r=r(o),t.flags|=1,Je(e,t,r,i),t.child;case 14:return em(e,t,t.type,t.pendingProps,i);case 15:return tm(e,t,t.type,t.pendingProps,i);case 19:return om(e,t,i);case 31:return r=t.pendingProps,i=t.mode,r={mode:r.mode,children:r.children},e===null?(i=Cr(r,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=vn(e.child,r),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return nm(e,t,i);case 24:return Bi(t),r=st(qe),e===null?(o=xo(),o===null&&(o=Te,c=Oo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=i),o=c),t.memoizedState={parent:r,cache:o},Uo(t),Gn(t,qe,o)):((e.lanes&i)!==0&&(Lo(e,t),Ns(t,null,null,i),ws()),o=e.memoizedState,c=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Gn(t,qe,r)):(r=c.cache,Gn(t,qe,r),r!==o.cache&&Do(t,[qe],i,!0))),Je(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Nn(e){e.flags|=4}function fm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!vg(t)){if(t=Qt.current,t!==null&&((re&4194048)===re?on!==null:(re&62914560)!==re&&(re&536870912)===0||t!==on))throw Ts=zo,Kd;e.flags|=8192}}function Tr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vh():536870912,e.lanes|=t,Ol|=t)}function Us(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function W0(e,t,i){var r=t.pendingProps;switch(Ao(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Cn(qe),Hn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ps(t)?Nn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Vd())),Oe(t),null;case 26:return i=t.memoizedState,e===null?(Nn(t),i!==null?(Oe(t),fm(t,i)):(Oe(t),t.flags&=-16777217)):i?i!==e.memoizedState?(Nn(t),Oe(t),fm(t,i)):(Oe(t),t.flags&=-16777217):(e.memoizedProps!==r&&Nn(t),Oe(t),t.flags&=-16777217),null;case 27:La(t),i=Z.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Nn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return Oe(t),null}e=G.current,ps(t)?Yd(t):(e=fg(o,r,i),t.stateNode=e,Nn(t))}return Oe(t),null;case 5:if(La(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Nn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return Oe(t),null}if(e=G.current,ps(t))Yd(t);else{switch(o=Ir(Z.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?o.createElement(i,{is:r.is}):o.createElement(i)}}e[lt]=t,e[ft]=r;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(et(e,i,r),i){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Nn(t)}}return Oe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Nn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(e=Z.current,ps(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,o=ot,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[lt]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||lg(e.nodeValue,i)),e||Ui(t)}else e=Ir(e).createTextNode(r),e[lt]=t,t.stateNode=e}return Oe(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ps(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(a(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));o[lt]=t}else ys(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),o=!1}else o=Vd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(An(t),t):(An(t),null)}if(An(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=r!==null,e=e!==null&&e.memoizedState!==null,i){r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool);var c=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),Tr(t,t.updateQueue),Oe(t),null;case 4:return Hn(),e===null&&Ic(t.stateNode.containerInfo),Oe(t),null;case 10:return Cn(t.type),Oe(t),null;case 19:if(k(Ye),o=t.memoizedState,o===null)return Oe(t),null;if(r=(t.flags&128)!==0,c=o.rendering,c===null)if(r)Us(o,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=vr(e),c!==null){for(t.flags|=128,Us(o,!1),e=c.updateQueue,t.updateQueue=e,Tr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)kd(i,e),i=i.sibling;return I(Ye,Ye.current&1|2),t.child}e=e.sibling}o.tail!==null&&rn()>Nr&&(t.flags|=128,r=!0,Us(o,!1),t.lanes=4194304)}else{if(!r)if(e=vr(c),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Tr(t,e),Us(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!de)return Oe(t),null}else 2*rn()-o.renderingStartTime>Nr&&i!==536870912&&(t.flags|=128,r=!0,Us(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(e=o.last,e!==null?e.sibling=c:t.child=c,o.last=c)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=rn(),t.sibling=null,e=Ye.current,I(Ye,r?e&1|2:e&1),t):(Oe(t),null);case 22:case 23:return An(t),ko(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),i=t.updateQueue,i!==null&&Tr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&k(Ii),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Cn(qe),Oe(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function J0(e,t){switch(Ao(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cn(qe),Hn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return La(t),null;case 13:if(An(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return k(Ye),null;case 4:return Hn(),null;case 10:return Cn(t.type),null;case 22:case 23:return An(t),ko(),e!==null&&k(Ii),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Cn(qe),null;case 25:return null;default:return null}}function hm(e,t){switch(Ao(t),t.tag){case 3:Cn(qe),Hn();break;case 26:case 27:case 5:La(t);break;case 4:Hn();break;case 13:An(t);break;case 19:k(Ye);break;case 10:Cn(t.type);break;case 22:case 23:An(t),ko(),e!==null&&k(Ii);break;case 24:Cn(qe)}}function Ls(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var o=r.next;i=o;do{if((i.tag&e)===e){r=void 0;var c=i.create,d=i.inst;r=c(),d.destroy=r}i=i.next}while(i!==o)}}catch(p){Se(t,t.return,p)}}function Fn(e,t,i){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){var d=r.inst,p=d.destroy;if(p!==void 0){d.destroy=void 0,o=t;var v=i,w=p;try{w()}catch(D){Se(o,v,D)}}}r=r.next}while(r!==c)}}catch(D){Se(t,t.return,D)}}function dm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{e_(t,i)}catch(r){Se(e,e.return,r)}}}function _m(e,t,i){i.props=ki(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){Se(e,t,r)}}function Bs(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(o){Se(e,t,o)}}function cn(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(o){Se(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Se(e,t,o)}else i.current=null}function mm(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(o){Se(e,e.return,o)}}function dc(e,t,i){try{var r=e.stateNode;v1(r,e.type,i,t),r[ft]=t}catch(o){Se(e,e.return,o)}}function gm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ii(e.type)||e.tag===4}function _c(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ii(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mc(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Br));else if(r!==4&&(r===27&&ii(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(mc(e,t,i),e=e.sibling;e!==null;)mc(e,t,i),e=e.sibling}function Ar(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&ii(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Ar(e,t,i),e=e.sibling;e!==null;)Ar(e,t,i),e=e.sibling}function pm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);et(t,r,i),t[lt]=e,t[ft]=i}catch(c){Se(e,e.return,c)}}var Rn=!1,Ie=!1,gc=!1,ym=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function $0(e,t){if(e=e.containerInfo,qc=Vr,e=Dd(e),_o(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,p=-1,v=-1,w=0,D=0,x=e,N=null;t:for(;;){for(var R;x!==i||o!==0&&x.nodeType!==3||(p=d+o),x!==c||r!==0&&x.nodeType!==3||(v=d+r),x.nodeType===3&&(d+=x.nodeValue.length),(R=x.firstChild)!==null;)N=x,x=R;for(;;){if(x===e)break t;if(N===i&&++w===o&&(p=d),N===c&&++D===r&&(v=d),(R=x.nextSibling)!==null)break;x=N,N=x.parentNode}x=R}i=p===-1||v===-1?null:{start:p,end:v}}else i=null}i=i||{start:0,end:0}}else i=null;for(Yc={focusedElem:e,selectionRange:i},Vr=!1,Qe=t;Qe!==null;)if(t=Qe,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Qe=e;else for(;Qe!==null;){switch(t=Qe,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,o=c.memoizedProps,c=c.memoizedState,r=i.stateNode;try{var F=ki(i.type,o,i.elementType===i.type);e=r.getSnapshotBeforeUpdate(F,c),r.__reactInternalSnapshotBeforeUpdate=e}catch(V){Se(i,i.return,V)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)jc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,Qe=e;break}Qe=t.return}}function vm(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(e,i),r&4&&Ls(5,i);break;case 1:if(Zn(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){Se(i,i.return,d)}else{var o=ki(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Se(i,i.return,d)}}r&64&&dm(i),r&512&&Bs(i,i.return);break;case 3:if(Zn(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{e_(e,t)}catch(d){Se(i,i.return,d)}}break;case 27:t===null&&r&4&&pm(i);case 26:case 5:Zn(e,i),t===null&&r&4&&mm(i),r&512&&Bs(i,i.return);break;case 12:Zn(e,i);break;case 13:Zn(e,i),r&4&&Em(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=u1.bind(null,i),w1(e,i))));break;case 22:if(r=i.memoizedState!==null||Rn,!r){t=t!==null&&t.memoizedState!==null||Ie,o=Rn;var c=Ie;Rn=r,(Ie=t)&&!c?Wn(e,i,(i.subtreeFlags&8772)!==0):Zn(e,i),Rn=o,Ie=c}break;case 30:break;default:Zn(e,i)}}function bm(e){var t=e.alternate;t!==null&&(e.alternate=null,bm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ku(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Re=null,_t=!1;function Dn(e,t,i){for(i=i.child;i!==null;)Sm(e,t,i),i=i.sibling}function Sm(e,t,i){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(is,i)}catch{}switch(i.tag){case 26:Ie||cn(i,t),Dn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ie||cn(i,t);var r=Re,o=_t;ii(i.type)&&(Re=i.stateNode,_t=!1),Dn(e,t,i),Qs(i.stateNode),Re=r,_t=o;break;case 5:Ie||cn(i,t);case 6:if(r=Re,o=_t,Re=null,Dn(e,t,i),Re=r,_t=o,Re!==null)if(_t)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(i.stateNode)}catch(c){Se(i,t,c)}else try{Re.removeChild(i.stateNode)}catch(c){Se(i,t,c)}break;case 18:Re!==null&&(_t?(e=Re,og(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),$s(e)):og(Re,i.stateNode));break;case 4:r=Re,o=_t,Re=i.stateNode.containerInfo,_t=!0,Dn(e,t,i),Re=r,_t=o;break;case 0:case 11:case 14:case 15:Ie||Fn(2,i,t),Ie||Fn(4,i,t),Dn(e,t,i);break;case 1:Ie||(cn(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&_m(i,t,r)),Dn(e,t,i);break;case 21:Dn(e,t,i);break;case 22:Ie=(r=Ie)||i.memoizedState!==null,Dn(e,t,i),Ie=r;break;default:Dn(e,t,i)}}function Em(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$s(e)}catch(i){Se(t,t.return,i)}}function e1(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ym),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ym),t;default:throw Error(a(435,e.tag))}}function pc(e,t){var i=e1(e);t.forEach(function(r){var o=o1.bind(null,e,r);i.has(r)||(i.add(r),r.then(o,o))})}function Dt(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r],c=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 27:if(ii(p.type)){Re=p.stateNode,_t=!1;break e}break;case 5:Re=p.stateNode,_t=!1;break e;case 3:case 4:Re=p.stateNode.containerInfo,_t=!0;break e}p=p.return}if(Re===null)throw Error(a(160));Sm(c,d,o),Re=null,_t=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Cm(t,e),t=t.sibling}var $t=null;function Cm(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(t,e),Ot(e),r&4&&(Fn(3,e,e.return),Ls(3,e),Fn(5,e,e.return));break;case 1:Dt(t,e),Ot(e),r&512&&(Ie||i===null||cn(i,i.return)),r&64&&Rn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var o=$t;if(Dt(t,e),Ot(e),r&512&&(Ie||i===null||cn(i,i.return)),r&4){var c=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":c=o.getElementsByTagName("title")[0],(!c||c[as]||c[lt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(r),o.head.insertBefore(c,o.querySelector("head > title"))),et(c,r,i),c[lt]=e,Ve(c),r=c;break e;case"link":var d=pg("link","href",o).get(r+(i.href||""));if(d){for(var p=0;p<d.length;p++)if(c=d[p],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(p,1);break t}}c=o.createElement(r),et(c,r,i),o.head.appendChild(c);break;case"meta":if(d=pg("meta","content",o).get(r+(i.content||""))){for(p=0;p<d.length;p++)if(c=d[p],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(p,1);break t}}c=o.createElement(r),et(c,r,i),o.head.appendChild(c);break;default:throw Error(a(468,r))}c[lt]=e,Ve(c),r=c}e.stateNode=r}else yg(o,e.type,e.stateNode);else e.stateNode=gg(o,r,e.memoizedProps);else c!==r?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,r===null?yg(o,e.type,e.stateNode):gg(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&dc(e,e.memoizedProps,i.memoizedProps)}break;case 27:Dt(t,e),Ot(e),r&512&&(Ie||i===null||cn(i,i.return)),i!==null&&r&4&&dc(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Dt(t,e),Ot(e),r&512&&(Ie||i===null||cn(i,i.return)),e.flags&32){o=e.stateNode;try{ul(o,"")}catch(R){Se(e,e.return,R)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,dc(e,o,i!==null?i.memoizedProps:o)),r&1024&&(gc=!0);break;case 6:if(Dt(t,e),Ot(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(R){Se(e,e.return,R)}}break;case 3:if(qr=null,o=$t,$t=Hr(t.containerInfo),Dt(t,e),$t=o,Ot(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{$s(t.containerInfo)}catch(R){Se(e,e.return,R)}gc&&(gc=!1,Tm(e));break;case 4:r=$t,$t=Hr(e.stateNode.containerInfo),Dt(t,e),Ot(e),$t=r;break;case 12:Dt(t,e),Ot(e);break;case 13:Dt(t,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Cc=rn()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,pc(e,r)));break;case 22:o=e.memoizedState!==null;var v=i!==null&&i.memoizedState!==null,w=Rn,D=Ie;if(Rn=w||o,Ie=D||v,Dt(t,e),Ie=D,Rn=w,Ot(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||v||Rn||Ie||qi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){v=i=t;try{if(c=v.stateNode,o)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{p=v.stateNode;var x=v.memoizedProps.style,N=x!=null&&x.hasOwnProperty("display")?x.display:null;p.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(R){Se(v,v.return,R)}}}else if(t.tag===6){if(i===null){v=t;try{v.stateNode.nodeValue=o?"":v.memoizedProps}catch(R){Se(v,v.return,R)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,pc(e,i))));break;case 19:Dt(t,e),Ot(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,pc(e,r)));break;case 30:break;case 21:break;default:Dt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(gm(r)){i=r;break}r=r.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var o=i.stateNode,c=_c(e);Ar(e,c,o);break;case 5:var d=i.stateNode;i.flags&32&&(ul(d,""),i.flags&=-33);var p=_c(e);Ar(e,p,d);break;case 3:case 4:var v=i.stateNode.containerInfo,w=_c(e);mc(e,w,v);break;default:throw Error(a(161))}}catch(D){Se(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Tm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Zn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vm(e,t.alternate,t),t=t.sibling}function qi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fn(4,t,t.return),qi(t);break;case 1:cn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&_m(t,t.return,i),qi(t);break;case 27:Qs(t.stateNode);case 26:case 5:cn(t,t.return),qi(t);break;case 22:t.memoizedState===null&&qi(t);break;case 30:qi(t);break;default:qi(t)}e=e.sibling}}function Wn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:Wn(o,c,i),Ls(4,c);break;case 1:if(Wn(o,c,i),r=c,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(w){Se(r,r.return,w)}if(r=c,o=r.updateQueue,o!==null){var p=r.stateNode;try{var v=o.shared.hiddenCallbacks;if(v!==null)for(o.shared.hiddenCallbacks=null,o=0;o<v.length;o++)$d(v[o],p)}catch(w){Se(r,r.return,w)}}i&&d&64&&dm(c),Bs(c,c.return);break;case 27:pm(c);case 26:case 5:Wn(o,c,i),i&&r===null&&d&4&&mm(c),Bs(c,c.return);break;case 12:Wn(o,c,i);break;case 13:Wn(o,c,i),i&&d&4&&Em(o,c);break;case 22:c.memoizedState===null&&Wn(o,c,i),Bs(c,c.return);break;case 30:break;default:Wn(o,c,i)}t=t.sibling}}function yc(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ss(i))}function vc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ss(e))}function fn(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Am(e,t,i,r),t=t.sibling}function Am(e,t,i,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:fn(e,t,i,r),o&2048&&Ls(9,t);break;case 1:fn(e,t,i,r);break;case 3:fn(e,t,i,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ss(e)));break;case 12:if(o&2048){fn(e,t,i,r),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,p=c.onPostCommit;typeof p=="function"&&p(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){Se(t,t.return,v)}}else fn(e,t,i,r);break;case 13:fn(e,t,i,r);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?fn(e,t,i,r):Is(e,t):c._visibility&2?fn(e,t,i,r):(c._visibility|=2,Nl(e,t,i,r,(t.subtreeFlags&10256)!==0)),o&2048&&yc(d,t);break;case 24:fn(e,t,i,r),o&2048&&vc(t.alternate,t);break;default:fn(e,t,i,r)}}function Nl(e,t,i,r,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,d=t,p=i,v=r,w=d.flags;switch(d.tag){case 0:case 11:case 15:Nl(c,d,p,v,o),Ls(8,d);break;case 23:break;case 22:var D=d.stateNode;d.memoizedState!==null?D._visibility&2?Nl(c,d,p,v,o):Is(c,d):(D._visibility|=2,Nl(c,d,p,v,o)),o&&w&2048&&yc(d.alternate,d);break;case 24:Nl(c,d,p,v,o),o&&w&2048&&vc(d.alternate,d);break;default:Nl(c,d,p,v,o)}t=t.sibling}}function Is(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,o=r.flags;switch(r.tag){case 22:Is(i,r),o&2048&&yc(r.alternate,r);break;case 24:Is(i,r),o&2048&&vc(r.alternate,r);break;default:Is(i,r)}t=t.sibling}}var Hs=8192;function Rl(e){if(e.subtreeFlags&Hs)for(e=e.child;e!==null;)wm(e),e=e.sibling}function wm(e){switch(e.tag){case 26:Rl(e),e.flags&Hs&&e.memoizedState!==null&&k1($t,e.memoizedState,e.memoizedProps);break;case 5:Rl(e);break;case 3:case 4:var t=$t;$t=Hr(e.stateNode.containerInfo),Rl(e),$t=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Hs,Hs=16777216,Rl(e),Hs=t):Rl(e));break;default:Rl(e)}}function Nm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ks(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Qe=r,Dm(r,e)}Nm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rm(e),e=e.sibling}function Rm(e){switch(e.tag){case 0:case 11:case 15:ks(e),e.flags&2048&&Fn(9,e,e.return);break;case 3:ks(e);break;case 12:ks(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,wr(e)):ks(e);break;default:ks(e)}}function wr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Qe=r,Dm(r,e)}Nm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fn(8,t,t.return),wr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,wr(t));break;default:wr(t)}e=e.sibling}}function Dm(e,t){for(;Qe!==null;){var i=Qe;switch(i.tag){case 0:case 11:case 15:Fn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ss(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Qe=r;else e:for(i=e;Qe!==null;){r=Qe;var o=r.sibling,c=r.return;if(bm(r),r===i){Qe=null;break e}if(o!==null){o.return=c,Qe=o;break e}Qe=c}}}var t1={getCacheForType:function(e){var t=st(qe),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},n1=typeof WeakMap=="function"?WeakMap:Map,me=0,Te=null,se=null,re=0,ge=0,Mt=null,Jn=!1,Dl=!1,bc=!1,On=0,Ue=0,$n=0,Yi=0,Sc=0,Xt=0,Ol=0,qs=null,mt=null,Ec=!1,Cc=0,Nr=1/0,Rr=null,ei=null,$e=0,ti=null,Ml=null,xl=0,Tc=0,Ac=null,Om=null,Ys=0,wc=null;function xt(){if((me&2)!==0&&re!==0)return re&-re;if(O.T!==null){var e=vl;return e!==0?e:zc()}return Xh()}function Mm(){Xt===0&&(Xt=(re&536870912)===0||de?Gh():536870912);var e=Qt.current;return e!==null&&(e.flags|=32),Xt}function zt(e,t,i){(e===Te&&(ge===2||ge===9)||e.cancelPendingCommit!==null)&&(zl(e,0),ni(e,re,Xt,!1)),ss(e,i),((me&2)===0||e!==Te)&&(e===Te&&((me&2)===0&&(Yi|=i),Ue===4&&ni(e,re,Xt,!1)),hn(e))}function xm(e,t,i){if((me&6)!==0)throw Error(a(327));var r=!i&&(t&124)===0&&(t&e.expiredLanes)===0||ls(e,t),o=r?s1(e,t):Dc(e,t,!0),c=r;do{if(o===0){Dl&&!r&&ni(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!i1(i)){o=Dc(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var p=e;o=qs;var v=p.current.memoizedState.isDehydrated;if(v&&(zl(p,d).flags|=256),d=Dc(p,d,!1),d!==2){if(bc&&!v){p.errorRecoveryDisabledLanes|=c,Yi|=c,o=4;break e}c=mt,mt=o,c!==null&&(mt===null?mt=c:mt.push.apply(mt,c))}o=d}if(c=!1,o!==2)continue}}if(o===1){zl(e,0),ni(e,t,0,!0);break}e:{switch(r=e,c=o,c){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:ni(r,t,Xt,!Jn);break e;case 2:mt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(o=Cc+300-rn(),10<o)){if(ni(r,t,Xt,!Jn),ka(r,0,!0)!==0)break e;r.timeoutHandle=rg(zm.bind(null,r,i,mt,Rr,Ec,t,Xt,Yi,Ol,Jn,c,2,-0,0),o);break e}zm(r,i,mt,Rr,Ec,t,Xt,Yi,Ol,Jn,c,0,-0,0)}}break}while(!0);hn(e)}function zm(e,t,i,r,o,c,d,p,v,w,D,x,N,R){if(e.timeoutHandle=-1,x=t.subtreeFlags,(x&8192||(x&16785408)===16785408)&&(Ks={stylesheets:null,count:0,unsuspend:H1},wm(t),x=q1(),x!==null)){e.cancelPendingCommit=x(qm.bind(null,e,t,c,i,r,o,d,p,v,D,1,N,R)),ni(e,c,d,!w);return}qm(e,t,c,i,r,o,d,p,v)}function i1(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var o=i[r],c=o.getSnapshot;o=o.value;try{if(!Nt(c(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ni(e,t,i,r){t&=~Sc,t&=~Yi,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var c=31-wt(o),d=1<<c;r[c]=-1,o&=~d}i!==0&&jh(e,i,t)}function Dr(){return(me&6)===0?(Gs(0),!1):!0}function Nc(){if(se!==null){if(ge===0)var e=se.return;else e=se,En=Li=null,jo(e),Al=null,xs=0,e=se;for(;e!==null;)hm(e.alternate,e),e=e.return;se=null}}function zl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,S1(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Nc(),Te=e,se=i=vn(e.current,null),re=t,ge=0,Mt=null,Jn=!1,Dl=ls(e,t),bc=!1,Ol=Xt=Sc=Yi=$n=Ue=0,mt=qs=null,Ec=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-wt(r),c=1<<o;t|=e[o],r&=~c}return On=t,Wa(),i}function Um(e,t){ee=null,O.H=gr,t===Cs||t===ar?(t=Wd(),ge=3):t===Kd?(t=Wd(),ge=4):ge=t===J_?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mt=t,se===null&&(Ue=1,Sr(e,Yt(t,e.current)))}function Lm(){var e=O.H;return O.H=gr,e===null?gr:e}function Bm(){var e=O.A;return O.A=t1,e}function Rc(){Ue=4,Jn||(re&4194048)!==re&&Qt.current!==null||(Dl=!0),($n&134217727)===0&&(Yi&134217727)===0||Te===null||ni(Te,re,Xt,!1)}function Dc(e,t,i){var r=me;me|=2;var o=Lm(),c=Bm();(Te!==e||re!==t)&&(Rr=null,zl(e,t)),t=!1;var d=Ue;e:do try{if(ge!==0&&se!==null){var p=se,v=Mt;switch(ge){case 8:Nc(),d=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(t=!0);var w=ge;if(ge=0,Mt=null,Ul(e,p,v,w),i&&Dl){d=0;break e}break;default:w=ge,ge=0,Mt=null,Ul(e,p,v,w)}}l1(),d=Ue;break}catch(D){Um(e,D)}while(!0);return t&&e.shellSuspendCounter++,En=Li=null,me=r,O.H=o,O.A=c,se===null&&(Te=null,re=0,Wa()),d}function l1(){for(;se!==null;)Im(se)}function s1(e,t){var i=me;me|=2;var r=Lm(),o=Bm();Te!==e||re!==t?(Rr=null,Nr=rn()+500,zl(e,t)):Dl=ls(e,t);e:do try{if(ge!==0&&se!==null){t=se;var c=Mt;t:switch(ge){case 1:ge=0,Mt=null,Ul(e,t,c,1);break;case 2:case 9:if(Fd(c)){ge=0,Mt=null,Hm(t);break}t=function(){ge!==2&&ge!==9||Te!==e||(ge=7),hn(e)},c.then(t,t);break e;case 3:ge=7;break e;case 4:ge=5;break e;case 7:Fd(c)?(ge=0,Mt=null,Hm(t)):(ge=0,Mt=null,Ul(e,t,c,7));break;case 5:var d=null;switch(se.tag){case 26:d=se.memoizedState;case 5:case 27:var p=se;if(!d||vg(d)){ge=0,Mt=null;var v=p.sibling;if(v!==null)se=v;else{var w=p.return;w!==null?(se=w,Or(w)):se=null}break t}}ge=0,Mt=null,Ul(e,t,c,5);break;case 6:ge=0,Mt=null,Ul(e,t,c,6);break;case 8:Nc(),Ue=6;break e;default:throw Error(a(462))}}a1();break}catch(D){Um(e,D)}while(!0);return En=Li=null,O.H=r,O.A=o,me=i,se!==null?0:(Te=null,re=0,Wa(),Ue)}function a1(){for(;se!==null&&!Rv();)Im(se)}function Im(e){var t=cm(e.alternate,e,On);e.memoizedProps=e.pendingProps,t===null?Or(e):se=t}function Hm(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=lm(i,t,t.pendingProps,t.type,void 0,re);break;case 11:t=lm(i,t,t.pendingProps,t.type.render,t.ref,re);break;case 5:jo(t);default:hm(i,t),t=se=kd(t,On),t=cm(i,t,On)}e.memoizedProps=e.pendingProps,t===null?Or(e):se=t}function Ul(e,t,i,r){En=Li=null,jo(t),Al=null,xs=0;var o=t.return;try{if(F0(e,o,t,i,re)){Ue=1,Sr(e,Yt(i,e.current)),se=null;return}}catch(c){if(o!==null)throw se=o,c;Ue=1,Sr(e,Yt(i,e.current)),se=null;return}t.flags&32768?(de||r===1?e=!0:Dl||(re&536870912)!==0?e=!1:(Jn=e=!0,(r===2||r===9||r===3||r===6)&&(r=Qt.current,r!==null&&r.tag===13&&(r.flags|=16384))),km(t,e)):Or(t)}function Or(e){var t=e;do{if((t.flags&32768)!==0){km(t,Jn);return}e=t.return;var i=W0(t.alternate,t,On);if(i!==null){se=i;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);Ue===0&&(Ue=5)}function km(e,t){do{var i=J0(e.alternate,e);if(i!==null){i.flags&=32767,se=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){se=e;return}se=e=i}while(e!==null);Ue=6,se=null}function qm(e,t,i,r,o,c,d,p,v){e.cancelPendingCommit=null;do Mr();while($e!==0);if((me&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(c=t.lanes|t.childLanes,c|=vo,Hv(e,i,c,d,p,v),e===Te&&(se=Te=null,re=0),Ml=t,ti=e,xl=i,Tc=c,Ac=o,Om=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,c1(Ba,function(){return Qm(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=O.T,O.T=null,o=H.p,H.p=2,d=me,me|=4;try{$0(e,t,i)}finally{me=d,H.p=o,O.T=r}}$e=1,Ym(),Gm(),Vm()}}function Ym(){if($e===1){$e=0;var e=ti,t=Ml,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=O.T,O.T=null;var r=H.p;H.p=2;var o=me;me|=4;try{Cm(t,e);var c=Yc,d=Dd(e.containerInfo),p=c.focusedElem,v=c.selectionRange;if(d!==p&&p&&p.ownerDocument&&Rd(p.ownerDocument.documentElement,p)){if(v!==null&&_o(p)){var w=v.start,D=v.end;if(D===void 0&&(D=w),"selectionStart"in p)p.selectionStart=w,p.selectionEnd=Math.min(D,p.value.length);else{var x=p.ownerDocument||document,N=x&&x.defaultView||window;if(N.getSelection){var R=N.getSelection(),F=p.textContent.length,V=Math.min(v.start,F),ve=v.end===void 0?V:Math.min(v.end,F);!R.extend&&V>ve&&(d=ve,ve=V,V=d);var T=Nd(p,V),C=Nd(p,ve);if(T&&C&&(R.rangeCount!==1||R.anchorNode!==T.node||R.anchorOffset!==T.offset||R.focusNode!==C.node||R.focusOffset!==C.offset)){var A=x.createRange();A.setStart(T.node,T.offset),R.removeAllRanges(),V>ve?(R.addRange(A),R.extend(C.node,C.offset)):(A.setEnd(C.node,C.offset),R.addRange(A))}}}}for(x=[],R=p;R=R.parentNode;)R.nodeType===1&&x.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<x.length;p++){var M=x[p];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Vr=!!qc,Yc=qc=null}finally{me=o,H.p=r,O.T=i}}e.current=t,$e=2}}function Gm(){if($e===2){$e=0;var e=ti,t=Ml,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=O.T,O.T=null;var r=H.p;H.p=2;var o=me;me|=4;try{vm(e,t.alternate,t)}finally{me=o,H.p=r,O.T=i}}$e=3}}function Vm(){if($e===4||$e===3){$e=0,Dv();var e=ti,t=Ml,i=xl,r=Om;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?$e=5:($e=0,Ml=ti=null,jm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ei=null),Xu(i),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(is,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=O.T,o=H.p,H.p=2,O.T=null;try{for(var c=e.onRecoverableError,d=0;d<r.length;d++){var p=r[d];c(p.value,{componentStack:p.stack})}}finally{O.T=t,H.p=o}}(xl&3)!==0&&Mr(),hn(e),o=e.pendingLanes,(i&4194090)!==0&&(o&42)!==0?e===wc?Ys++:(Ys=0,wc=e):Ys=0,Gs(0)}}function jm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ss(t)))}function Mr(e){return Ym(),Gm(),Vm(),Qm()}function Qm(){if($e!==5)return!1;var e=ti,t=Tc;Tc=0;var i=Xu(xl),r=O.T,o=H.p;try{H.p=32>i?32:i,O.T=null,i=Ac,Ac=null;var c=ti,d=xl;if($e=0,Ml=ti=null,xl=0,(me&6)!==0)throw Error(a(331));var p=me;if(me|=4,Rm(c.current),Am(c,c.current,d,i),me=p,Gs(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(is,c)}catch{}return!0}finally{H.p=o,O.T=r,jm(e,t)}}function Xm(e,t,i){t=Yt(i,t),t=lc(e.stateNode,t,2),e=Qn(e,t,2),e!==null&&(ss(e,2),hn(e))}function Se(e,t,i){if(e.tag===3)Xm(e,e,i);else for(;t!==null;){if(t.tag===3){Xm(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){e=Yt(i,e),i=Z_(2),r=Qn(t,i,2),r!==null&&(W_(i,r,t,e),ss(r,2),hn(r));break}}t=t.return}}function Oc(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new n1;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(i)||(bc=!0,o.add(i),e=r1.bind(null,e,t,i),t.then(e,e))}function r1(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Te===e&&(re&i)===i&&(Ue===4||Ue===3&&(re&62914560)===re&&300>rn()-Cc?(me&2)===0&&zl(e,0):Sc|=i,Ol===re&&(Ol=0)),hn(e)}function Pm(e,t){t===0&&(t=Vh()),e=ml(e,t),e!==null&&(ss(e,t),hn(e))}function u1(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Pm(e,i)}function o1(e,t){var i=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(t),Pm(e,i)}function c1(e,t){return Gu(e,t)}var xr=null,Ll=null,Mc=!1,zr=!1,xc=!1,Gi=0;function hn(e){e!==Ll&&e.next===null&&(Ll===null?xr=Ll=e:Ll=Ll.next=e),zr=!0,Mc||(Mc=!0,h1())}function Gs(e,t){if(!xc&&zr){xc=!0;do for(var i=!1,r=xr;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var c=0;else{var d=r.suspendedLanes,p=r.pingedLanes;c=(1<<31-wt(42|e)+1)-1,c&=o&~(d&~p),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,Wm(r,c))}else c=re,c=ka(r,r===Te?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(c&3)===0||ls(r,c)||(i=!0,Wm(r,c));r=r.next}while(i);xc=!1}}function f1(){Km()}function Km(){zr=Mc=!1;var e=0;Gi!==0&&(b1()&&(e=Gi),Gi=0);for(var t=rn(),i=null,r=xr;r!==null;){var o=r.next,c=Fm(r,t);c===0?(r.next=null,i===null?xr=o:i.next=o,o===null&&(Ll=i)):(i=r,(e!==0||(c&3)!==0)&&(zr=!0)),r=o}Gs(e)}function Fm(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-wt(c),p=1<<d,v=o[d];v===-1?((p&i)===0||(p&r)!==0)&&(o[d]=Iv(p,t)):v<=t&&(e.expiredLanes|=p),c&=~p}if(t=Te,i=re,i=ka(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(ge===2||ge===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Vu(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ls(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&Vu(r),Xu(i)){case 2:case 8:i=qh;break;case 32:i=Ba;break;case 268435456:i=Yh;break;default:i=Ba}return r=Zm.bind(null,e),i=Gu(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&Vu(r),e.callbackPriority=2,e.callbackNode=null,2}function Zm(e,t){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Mr()&&e.callbackNode!==i)return null;var r=re;return r=ka(e,e===Te?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(xm(e,r,t),Fm(e,rn()),e.callbackNode!=null&&e.callbackNode===i?Zm.bind(null,e):null)}function Wm(e,t){if(Mr())return null;xm(e,t,!0)}function h1(){E1(function(){(me&6)!==0?Gu(kh,f1):Km()})}function zc(){return Gi===0&&(Gi=Gh()),Gi}function Jm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ja(""+e)}function $m(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function d1(e,t,i,r,o){if(t==="submit"&&i&&i.stateNode===o){var c=Jm((o[ft]||null).action),d=r.submitter;d&&(t=(t=d[ft]||null)?Jm(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var p=new Ka("action","action",null,r,o);e.push({event:p,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Gi!==0){var v=d?$m(o,d):new FormData(o);$o(i,{pending:!0,data:v,method:o.method,action:c},null,v)}}else typeof c=="function"&&(p.preventDefault(),v=d?$m(o,d):new FormData(o),$o(i,{pending:!0,data:v,method:o.method,action:c},c,v))},currentTarget:o}]})}}for(var Uc=0;Uc<yo.length;Uc++){var Lc=yo[Uc],_1=Lc.toLowerCase(),m1=Lc[0].toUpperCase()+Lc.slice(1);Jt(_1,"on"+m1)}Jt(xd,"onAnimationEnd"),Jt(zd,"onAnimationIteration"),Jt(Ud,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(x0,"onTransitionRun"),Jt(z0,"onTransitionStart"),Jt(U0,"onTransitionCancel"),Jt(Ld,"onTransitionEnd"),sl("onMouseEnter",["mouseout","mouseover"]),sl("onMouseLeave",["mouseout","mouseover"]),sl("onPointerEnter",["pointerout","pointerover"]),sl("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vs));function eg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],o=r.event;r=r.listeners;e:{var c=void 0;if(t)for(var d=r.length-1;0<=d;d--){var p=r[d],v=p.instance,w=p.currentTarget;if(p=p.listener,v!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=w;try{c(o)}catch(D){br(D)}o.currentTarget=null,c=v}else for(d=0;d<r.length;d++){if(p=r[d],v=p.instance,w=p.currentTarget,p=p.listener,v!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=w;try{c(o)}catch(D){br(D)}o.currentTarget=null,c=v}}}}function ae(e,t){var i=t[Pu];i===void 0&&(i=t[Pu]=new Set);var r=e+"__bubble";i.has(r)||(tg(t,e,2,!1),i.add(r))}function Bc(e,t,i){var r=0;t&&(r|=4),tg(i,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Ic(e){if(!e[Ur]){e[Ur]=!0,Kh.forEach(function(i){i!=="selectionchange"&&(g1.has(i)||Bc(i,!1,e),Bc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ur]||(t[Ur]=!0,Bc("selectionchange",!1,t))}}function tg(e,t,i,r){switch(Ag(t)){case 2:var o=V1;break;case 8:o=j1;break;default:o=Wc}i=o.bind(null,t,i,e),o=void 0,!lo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function Hc(e,t,i,r,o){var c=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var p=r.stateNode.containerInfo;if(p===o)break;if(d===4)for(d=r.return;d!==null;){var v=d.tag;if((v===3||v===4)&&d.stateNode.containerInfo===o)return;d=d.return}for(;p!==null;){if(d=nl(p),d===null)return;if(v=d.tag,v===5||v===6||v===26||v===27){r=c=d;continue e}p=p.parentNode}}r=r.return}ud(function(){var w=c,D=no(i),x=[];e:{var N=Bd.get(e);if(N!==void 0){var R=Ka,F=e;switch(e){case"keypress":if(Xa(i)===0)break e;case"keydown":case"keyup":R=c0;break;case"focusin":F="focus",R=uo;break;case"focusout":F="blur",R=uo;break;case"beforeblur":case"afterblur":R=uo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Jv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=d0;break;case xd:case zd:case Ud:R=t0;break;case Ld:R=m0;break;case"scroll":case"scrollend":R=Zv;break;case"wheel":R=p0;break;case"copy":case"cut":case"paste":R=i0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=dd;break;case"toggle":case"beforetoggle":R=v0}var V=(t&4)!==0,ve=!V&&(e==="scroll"||e==="scrollend"),T=V?N!==null?N+"Capture":null:N;V=[];for(var C=w,A;C!==null;){var M=C;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||T===null||(M=us(C,T),M!=null&&V.push(js(C,M,A))),ve)break;C=C.return}0<V.length&&(N=new R(N,F,null,i,D),x.push({event:N,listeners:V}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",N&&i!==to&&(F=i.relatedTarget||i.fromElement)&&(nl(F)||F[tl]))break e;if((R||N)&&(N=D.window===D?D:(N=D.ownerDocument)?N.defaultView||N.parentWindow:window,R?(F=i.relatedTarget||i.toElement,R=w,F=F?nl(F):null,F!==null&&(ve=f(F),V=F.tag,F!==ve||V!==5&&V!==27&&V!==6)&&(F=null)):(R=null,F=w),R!==F)){if(V=fd,M="onMouseLeave",T="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(V=dd,M="onPointerLeave",T="onPointerEnter",C="pointer"),ve=R==null?N:rs(R),A=F==null?N:rs(F),N=new V(M,C+"leave",R,i,D),N.target=ve,N.relatedTarget=A,M=null,nl(D)===w&&(V=new V(T,C+"enter",F,i,D),V.target=A,V.relatedTarget=ve,M=V),ve=M,R&&F)t:{for(V=R,T=F,C=0,A=V;A;A=Bl(A))C++;for(A=0,M=T;M;M=Bl(M))A++;for(;0<C-A;)V=Bl(V),C--;for(;0<A-C;)T=Bl(T),A--;for(;C--;){if(V===T||T!==null&&V===T.alternate)break t;V=Bl(V),T=Bl(T)}V=null}else V=null;R!==null&&ng(x,N,R,V,!1),F!==null&&ve!==null&&ng(x,ve,F,V,!0)}}e:{if(N=w?rs(w):window,R=N.nodeName&&N.nodeName.toLowerCase(),R==="select"||R==="input"&&N.type==="file")var q=Sd;else if(vd(N))if(Ed)q=D0;else{q=N0;var ie=w0}else R=N.nodeName,!R||R.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?w&&eo(w.elementType)&&(q=Sd):q=R0;if(q&&(q=q(e,w))){bd(x,q,i,D);break e}ie&&ie(e,N,w),e==="focusout"&&w&&N.type==="number"&&w.memoizedProps.value!=null&&$u(N,"number",N.value)}switch(ie=w?rs(w):window,e){case"focusin":(vd(ie)||ie.contentEditable==="true")&&(hl=ie,mo=w,gs=null);break;case"focusout":gs=mo=hl=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,Od(x,i,D);break;case"selectionchange":if(M0)break;case"keydown":case"keyup":Od(x,i,D)}var Y;if(co)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else fl?pd(e,i)&&(j="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(j="onCompositionStart");j&&(_d&&i.locale!=="ko"&&(fl||j!=="onCompositionStart"?j==="onCompositionEnd"&&fl&&(Y=od()):(Yn=D,so="value"in Yn?Yn.value:Yn.textContent,fl=!0)),ie=Lr(w,j),0<ie.length&&(j=new hd(j,e,null,i,D),x.push({event:j,listeners:ie}),Y?j.data=Y:(Y=yd(i),Y!==null&&(j.data=Y)))),(Y=S0?E0(e,i):C0(e,i))&&(j=Lr(w,"onBeforeInput"),0<j.length&&(ie=new hd("onBeforeInput","beforeinput",null,i,D),x.push({event:ie,listeners:j}),ie.data=Y)),d1(x,e,w,i,D)}eg(x,t)})}function js(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Lr(e,t){for(var i=t+"Capture",r=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=us(e,i),o!=null&&r.unshift(js(e,o,c)),o=us(e,t),o!=null&&r.push(js(e,o,c))),e.tag===3)return r;e=e.return}return[]}function Bl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ng(e,t,i,r,o){for(var c=t._reactName,d=[];i!==null&&i!==r;){var p=i,v=p.alternate,w=p.stateNode;if(p=p.tag,v!==null&&v===r)break;p!==5&&p!==26&&p!==27||w===null||(v=w,o?(w=us(i,c),w!=null&&d.unshift(js(i,w,v))):o||(w=us(i,c),w!=null&&d.push(js(i,w,v)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var p1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function ig(e){return(typeof e=="string"?e:""+e).replace(p1,`
`).replace(y1,"")}function lg(e,t){return t=ig(t),ig(e)===t}function Br(){}function ye(e,t,i,r,o,c){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||ul(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&ul(e,""+r);break;case"className":Ya(e,"class",r);break;case"tabIndex":Ya(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ya(e,i,r);break;case"style":ad(e,r,c);break;case"data":if(t!=="object"){Ya(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=ja(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&ye(e,t,"name",o.name,o,null),ye(e,t,"formEncType",o.formEncType,o,null),ye(e,t,"formMethod",o.formMethod,o,null),ye(e,t,"formTarget",o.formTarget,o,null)):(ye(e,t,"encType",o.encType,o,null),ye(e,t,"method",o.method,o,null),ye(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=ja(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=Br);break;case"onScroll":r!=null&&ae("scroll",e);break;case"onScrollEnd":r!=null&&ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=ja(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":ae("beforetoggle",e),ae("toggle",e),qa(e,"popover",r);break;case"xlinkActuate":pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":pn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":pn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":pn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":pn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":qa(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Kv.get(i)||i,qa(e,i,r))}}function kc(e,t,i,r,o,c){switch(i){case"style":ad(e,r,c);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof r=="string"?ul(e,r):(typeof r=="number"||typeof r=="bigint")&&ul(e,""+r);break;case"onScroll":r!=null&&ae("scroll",e);break;case"onScrollEnd":r!=null&&ae("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Br);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),c=e[ft]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof r=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,o);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):qa(e,i,r)}}}function et(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",e),ae("load",e);var r=!1,o=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ye(e,t,c,d,i,null)}}o&&ye(e,t,"srcSet",i.srcSet,i,null),r&&ye(e,t,"src",i.src,i,null);return;case"input":ae("invalid",e);var p=c=d=o=null,v=null,w=null;for(r in i)if(i.hasOwnProperty(r)){var D=i[r];if(D!=null)switch(r){case"name":o=D;break;case"type":d=D;break;case"checked":v=D;break;case"defaultChecked":w=D;break;case"value":c=D;break;case"defaultValue":p=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,t));break;default:ye(e,t,r,D,i,null)}}nd(e,c,p,v,w,d,o,!1),Ga(e);return;case"select":ae("invalid",e),r=d=c=null;for(o in i)if(i.hasOwnProperty(o)&&(p=i[o],p!=null))switch(o){case"value":c=p;break;case"defaultValue":d=p;break;case"multiple":r=p;default:ye(e,t,o,p,i,null)}t=c,i=d,e.multiple=!!r,t!=null?rl(e,!!r,t,!1):i!=null&&rl(e,!!r,i,!0);return;case"textarea":ae("invalid",e),c=o=r=null;for(d in i)if(i.hasOwnProperty(d)&&(p=i[d],p!=null))switch(d){case"value":r=p;break;case"defaultValue":o=p;break;case"children":c=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:ye(e,t,d,p,i,null)}ld(e,r,o,c),Ga(e);return;case"option":for(v in i)if(i.hasOwnProperty(v)&&(r=i[v],r!=null))switch(v){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ye(e,t,v,r,i,null)}return;case"dialog":ae("beforetoggle",e),ae("toggle",e),ae("cancel",e),ae("close",e);break;case"iframe":case"object":ae("load",e);break;case"video":case"audio":for(r=0;r<Vs.length;r++)ae(Vs[r],e);break;case"image":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"embed":case"source":case"link":ae("error",e),ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in i)if(i.hasOwnProperty(w)&&(r=i[w],r!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ye(e,t,w,r,i,null)}return;default:if(eo(t)){for(D in i)i.hasOwnProperty(D)&&(r=i[D],r!==void 0&&kc(e,t,D,r,i,void 0));return}}for(p in i)i.hasOwnProperty(p)&&(r=i[p],r!=null&&ye(e,t,p,r,i,null))}function v1(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,d=null,p=null,v=null,w=null,D=null;for(R in i){var x=i[R];if(i.hasOwnProperty(R)&&x!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":v=x;default:r.hasOwnProperty(R)||ye(e,t,R,null,r,x)}}for(var N in r){var R=r[N];if(x=i[N],r.hasOwnProperty(N)&&(R!=null||x!=null))switch(N){case"type":c=R;break;case"name":o=R;break;case"checked":w=R;break;case"defaultChecked":D=R;break;case"value":d=R;break;case"defaultValue":p=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(137,t));break;default:R!==x&&ye(e,t,N,R,r,x)}}Ju(e,d,p,v,w,D,c,o);return;case"select":R=d=p=N=null;for(c in i)if(v=i[c],i.hasOwnProperty(c)&&v!=null)switch(c){case"value":break;case"multiple":R=v;default:r.hasOwnProperty(c)||ye(e,t,c,null,r,v)}for(o in r)if(c=r[o],v=i[o],r.hasOwnProperty(o)&&(c!=null||v!=null))switch(o){case"value":N=c;break;case"defaultValue":p=c;break;case"multiple":d=c;default:c!==v&&ye(e,t,o,c,r,v)}t=p,i=d,r=R,N!=null?rl(e,!!i,N,!1):!!r!=!!i&&(t!=null?rl(e,!!i,t,!0):rl(e,!!i,i?[]:"",!1));return;case"textarea":R=N=null;for(p in i)if(o=i[p],i.hasOwnProperty(p)&&o!=null&&!r.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:ye(e,t,p,null,r,o)}for(d in r)if(o=r[d],c=i[d],r.hasOwnProperty(d)&&(o!=null||c!=null))switch(d){case"value":N=o;break;case"defaultValue":R=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(a(91));break;default:o!==c&&ye(e,t,d,o,r,c)}id(e,N,R);return;case"option":for(var F in i)if(N=i[F],i.hasOwnProperty(F)&&N!=null&&!r.hasOwnProperty(F))switch(F){case"selected":e.selected=!1;break;default:ye(e,t,F,null,r,N)}for(v in r)if(N=r[v],R=i[v],r.hasOwnProperty(v)&&N!==R&&(N!=null||R!=null))switch(v){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:ye(e,t,v,N,r,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var V in i)N=i[V],i.hasOwnProperty(V)&&N!=null&&!r.hasOwnProperty(V)&&ye(e,t,V,null,r,N);for(w in r)if(N=r[w],R=i[w],r.hasOwnProperty(w)&&N!==R&&(N!=null||R!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(137,t));break;default:ye(e,t,w,N,r,R)}return;default:if(eo(t)){for(var ve in i)N=i[ve],i.hasOwnProperty(ve)&&N!==void 0&&!r.hasOwnProperty(ve)&&kc(e,t,ve,void 0,r,N);for(D in r)N=r[D],R=i[D],!r.hasOwnProperty(D)||N===R||N===void 0&&R===void 0||kc(e,t,D,N,r,R);return}}for(var T in i)N=i[T],i.hasOwnProperty(T)&&N!=null&&!r.hasOwnProperty(T)&&ye(e,t,T,null,r,N);for(x in r)N=r[x],R=i[x],!r.hasOwnProperty(x)||N===R||N==null&&R==null||ye(e,t,x,N,r,R)}var qc=null,Yc=null;function Ir(e){return e.nodeType===9?e:e.ownerDocument}function sg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ag(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vc=null;function b1(){var e=window.event;return e&&e.type==="popstate"?e===Vc?!1:(Vc=e,!0):(Vc=null,!1)}var rg=typeof setTimeout=="function"?setTimeout:void 0,S1=typeof clearTimeout=="function"?clearTimeout:void 0,ug=typeof Promise=="function"?Promise:void 0,E1=typeof queueMicrotask=="function"?queueMicrotask:typeof ug<"u"?function(e){return ug.resolve(null).then(e).catch(C1)}:rg;function C1(e){setTimeout(function(){throw e})}function ii(e){return e==="head"}function og(e,t){var i=t,r=0,o=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(0<r&&8>r){i=r;var d=e.ownerDocument;if(i&1&&Qs(d.documentElement),i&2&&Qs(d.body),i&4)for(i=d.head,Qs(i),d=i.firstChild;d;){var p=d.nextSibling,v=d.nodeName;d[as]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=p}}if(o===0){e.removeChild(c),$s(t);return}o--}else i==="$"||i==="$?"||i==="$!"?o++:r=i.charCodeAt(0)-48;else r=0;i=c}while(i);$s(t)}function jc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":jc(i),Ku(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function T1(e,t,i,r){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[as])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=en(e.nextSibling),e===null)break}return null}function A1(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=en(e.nextSibling),e===null))return null;return e}function Qc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function w1(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Xc=null;function cg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function fg(e,t,i){switch(t=Ir(i),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Qs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ku(e)}var Pt=new Map,hg=new Set;function Hr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mn=H.d;H.d={f:N1,r:R1,D:D1,C:O1,L:M1,m:x1,X:U1,S:z1,M:L1};function N1(){var e=Mn.f(),t=Dr();return e||t}function R1(e){var t=il(e);t!==null&&t.tag===5&&t.type==="form"?x_(t):Mn.r(e)}var Il=typeof document>"u"?null:document;function dg(e,t,i){var r=Il;if(r&&typeof t=="string"&&t){var o=qt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),hg.has(o)||(hg.add(o),e={rel:e,crossOrigin:i,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),et(t,"link",e),Ve(t),r.head.appendChild(t)))}}function D1(e){Mn.D(e),dg("dns-prefetch",e,null)}function O1(e,t){Mn.C(e,t),dg("preconnect",e,t)}function M1(e,t,i){Mn.L(e,t,i);var r=Il;if(r&&e&&t){var o='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+qt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+qt(i.imageSizes)+'"]')):o+='[href="'+qt(e)+'"]';var c=o;switch(t){case"style":c=Hl(e);break;case"script":c=kl(e)}Pt.has(c)||(e=y({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Pt.set(c,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(Xs(c))||t==="script"&&r.querySelector(Ps(c))||(t=r.createElement("link"),et(t,"link",e),Ve(t),r.head.appendChild(t)))}}function x1(e,t){Mn.m(e,t);var i=Il;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+qt(r)+'"][href="'+qt(e)+'"]',c=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=kl(e)}if(!Pt.has(c)&&(e=y({rel:"modulepreload",href:e},t),Pt.set(c,e),i.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ps(c)))return}r=i.createElement("link"),et(r,"link",e),Ve(r),i.head.appendChild(r)}}}function z1(e,t,i){Mn.S(e,t,i);var r=Il;if(r&&e){var o=ll(r).hoistableStyles,c=Hl(e);t=t||"default";var d=o.get(c);if(!d){var p={loading:0,preload:null};if(d=r.querySelector(Xs(c)))p.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Pt.get(c))&&Pc(e,i);var v=d=r.createElement("link");Ve(v),et(v,"link",e),v._p=new Promise(function(w,D){v.onload=w,v.onerror=D}),v.addEventListener("load",function(){p.loading|=1}),v.addEventListener("error",function(){p.loading|=2}),p.loading|=4,kr(d,t,r)}d={type:"stylesheet",instance:d,count:1,state:p},o.set(c,d)}}}function U1(e,t){Mn.X(e,t);var i=Il;if(i&&e){var r=ll(i).hoistableScripts,o=kl(e),c=r.get(o);c||(c=i.querySelector(Ps(o)),c||(e=y({src:e,async:!0},t),(t=Pt.get(o))&&Kc(e,t),c=i.createElement("script"),Ve(c),et(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(o,c))}}function L1(e,t){Mn.M(e,t);var i=Il;if(i&&e){var r=ll(i).hoistableScripts,o=kl(e),c=r.get(o);c||(c=i.querySelector(Ps(o)),c||(e=y({src:e,async:!0,type:"module"},t),(t=Pt.get(o))&&Kc(e,t),c=i.createElement("script"),Ve(c),et(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(o,c))}}function _g(e,t,i,r){var o=(o=Z.current)?Hr(o):null;if(!o)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Hl(i.href),i=ll(o).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Hl(i.href);var c=ll(o).hoistableStyles,d=c.get(e);if(d||(o=o.ownerDocument||o,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=o.querySelector(Xs(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Pt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Pt.set(e,i),c||B1(o,e,i,d.state))),t&&r===null)throw Error(a(528,""));return d}if(t&&r!==null)throw Error(a(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=kl(i),i=ll(o).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Hl(e){return'href="'+qt(e)+'"'}function Xs(e){return'link[rel="stylesheet"]['+e+"]"}function mg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function B1(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),et(t,"link",i),Ve(t),e.head.appendChild(t))}function kl(e){return'[src="'+qt(e)+'"]'}function Ps(e){return"script[async]"+e}function gg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+qt(i.href)+'"]');if(r)return t.instance=r,Ve(r),r;var o=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Ve(r),et(r,"style",o),kr(r,i.precedence,e),t.instance=r;case"stylesheet":o=Hl(i.href);var c=e.querySelector(Xs(o));if(c)return t.state.loading|=4,t.instance=c,Ve(c),c;r=mg(i),(o=Pt.get(o))&&Pc(r,o),c=(e.ownerDocument||e).createElement("link"),Ve(c);var d=c;return d._p=new Promise(function(p,v){d.onload=p,d.onerror=v}),et(c,"link",r),t.state.loading|=4,kr(c,i.precedence,e),t.instance=c;case"script":return c=kl(i.src),(o=e.querySelector(Ps(c)))?(t.instance=o,Ve(o),o):(r=i,(o=Pt.get(c))&&(r=y({},i),Kc(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),Ve(o),et(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,kr(r,i.precedence,e));return t.instance}function kr(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,c=o,d=0;d<r.length;d++){var p=r[d];if(p.dataset.precedence===t)c=p;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Pc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Kc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var qr=null;function pg(e,t,i){if(qr===null){var r=new Map,o=qr=new Map;o.set(i,r)}else o=qr,r=o.get(i),r||(r=new Map,o.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var c=i[o];if(!(c[as]||c[lt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var p=r.get(d);p?p.push(c):r.set(d,[c])}}return r}function yg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function I1(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function vg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ks=null;function H1(){}function k1(e,t,i){if(Ks===null)throw Error(a(475));var r=Ks;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=Hl(i.href),c=e.querySelector(Xs(o));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Yr.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=c,Ve(c);return}c=e.ownerDocument||e,i=mg(i),(o=Pt.get(o))&&Pc(i,o),c=c.createElement("link"),Ve(c);var d=c;d._p=new Promise(function(p,v){d.onload=p,d.onerror=v}),et(c,"link",i),t.instance=c}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(r.count++,t=Yr.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function q1(){if(Ks===null)throw Error(a(475));var e=Ks;return e.stylesheets&&e.count===0&&Fc(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&Fc(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Yr(){if(this.count--,this.count===0){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gr=null;function Fc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gr=new Map,t.forEach(Y1,e),Gr=null,Yr.call(e))}function Y1(e,t){if(!(t.state.loading&4)){var i=Gr.get(e);if(i)var r=i.get(null);else{i=new Map,Gr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var d=o[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),r=d)}r&&i.set(null,r)}o=t.instance,d=o.getAttribute("data-precedence"),c=i.get(d)||r,c===r&&i.set(null,o),i.set(d,o),this.count++,r=Yr.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Fs={$$typeof:ue,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function G1(e,t,i,r,o,c,d,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ju(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ju(0),this.hiddenUpdates=ju(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function bg(e,t,i,r,o,c,d,p,v,w,D,x){return e=new G1(e,t,i,d,p,v,w,x),t=1,c===!0&&(t|=24),c=Rt(3,null,null,t),e.current=c,c.stateNode=e,t=Oo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:r,isDehydrated:i,cache:t},Uo(c),e}function Sg(e){return e?(e=gl,e):gl}function Eg(e,t,i,r,o,c){o=Sg(o),r.context===null?r.context=o:r.pendingContext=o,r=jn(t),r.payload={element:i},c=c===void 0?null:c,c!==null&&(r.callback=c),i=Qn(e,r,t),i!==null&&(zt(i,e,t),As(i,e,t))}function Cg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Zc(e,t){Cg(e,t),(e=e.alternate)&&Cg(e,t)}function Tg(e){if(e.tag===13){var t=ml(e,67108864);t!==null&&zt(t,e,67108864),Zc(e,67108864)}}var Vr=!0;function V1(e,t,i,r){var o=O.T;O.T=null;var c=H.p;try{H.p=2,Wc(e,t,i,r)}finally{H.p=c,O.T=o}}function j1(e,t,i,r){var o=O.T;O.T=null;var c=H.p;try{H.p=8,Wc(e,t,i,r)}finally{H.p=c,O.T=o}}function Wc(e,t,i,r){if(Vr){var o=Jc(r);if(o===null)Hc(e,t,r,jr,i),wg(e,r);else if(X1(o,e,t,i,r))r.stopPropagation();else if(wg(e,r),t&4&&-1<Q1.indexOf(e)){for(;o!==null;){var c=il(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=Ai(c.pendingLanes);if(d!==0){var p=c;for(p.pendingLanes|=2,p.entangledLanes|=2;d;){var v=1<<31-wt(d);p.entanglements[1]|=v,d&=~v}hn(c),(me&6)===0&&(Nr=rn()+500,Gs(0))}}break;case 13:p=ml(c,2),p!==null&&zt(p,c,2),Dr(),Zc(c,2)}if(c=Jc(r),c===null&&Hc(e,t,r,jr,i),c===o)break;o=c}o!==null&&r.stopPropagation()}else Hc(e,t,r,null,i)}}function Jc(e){return e=no(e),$c(e)}var jr=null;function $c(e){if(jr=null,e=nl(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return jr=e,null}function Ag(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ov()){case kh:return 2;case qh:return 8;case Ba:case Mv:return 32;case Yh:return 268435456;default:return 32}default:return 32}}var ef=!1,li=null,si=null,ai=null,Zs=new Map,Ws=new Map,ri=[],Q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wg(e,t){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":Zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(t.pointerId)}}function Js(e,t,i,r,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:c,targetContainers:[o]},t!==null&&(t=il(t),t!==null&&Tg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function X1(e,t,i,r,o){switch(t){case"focusin":return li=Js(li,e,t,i,r,o),!0;case"dragenter":return si=Js(si,e,t,i,r,o),!0;case"mouseover":return ai=Js(ai,e,t,i,r,o),!0;case"pointerover":var c=o.pointerId;return Zs.set(c,Js(Zs.get(c)||null,e,t,i,r,o)),!0;case"gotpointercapture":return c=o.pointerId,Ws.set(c,Js(Ws.get(c)||null,e,t,i,r,o)),!0}return!1}function Ng(e){var t=nl(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,kv(e.priority,function(){if(i.tag===13){var r=xt();r=Qu(r);var o=ml(i,r);o!==null&&zt(o,i,r),Zc(i,r)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Jc(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);to=r,i.target.dispatchEvent(r),to=null}else return t=il(i),t!==null&&Tg(t),e.blockedOn=i,!1;t.shift()}return!0}function Rg(e,t,i){Qr(e)&&i.delete(t)}function P1(){ef=!1,li!==null&&Qr(li)&&(li=null),si!==null&&Qr(si)&&(si=null),ai!==null&&Qr(ai)&&(ai=null),Zs.forEach(Rg),Ws.forEach(Rg)}function Xr(e,t){e.blockedOn===t&&(e.blockedOn=null,ef||(ef=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,P1)))}var Pr=null;function Dg(e){Pr!==e&&(Pr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Pr===e&&(Pr=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if($c(r||i)===null)continue;break}var c=il(i);c!==null&&(e.splice(t,3),t-=3,$o(c,{pending:!0,data:o,method:i.method,action:r},r,o))}}))}function $s(e){function t(v){return Xr(v,e)}li!==null&&Xr(li,e),si!==null&&Xr(si,e),ai!==null&&Xr(ai,e),Zs.forEach(t),Ws.forEach(t);for(var i=0;i<ri.length;i++){var r=ri[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ri.length&&(i=ri[0],i.blockedOn===null);)Ng(i),i.blockedOn===null&&ri.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],d=o[ft]||null;if(typeof c=="function")d||Dg(i);else if(d){var p=null;if(c&&c.hasAttribute("formAction")){if(o=c,d=c[ft]||null)p=d.formAction;else if($c(o)!==null)continue}else p=d.action;typeof p=="function"?i[r+1]=p:(i.splice(r,3),r-=3),Dg(i)}}}function tf(e){this._internalRoot=e}Kr.prototype.render=tf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var i=t.current,r=xt();Eg(i,r,e,t,null,null)},Kr.prototype.unmount=tf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Eg(e.current,2,null,e,null,null),Dr(),t[tl]=null}};function Kr(e){this._internalRoot=e}Kr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ri.length&&t!==0&&t<ri[i].priority;i++);ri.splice(i,0,e),i===0&&Ng(e)}};var Og=n.version;if(Og!=="19.1.1")throw Error(a(527,Og,"19.1.1"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var K1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fr.isDisabled&&Fr.supportsFiber)try{is=Fr.inject(K1),At=Fr}catch{}}return ta.createRoot=function(e,t){if(!u(e))throw Error(a(299));var i=!1,r="",o=X_,c=P_,d=K_,p=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(p=t.unstable_transitionCallbacks)),t=bg(e,1,!1,null,null,i,r,o,c,d,p,null),e[tl]=t.current,Ic(e),new tf(t)},ta.hydrateRoot=function(e,t,i){if(!u(e))throw Error(a(299));var r=!1,o="",c=X_,d=P_,p=K_,v=null,w=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(v=i.unstable_transitionCallbacks),i.formState!==void 0&&(w=i.formState)),t=bg(e,1,!0,t,i??null,r,o,c,d,p,v,w),t.context=Sg(null),i=t.current,r=xt(),r=Qu(r),o=jn(r),o.callback=null,Qn(i,o,r),i=r,t.current.lanes=i,ss(t,i),hn(t),e[tl]=t.current,Ic(e),new Kr(t)},ta.version="19.1.1",ta}var qg;function lb(){if(qg)return sf.exports;qg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),sf.exports=ib(),sf.exports}var sb=lb();const ab=()=>{};var Yg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L=function(s,n){if(!s)throw Wl(n)},Wl=function(s){return new Error("Firebase Database ("+Yp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=function(s){const n=[];let l=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?n[l++]=u:u<2048?(n[l++]=u>>6|192,n[l++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),n[l++]=u>>18|240,n[l++]=u>>12&63|128,n[l++]=u>>6&63|128,n[l++]=u&63|128):(n[l++]=u>>12|224,n[l++]=u>>6&63|128,n[l++]=u&63|128)}return n},rb=function(s){const n=[];let l=0,a=0;for(;l<s.length;){const u=s[l++];if(u<128)n[a++]=String.fromCharCode(u);else if(u>191&&u<224){const f=s[l++];n[a++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=s[l++],h=s[l++],_=s[l++],g=((u&7)<<18|(f&63)<<12|(h&63)<<6|_&63)-65536;n[a++]=String.fromCharCode(55296+(g>>10)),n[a++]=String.fromCharCode(56320+(g&1023))}else{const f=s[l++],h=s[l++];n[a++]=String.fromCharCode((u&15)<<12|(f&63)<<6|h&63)}}return n.join("")},Kf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const f=s[u],h=u+1<s.length,_=h?s[u+1]:0,g=u+2<s.length,m=g?s[u+2]:0,y=f>>2,b=(f&3)<<4|_>>4;let S=(_&15)<<2|m>>6,z=m&63;g||(z=64,h||(S=64)),a.push(l[y],l[b],l[S],l[z])}return a.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(Gp(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):rb(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const f=l[s.charAt(u++)],_=u<s.length?l[s.charAt(u)]:0;++u;const m=u<s.length?l[s.charAt(u)]:64;++u;const b=u<s.length?l[s.charAt(u)]:64;if(++u,f==null||_==null||m==null||b==null)throw new ub;const S=f<<2|_>>4;if(a.push(S),m!==64){const z=_<<4&240|m>>2;if(a.push(z),b!==64){const B=m<<6&192|b;a.push(B)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vp=function(s){const n=Gp(s);return Kf.encodeByteArray(n,!0)},$r=function(s){return Vp(s).replace(/\./g,"")},eu=function(s){try{return Kf.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(s){return fa(void 0,s)}function fa(s,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!cb(l)||(s[l]=fa(s[l],n[l]));return s}function cb(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=()=>jp().__FIREBASE_DEFAULTS__,hb=()=>{if(typeof process>"u"||typeof Yg>"u")return;const s=Yg.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},db=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&eu(s[1]);return n&&JSON.parse(n)},_b=()=>{try{return ab()||fb()||hb()||db()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ff=()=>{var s;return(s=_b())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,a)=>{l?this.reject(l):this.resolve(a),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mb(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},a=n||"demo-project",u=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...s};return[$r(JSON.stringify(l)),$r(JSON.stringify(h)),""].join(".")}const aa={};function pb(){const s={prod:[],emulator:[]};for(const n of Object.keys(aa))aa[n]?s.emulator.push(n):s.prod.push(n);return s}function yb(s){let n=document.getElementById(s),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",s),l=!0),{created:l,element:n}}let Gg=!1;function vb(s,n){if(typeof window>"u"||typeof document>"u"||!Zf(window.location.host)||aa[s]===n||aa[s]||Gg)return;aa[s]=n;function l(S){return`__firebase__banner__${S}`}const a="__firebase__banner",f=pb().prod.length>0;function h(){const S=document.getElementById(a);S&&S.remove()}function _(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,z){S.setAttribute("width","24"),S.setAttribute("id",z),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Gg=!0,h()},S}function y(S,z){S.setAttribute("id",z),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=yb(a),z=l("text"),B=document.getElementById(z)||document.createElement("span"),X=l("learnmore"),$=document.getElementById(X)||document.createElement("a"),xe=l("preprendIcon"),Le=document.getElementById(xe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ue=S.element;_(ue),y($,X);const ut=m();g(Le,xe),ue.append(Le,B,$,ut),document.body.appendChild(ue)}f?(B.innerText="Preview backend disconnected.",Le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bb())}function Sb(){return typeof window<"u"||Xp()}function Xp(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Eb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cb(){return Yp.NODE_ADMIN===!0}function Tb(){try{return typeof indexedDB=="object"}catch{return!1}}function Ab(){return new Promise((s,n)=>{try{let l=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),l||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{l=!1},u.onerror=()=>{var f;n(((f=u.error)==null?void 0:f.message)||"")}}catch(l){n(l)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="FirebaseError";class Jl extends Error{constructor(n,l,a){super(l),this.code=n,this.customData=a,this.name=wb,Object.setPrototypeOf(this,Jl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(n,l,a){this.service=n,this.serviceName=l,this.errors=a}create(n,...l){const a=l[0]||{},u=`${this.service}/${n}`,f=this.errors[n],h=f?Nb(f,a):"Error",_=`${this.serviceName}: ${h} (${u}).`;return new Jl(u,_,a)}}function Nb(s,n){return s.replace(Rb,(l,a)=>{const u=n[a];return u!=null?String(u):`<${a}?>`})}const Rb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(s){return JSON.parse(s)}function Ge(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=function(s){let n={},l={},a={},u="";try{const f=s.split(".");n=ha(eu(f[0])||""),l=ha(eu(f[1])||""),u=f[2],a=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:a,signature:u}},Db=function(s){const n=Pp(s),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},Ob=function(s){const n=Pp(s).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(s,n){return Object.prototype.hasOwnProperty.call(s,n)}function Pi(s,n){if(Object.prototype.hasOwnProperty.call(s,n))return s[n]}function Ef(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}function tu(s,n,l){const a={};for(const u in s)Object.prototype.hasOwnProperty.call(s,u)&&(a[u]=n.call(l,s[u],u,s));return a}function nu(s,n){if(s===n)return!0;const l=Object.keys(s),a=Object.keys(n);for(const u of l){if(!a.includes(u))return!1;const f=s[u],h=n[u];if(Vg(f)&&Vg(h)){if(!nu(f,h))return!1}else if(f!==h)return!1}for(const u of a)if(!l.includes(u))return!1;return!0}function Vg(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(s){const n=[];for(const[l,a]of Object.entries(s))Array.isArray(a)?a.forEach(u=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(u))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(a));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const a=this.W_;if(typeof n=="string")for(let b=0;b<16;b++)a[b]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let b=0;b<16;b++)a[b]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let b=16;b<80;b++){const S=a[b-3]^a[b-8]^a[b-14]^a[b-16];a[b]=(S<<1|S>>>31)&4294967295}let u=this.chain_[0],f=this.chain_[1],h=this.chain_[2],_=this.chain_[3],g=this.chain_[4],m,y;for(let b=0;b<80;b++){b<40?b<20?(m=_^f&(h^_),y=1518500249):(m=f^h^_,y=1859775393):b<60?(m=f&h|_&(f|h),y=2400959708):(m=f^h^_,y=3395469782);const S=(u<<5|u>>>27)+m+g+y+a[b]&4294967295;g=_,_=h,h=(f<<30|f>>>2)&4294967295,f=u,u=S}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+_&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const a=l-this.blockSize;let u=0;const f=this.buf_;let h=this.inbuf_;for(;u<l;){if(h===0)for(;u<=a;)this.compress_(n,u),u+=this.blockSize;if(typeof n=="string"){for(;u<l;)if(f[h]=n.charCodeAt(u),++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}else for(;u<l;)if(f[h]=n[u],++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=l&255,l/=256;this.compress_(this.buf_);let a=0;for(let u=0;u<5;u++)for(let f=24;f>=0;f-=8)n[a]=this.chain_[u]>>f&255,++a;return n}}function zb(s,n){const l=new Ub(s,n);return l.subscribe.bind(l)}class Ub{constructor(n,l){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=l,this.task.then(()=>{n(this)}).catch(a=>{this.error(a)})}next(n){this.forEachObserver(l=>{l.next(n)})}error(n){this.forEachObserver(l=>{l.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,l,a){let u;if(n===void 0&&l===void 0&&a===void 0)throw new Error("Missing Observer.");Lb(n,["next","error","complete"])?u=n:u={next:n,error:l,complete:a},u.next===void 0&&(u.next=of),u.error===void 0&&(u.error=of),u.complete===void 0&&(u.complete=of);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?u.error(this.finalError):u.complete()}catch{}}),this.observers.push(u),f}unsubscribeOne(n){this.observers===void 0||this.observers[n]===void 0||(delete this.observers[n],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(n){if(!this.finalized)for(let l=0;l<this.observers.length;l++)this.sendOne(l,n)}sendOne(n,l){this.task.then(()=>{if(this.observers!==void 0&&this.observers[n]!==void 0)try{l(this.observers[n])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lb(s,n){if(typeof s!="object"||s===null)return!1;for(const l of n)if(l in s&&typeof s[l]=="function")return!0;return!1}function of(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=function(s,n,l,a){let u;if(a<n?u="at least "+n:a>l&&(u=l===0?"none":"no more than "+l),u){const f=s+" failed: Was called with "+a+(a===1?" argument.":" arguments.")+" Expects "+u+".";throw new Error(f)}};function vt(s,n){return`${s} failed: ${n} argument `}function Ke(s,n,l,a){if(!(a&&!l)&&typeof l!="function")throw new Error(vt(s,n)+"must be a valid function.")}function jg(s,n,l,a){if(l&&(typeof l!="object"||l===null))throw new Error(vt(s,n)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=function(s){const n=[];let l=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);if(u>=55296&&u<=56319){const f=u-55296;a++,L(a<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(a)-56320;u=65536+(f<<10)+h}u<128?n[l++]=u:u<2048?(n[l++]=u>>6|192,n[l++]=u&63|128):u<65536?(n[l++]=u>>12|224,n[l++]=u>>6&63|128,n[l++]=u&63|128):(n[l++]=u>>18|240,n[l++]=u>>12&63|128,n[l++]=u>>6&63|128,n[l++]=u&63|128)}return n},yu=function(s){let n=0;for(let l=0;l<s.length;l++){const a=s.charCodeAt(l);a<128?n++:a<2048?n+=2:a>=55296&&a<=56319?(n+=4,l++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(s){return s&&s._delegate?s._delegate:s}class Ln{constructor(n,l,a){this.name=n,this.instanceFactory=l,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const a=new pt;if(this.instancesDeferred.set(l,a),this.isInitialized(l)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:l});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),a=(n==null?void 0:n.optional)??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(Hb(n))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[l,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:u});a.resolve(f)}catch{}}}}clearInstance(n=Vi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Vi){return this.instances.has(n)}getOptions(n=Vi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,a=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:l});for(const[f,h]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(f);a===_&&h.resolve(u)}return u}onInit(n,l){const a=this.normalizeInstanceIdentifier(l),u=this.onInitCallbacks.get(a)??new Set;u.add(n),this.onInitCallbacks.set(a,u);const f=this.instances.get(a);return f&&n(f,a),()=>{u.delete(n)}}invokeOnInitCallbacks(n,l){const a=this.onInitCallbacks.get(l);if(a)for(const u of a)try{u(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Ib(n),options:l}),this.instances.set(n,a),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch{}return a||null}normalizeInstanceIdentifier(n=Vi){return this.component?this.component.multipleInstances?n:Vi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ib(s){return s===Vi?void 0:s}function Hb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new Cf(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=[];var Ee;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ee||(Ee={}));const Kp={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},kb=Ee.INFO,qb={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},Yb=(s,n,...l)=>{if(n<s.logLevel)return;const a=new Date().toISOString(),u=qb[n];if(u)console[u](`[${a}]  ${s.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class vu{constructor(n){this.name=n,this._logLevel=kb,this._logHandler=Yb,this._userLogHandler=null,Jf.push(this)}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ee))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?Kp[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...n),this._logHandler(this,Ee.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...n),this._logHandler(this,Ee.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...n),this._logHandler(this,Ee.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...n),this._logHandler(this,Ee.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...n),this._logHandler(this,Ee.ERROR,...n)}}function Gb(s){Jf.forEach(n=>{n.setLogLevel(s)})}function Vb(s,n){for(const l of Jf){let a=null;n&&n.level&&(a=Kp[n.level]),s===null?l.userLogHandler=null:l.userLogHandler=(u,f,...h)=>{const _=h.map(g=>{if(g==null)return null;if(typeof g=="string")return g;if(typeof g=="number"||typeof g=="boolean")return g.toString();if(g instanceof Error)return g.message;try{return JSON.stringify(g)}catch{return null}}).filter(g=>g).join(" ");f>=(a??u.logLevel)&&s({level:Ee[f].toLowerCase(),message:_,args:h,type:u.name})}}}const jb=(s,n)=>n.some(l=>s instanceof l);let Qg,Xg;function Qb(){return Qg||(Qg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xb(){return Xg||(Xg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fp=new WeakMap,Tf=new WeakMap,Zp=new WeakMap,cf=new WeakMap,$f=new WeakMap;function Pb(s){const n=new Promise((l,a)=>{const u=()=>{s.removeEventListener("success",f),s.removeEventListener("error",h)},f=()=>{l(fi(s.result)),u()},h=()=>{a(s.error),u()};s.addEventListener("success",f),s.addEventListener("error",h)});return n.then(l=>{l instanceof IDBCursor&&Fp.set(l,s)}).catch(()=>{}),$f.set(n,s),n}function Kb(s){if(Tf.has(s))return;const n=new Promise((l,a)=>{const u=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",h),s.removeEventListener("abort",h)},f=()=>{l(),u()},h=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",f),s.addEventListener("error",h),s.addEventListener("abort",h)});Tf.set(s,n)}let Af={get(s,n,l){if(s instanceof IDBTransaction){if(n==="done")return Tf.get(s);if(n==="objectStoreNames")return s.objectStoreNames||Zp.get(s);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return fi(s[n])},set(s,n,l){return s[n]=l,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function Fb(s){Af=s(Af)}function Zb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const a=s.call(ff(this),n,...l);return Zp.set(a,n.sort?n.sort():[n]),fi(a)}:Xb().includes(s)?function(...n){return s.apply(ff(this),n),fi(Fp.get(this))}:function(...n){return fi(s.apply(ff(this),n))}}function Wb(s){return typeof s=="function"?Zb(s):(s instanceof IDBTransaction&&Kb(s),jb(s,Qb())?new Proxy(s,Af):s)}function fi(s){if(s instanceof IDBRequest)return Pb(s);if(cf.has(s))return cf.get(s);const n=Wb(s);return n!==s&&(cf.set(s,n),$f.set(n,s)),n}const ff=s=>$f.get(s);function Jb(s,n,{blocked:l,upgrade:a,blocking:u,terminated:f}={}){const h=indexedDB.open(s,n),_=fi(h);return a&&h.addEventListener("upgradeneeded",g=>{a(fi(h.result),g.oldVersion,g.newVersion,fi(h.transaction),g)}),l&&h.addEventListener("blocked",g=>l(g.oldVersion,g.newVersion,g)),_.then(g=>{f&&g.addEventListener("close",()=>f()),u&&g.addEventListener("versionchange",m=>u(m.oldVersion,m.newVersion,m))}).catch(()=>{}),_}const $b=["get","getKey","getAll","getAllKeys","count"],eS=["put","add","delete","clear"],hf=new Map;function Pg(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(hf.get(n))return hf.get(n);const l=n.replace(/FromIndex$/,""),a=n!==l,u=eS.includes(l);if(!(l in(a?IDBIndex:IDBObjectStore).prototype)||!(u||$b.includes(l)))return;const f=async function(h,..._){const g=this.transaction(h,u?"readwrite":"readonly");let m=g.store;return a&&(m=m.index(_.shift())),(await Promise.all([m[l](..._),u&&g.done]))[0]};return hf.set(n,f),f}Fb(s=>({...s,get:(n,l,a)=>Pg(n,l)||s.get(n,l,a),has:(n,l)=>!!Pg(n,l)||s.has(n,l)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(nS(l)){const a=l.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(l=>l).join(" ")}}function nS(s){const n=s.getComponent();return(n==null?void 0:n.type)==="VERSION"}const iu="@firebase/app",wf="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=new vu("@firebase/app"),iS="@firebase/app-compat",lS="@firebase/analytics-compat",sS="@firebase/analytics",aS="@firebase/app-check-compat",rS="@firebase/app-check",uS="@firebase/auth",oS="@firebase/auth-compat",cS="@firebase/database",fS="@firebase/data-connect",hS="@firebase/database-compat",dS="@firebase/functions",_S="@firebase/functions-compat",mS="@firebase/installations",gS="@firebase/installations-compat",pS="@firebase/messaging",yS="@firebase/messaging-compat",vS="@firebase/performance",bS="@firebase/performance-compat",SS="@firebase/remote-config",ES="@firebase/remote-config-compat",CS="@firebase/storage",TS="@firebase/storage-compat",AS="@firebase/firestore",wS="@firebase/ai",NS="@firebase/firestore-compat",RS="firebase",DS="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="[DEFAULT]",OS={[iu]:"fire-core",[iS]:"fire-core-compat",[sS]:"fire-analytics",[lS]:"fire-analytics-compat",[rS]:"fire-app-check",[aS]:"fire-app-check-compat",[uS]:"fire-auth",[oS]:"fire-auth-compat",[cS]:"fire-rtdb",[fS]:"fire-data-connect",[hS]:"fire-rtdb-compat",[dS]:"fire-fn",[_S]:"fire-fn-compat",[mS]:"fire-iid",[gS]:"fire-iid-compat",[pS]:"fire-fcm",[yS]:"fire-fcm-compat",[vS]:"fire-perf",[bS]:"fire-perf-compat",[SS]:"fire-rc",[ES]:"fire-rc-compat",[CS]:"fire-gcs",[TS]:"fire-gcs-compat",[AS]:"fire-fst",[NS]:"fire-fst-compat",[wS]:"fire-vertex","fire-js":"fire-js",[RS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new Map,Vl=new Map,jl=new Map;function da(s,n){try{s.container.addComponent(n)}catch(l){Bn.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,l)}}function Wp(s,n){s.container.addOrOverwriteComponent(n)}function Ql(s){const n=s.name;if(jl.has(n))return Bn.debug(`There were multiple attempts to register component ${n}.`),!1;jl.set(n,s);for(const l of gi.values())da(l,s);for(const l of Vl.values())da(l,s);return!0}function Jp(s,n){const l=s.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),s.container.getProvider(n)}function MS(s,n,l=mi){Jp(s,n).clearInstance(l)}function eh(s){return s.options!==void 0}function $p(s){return eh(s)?!1:"authIdToken"in s||"appCheckToken"in s||"releaseOnDeref"in s||"automaticDataCollectionEnabled"in s}function ey(s){return s==null?!1:s.settings!==void 0}function xS(){jl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lt=new pu("app","Firebase",zS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ty=class{constructor(n,l,a){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Lt.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(s,n){const l=eu(s.split(".")[1]);if(l===null){console.error(`FirebaseServerApp ${n} is invalid: second part could not be parsed.`);return}if(JSON.parse(l).exp===void 0){console.error(`FirebaseServerApp ${n} is invalid: expiration claim could not be parsed`);return}const u=JSON.parse(l).exp*1e3,f=new Date().getTime();u-f<=0&&console.error(`FirebaseServerApp ${n} is invalid: the token has expired.`)}class US extends ty{constructor(n,l,a,u){const f=l.automaticDataCollectionEnabled!==void 0?l.automaticDataCollectionEnabled:!0,h={name:a,automaticDataCollectionEnabled:f};if(n.apiKey!==void 0)super(n,h,u);else{const _=n;super(_.options,h,u)}this._serverConfig={automaticDataCollectionEnabled:f,...l},this._serverConfig.authIdToken&&Kg(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&Kg(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,l.releaseOnDeref=void 0,zn(iu,wf,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(n){this.isDeleted||(this._refCount++,n!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(n,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ih(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Lt.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=DS;function nh(s,n={}){let l=s;typeof n!="object"&&(n={name:n});const a={name:mi,automaticDataCollectionEnabled:!0,...n},u=a.name;if(typeof u!="string"||!u)throw Lt.create("bad-app-name",{appName:String(u)});if(l||(l=Ff()),!l)throw Lt.create("no-options");const f=gi.get(u);if(f){if(nu(l,f.options)&&nu(a,f.config))return f;throw Lt.create("duplicate-app",{appName:u})}const h=new Wf(u);for(const g of jl.values())h.addComponent(g);const _=new ty(l,a,h);return gi.set(u,_),_}function LS(s,n={}){if(Sb()&&!Xp())throw Lt.create("invalid-server-app-environment");let l,a=n||{};if(s&&(eh(s)?l=s.options:$p(s)?a=s:l=s),a.automaticDataCollectionEnabled===void 0&&(a.automaticDataCollectionEnabled=!0),l||(l=Ff()),!l)throw Lt.create("no-options");const u={...a,...l};u.releaseOnDeref!==void 0&&delete u.releaseOnDeref;const f=y=>[...y].reduce((b,S)=>Math.imul(31,b)+S.charCodeAt(0)|0,0);if(a.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Lt.create("finalization-registry-not-supported",{});const h=""+f(JSON.stringify(u)),_=Vl.get(h);if(_)return _.incRefCount(a.releaseOnDeref),_;const g=new Wf(h);for(const y of jl.values())g.addComponent(y);const m=new US(l,a,h,g);return Vl.set(h,m),m}function BS(s=mi){const n=gi.get(s);if(!n&&s===mi&&Ff())return nh();if(!n)throw Lt.create("no-app",{appName:s});return n}function IS(){return Array.from(gi.values())}async function ih(s){let n=!1;const l=s.name;gi.has(l)?(n=!0,gi.delete(l)):Vl.has(l)&&s.decRefCount()<=0&&(Vl.delete(l),n=!0),n&&(await Promise.all(s.container.getProviders().map(a=>a.delete())),s.isDeleted=!0)}function zn(s,n,l){let a=OS[s]??s;l&&(a+=`-${l}`);const u=a.match(/\s|\//),f=n.match(/\s|\//);if(u||f){const h=[`Unable to register library "${a}" with version "${n}":`];u&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Bn.warn(h.join(" "));return}Ql(new Ln(`${a}-version`,()=>({library:a,version:n}),"VERSION"))}function ny(s,n){if(s!==null&&typeof s!="function")throw Lt.create("invalid-log-argument");Vb(s,n)}function iy(s){Gb(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="firebase-heartbeat-database",kS=1,_a="firebase-heartbeat-store";let df=null;function ly(){return df||(df=Jb(HS,kS,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(_a)}catch(l){console.warn(l)}}}}).catch(s=>{throw Lt.create("idb-open",{originalErrorMessage:s.message})})),df}async function qS(s){try{const l=(await ly()).transaction(_a),a=await l.objectStore(_a).get(sy(s));return await l.done,a}catch(n){if(n instanceof Jl)Bn.warn(n.message);else{const l=Lt.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Bn.warn(l.message)}}}async function Fg(s,n){try{const a=(await ly()).transaction(_a,"readwrite");await a.objectStore(_a).put(n,sy(s)),await a.done}catch(l){if(l instanceof Jl)Bn.warn(l.message);else{const a=Lt.create("idb-set",{originalErrorMessage:l==null?void 0:l.message});Bn.warn(a.message)}}}function sy(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=1024,GS=30;class VS{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new QS(l),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var n,l;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Zg();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((l=this._heartbeatsCache)==null?void 0:l.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(h=>h.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:u}),this._heartbeatsCache.heartbeats.length>GS){const h=XS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Bn.warn(a)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const l=Zg(),{heartbeatsToSend:a,unsentEntries:u}=jS(this._heartbeatsCache.heartbeats),f=$r(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=l,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(l){return Bn.warn(l),""}}}function Zg(){return new Date().toISOString().substring(0,10)}function jS(s,n=YS){const l=[];let a=s.slice();for(const u of s){const f=l.find(h=>h.agent===u.agent);if(f){if(f.dates.push(u.date),Wg(l)>n){f.dates.pop();break}}else if(l.push({agent:u.agent,dates:[u.date]}),Wg(l)>n){l.pop();break}a=a.slice(1)}return{heartbeatsToSend:l,unsentEntries:a}}class QS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tb()?Ab().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await qS(this.app);return l!=null&&l.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const a=await this.read();return Fg(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const a=await this.read();return Fg(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...n.heartbeats]})}else return}}function Wg(s){return $r(JSON.stringify({version:2,heartbeats:s})).length}function XS(s){if(s.length===0)return-1;let n=0,l=s[0].date;for(let a=1;a<s.length;a++)s[a].date<l&&(l=s[a].date,n=a);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(s){Ql(new Ln("platform-logger",n=>new tS(n),"PRIVATE")),Ql(new Ln("heartbeat",n=>new VS(n),"PRIVATE")),zn(iu,wf,s),zn(iu,wf,"esm2020"),zn("fire-js","")}PS("");const KS=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Jl,SDK_VERSION:th,_DEFAULT_ENTRY_NAME:mi,_addComponent:da,_addOrOverwriteComponent:Wp,_apps:gi,_clearComponents:xS,_components:jl,_getProvider:Jp,_isFirebaseApp:eh,_isFirebaseServerApp:ey,_isFirebaseServerAppSettings:$p,_registerComponent:Ql,_removeServiceInstance:MS,_serverApps:Vl,deleteApp:ih,getApp:BS,getApps:IS,initializeApp:nh,initializeServerApp:LS,onLog:ny,registerVersion:zn,setLogLevel:iy},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(n,l){this._delegate=n,this.firebase=l,da(n,new Ln("app-compat",()=>this,"PUBLIC")),this.container=n.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this._delegate.automaticDataCollectionEnabled=n}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(n=>{this._delegate.checkDestroyed(),n()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),ih(this._delegate)))}_getService(n,l=mi){var u;this._delegate.checkDestroyed();const a=this._delegate.container.getProvider(n);return!a.isInitialized()&&((u=a.getComponent())==null?void 0:u.instantiationMode)==="EXPLICIT"&&a.initialize(),a.getImmediate({identifier:l})}_removeServiceInstance(n,l=mi){this._delegate.container.getProvider(n).clearInstance(l)}_addComponent(n){da(this._delegate,n)}_addOrOverwriteComponent(n){Wp(this._delegate,n)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Jg=new pu("app-compat","Firebase",ZS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(s){const n={},l={__esModule:!0,initializeApp:f,app:u,registerVersion:zn,setLogLevel:iy,onLog:ny,apps:null,SDK_VERSION:th,INTERNAL:{registerComponent:_,removeApp:a,useAsService:g,modularAPIs:KS}};l.default=l,Object.defineProperty(l,"apps",{get:h});function a(m){delete n[m]}function u(m){if(m=m||mi,!Bt(n,m))throw Jg.create("no-app",{appName:m});return n[m]}u.App=s;function f(m,y={}){const b=nh(m,y);if(Bt(n,b.name))return n[b.name];const S=new s(b,l);return n[b.name]=S,S}function h(){return Object.keys(n).map(m=>n[m])}function _(m){const y=m.name,b=y.replace("-compat","");if(Ql(m)&&m.type==="PUBLIC"){const S=(z=u())=>{if(typeof z[b]!="function")throw Jg.create("invalid-app-argument",{appName:y});return z[b]()};m.serviceProps!==void 0&&fa(S,m.serviceProps),l[b]=S,s.prototype[b]=function(...z){return this._getService.bind(this,y).apply(this,m.multipleInstances?z:[])}}return m.type==="PUBLIC"?l[b]:null}function g(m,y){return y==="serverAuth"?null:y}return l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(){const s=WS(FS);s.INTERNAL={...s.INTERNAL,createFirebaseNamespace:ay,extendNamespace:n,createSubscribe:zb,ErrorFactory:pu,deepExtend:fa};function n(l){fa(s,l)}return s}const JS=ay();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=new vu("@firebase/app-compat"),$S="@firebase/app-compat",eE="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(s){zn($S,eE,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const s=jp();if(s.firebase!==void 0){$g.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const n=s.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&$g.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const ma=JS;tE();var nE="firebase",iE="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ma.registerVersion(nE,iE,"app-compat");var ep={};const tp="@firebase/database",np="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry="";function uy(s){ry=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Ge(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:ha(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return Bt(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const n=window[s];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new lE(n)}}catch{}return new sE},Qi=oy("localStorage"),Nf=oy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new vu("@firebase/database"),cy=(function(){let s=1;return function(){return s++}})(),fy=function(s){const n=Bb(s),l=new xb;l.update(n);const a=l.digest();return Kf.encodeByteArray(a)},Aa=function(...s){let n="";for(let l=0;l<s.length;l++){const a=s[l];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?n+=Aa.apply(null,a):typeof a=="object"?n+=Ge(a):n+=a,n+=" "}return n};let Xi=null,ip=!0;const hy=function(s,n){L(!n||s===!0||s===!1,"Can't turn on custom loggers persistently."),s===!0?(Yl.logLevel=Ee.VERBOSE,Xi=Yl.log.bind(Yl),n&&Nf.set("logging_enabled",!0)):typeof s=="function"?Xi=s:(Xi=null,Nf.remove("logging_enabled"))},Ze=function(...s){if(ip===!0&&(ip=!1,Xi===null&&Nf.get("logging_enabled")===!0&&hy(!0)),Xi){const n=Aa.apply(null,s);Xi(n)}},wa=function(s){return function(...n){Ze(s,...n)}},Rf=function(...s){const n="FIREBASE INTERNAL ERROR: "+Aa(...s);Yl.error(n)},_n=function(...s){const n=`FIREBASE FATAL ERROR: ${Aa(...s)}`;throw Yl.error(n),new Error(n)},rt=function(...s){const n="FIREBASE WARNING: "+Aa(...s);Yl.warn(n)},aE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},bu=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},rE=function(s){if(document.readyState==="complete")s();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},pi="[MIN_NAME]",In="[MAX_NAME]",Wi=function(s,n){if(s===n)return 0;if(s===pi||n===In)return-1;if(n===pi||s===In)return 1;{const l=lp(s),a=lp(n);return l!==null?a!==null?l-a===0?s.length-n.length:l-a:-1:a!==null?1:s<n?-1:1}},uE=function(s,n){return s===n?0:s<n?-1:1},na=function(s,n){if(n&&s in n)return n[s];throw new Error("Missing required key ("+s+") in object: "+Ge(n))},lh=function(s){if(typeof s!="object"||s===null)return Ge(s);const n=[];for(const a in s)n.push(a);n.sort();let l="{";for(let a=0;a<n.length;a++)a!==0&&(l+=","),l+=Ge(n[a]),l+=":",l+=lh(s[n[a]]);return l+="}",l},dy=function(s,n){const l=s.length;if(l<=n)return[s];const a=[];for(let u=0;u<l;u+=n)u+n>l?a.push(s.substring(u,l)):a.push(s.substring(u,u+n));return a};function We(s,n){for(const l in s)s.hasOwnProperty(l)&&n(l,s[l])}const _y=function(s){L(!bu(s),"Invalid JSON number");const n=11,l=52,a=(1<<n-1)-1;let u,f,h,_,g;s===0?(f=0,h=0,u=1/s===-1/0?1:0):(u=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(_=Math.min(Math.floor(Math.log(s)/Math.LN2),a),f=_+a,h=Math.round(s*Math.pow(2,l-_)-Math.pow(2,l))):(f=0,h=Math.round(s/Math.pow(2,1-a-l))));const m=[];for(g=l;g;g-=1)m.push(h%2?1:0),h=Math.floor(h/2);for(g=n;g;g-=1)m.push(f%2?1:0),f=Math.floor(f/2);m.push(u?1:0),m.reverse();const y=m.join("");let b="";for(g=0;g<64;g+=8){let S=parseInt(y.substr(g,8),2).toString(16);S.length===1&&(S="0"+S),b=b+S}return b.toLowerCase()},oE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function fE(s,n){let l="Unknown Error";s==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?l="Client doesn't have permission to access the desired data.":s==="unavailable"&&(l="The service is unavailable");const a=new Error(s+" at "+n._path.toString()+": "+l);return a.code=s.toUpperCase(),a}const hE=new RegExp("^-?(0*)\\d{1,10}$"),dE=-2147483648,_E=2147483647,lp=function(s){if(hE.test(s)){const n=Number(s);if(n>=dE&&n<=_E)return n}return null},$l=function(s){try{s()}catch(n){setTimeout(()=>{const l=n.stack||"";throw rt("Exception was thrown by user callback.",l),n},Math.floor(0))}},mE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ra=function(s,n){const l=setTimeout(s,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,ey(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l==null?void 0:l.getImmediate({optional:!0}),this.appCheck||l==null||l.get().then(a=>this.appCheck=a)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,a)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,a):l(null)},0)})}addTokenChangeListener(n){var l;(l=this.appCheckProvider)==null||l.get().then(a=>a.addTokenListener(n))}notifyForInvalidToken(){rt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(n,l,a){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(Ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,a)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,a):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rt(n)}}class Gl{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Gl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="5",my="v",gy="s",py="r",yy="f",vy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,by="ls",Sy="p",Df="ac",Ey="websocket",Cy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(n,l,a,u,f=!1,h="",_=!1,g=!1,m=null){this.secure=l,this.namespace=a,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=_,this.isUsingEmulator=g,this.emulatorOptions=m,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qi.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Qi.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function yE(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Ay(s,n,l){L(typeof n=="string","typeof type must == string"),L(typeof l=="object","typeof params must == object");let a;if(n===Ey)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(n===Cy)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);yE(s)&&(l.ns=s.namespace);const u=[];return We(l,(f,h)=>{u.push(f+"="+h)}),a+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.counters_={}}incrementCounter(n,l=1){Bt(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return ob(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f={},mf={};function ah(s){const n=s.toString();return _f[n]||(_f[n]=new vE),_f[n]}function bE(s,n){const l=s.toString();return mf[l]||(mf[l]=n()),mf[l]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<a.length;++u)a[u]&&$l(()=>{this.onMessage_(a[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="start",EE="close",CE="pLPCommand",TE="pRTLPCB",wy="id",Ny="pw",Ry="ser",AE="cb",wE="seg",NE="ts",RE="d",DE="dframe",Dy=1870,Oy=30,OE=Dy-Oy,ME=25e3,xE=3e4;class oi{constructor(n,l,a,u,f,h,_){this.connId=n,this.repoInfo=l,this.applicationId=a,this.appCheckToken=u,this.authToken=f,this.transportSessionId=h,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wa(n),this.stats_=ah(l),this.urlFn=g=>(this.appCheckToken&&(g[Df]=this.appCheckToken),Ay(l,Cy,g))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new SE(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(xE)),rE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rh((...f)=>{const[h,_,g,m,y]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===sp)this.id=_,this.password=g;else if(h===EE)_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,_]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,_)},()=>{this.onClosed_()},this.urlFn);const a={};a[sp]="t",a[Ry]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[AE]=this.scriptTagHolder.uniqueCallbackIdentifier),a[my]=sh,this.transportSessionId&&(a[gy]=this.transportSessionId),this.lastSessionId&&(a[by]=this.lastSessionId),this.applicationId&&(a[Sy]=this.applicationId),this.appCheckToken&&(a[Df]=this.appCheckToken),typeof location<"u"&&location.hostname&&vy.test(location.hostname)&&(a[py]=yy);const u=this.urlFn(a);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){oi.forceAllow_=!0}static forceDisallow(){oi.forceDisallow_=!0}static isAvailable(){return oi.forceAllow_?!0:!oi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!oE()&&!cE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=Ge(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const a=Vp(l),u=dy(a,OE);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const a={};a[DE]="t",a[wy]=n,a[Ny]=l,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=Ge(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class rh{constructor(n,l,a,u){this.onDisconnect=a,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cy(),window[CE+this.uniqueCallbackIdentifier]=n,window[TE+this.uniqueCallbackIdentifier]=l,this.myIFrame=rh.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(_){Ze("frame writing exception"),_.stack&&Ze(_.stack),Ze(_)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Ze("No IE domain setting required")}catch{const a=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[wy]=this.myID,n[Ny]=this.myPW,n[Ry]=this.currentSerial;let l=this.urlFn(n),a="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Oy+a.length<=Dy;){const h=this.pendingSegs.shift();a=a+"&"+wE+u+"="+h.seg+"&"+NE+u+"="+h.ts+"&"+RE+u+"="+h.d,u++}return l=l+a,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,a){this.pendingSegs.push({seg:n,ts:l,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const a=()=>{this.outstandingRequests.delete(l),this.newRequest_()},u=setTimeout(a,Math.floor(ME)),f=()=>{clearTimeout(u),a()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=n,a.onload=a.onreadystatechange=function(){const u=a.readyState;(!u||u==="loaded"||u==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),l())},a.onerror=()=>{Ze("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=16384,UE=45e3;let lu=null;typeof MozWebSocket<"u"?lu=MozWebSocket:typeof WebSocket<"u"&&(lu=WebSocket);class Kt{constructor(n,l,a,u,f,h,_){this.connId=n,this.applicationId=a,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wa(this.connId),this.stats_=ah(l),this.connURL=Kt.connectionURL_(l,h,_,u,a),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,a,u,f){const h={};return h[my]=sh,typeof location<"u"&&location.hostname&&vy.test(location.hostname)&&(h[py]=yy),l&&(h[gy]=l),a&&(h[by]=a),u&&(h[Df]=u),f&&(h[Sy]=f),Ay(n,Ey,h)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qi.set("previous_websocket_failure",!0);try{let a;Cb(),this.mySock=new lu(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const u=a.message||a.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const u=a.message||a.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){Kt.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(l);a&&a.length>1&&parseFloat(a[1])<4.4&&(n=!0)}return!n&&lu!==null&&!Kt.forceDisallow_}static previouslyFailed(){return Qi.isInMemoryStorage||Qi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const a=ha(l);this.onMessage(a)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(L(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const a=this.extractFrameCount_(l);a!==null&&this.appendFrame_(a)}}send(n){this.resetKeepAlive();const l=Ge(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const a=dy(l,zE);a.length>1&&this.sendString_(String(a.length));for(let u=0;u<a.length;u++)this.sendString_(a[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(UE))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kt.responsesRequiredToBeHealthy=2;Kt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{static get ALL_TRANSPORTS(){return[oi,Kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=Kt&&Kt.isAvailable();let a=l&&!Kt.previouslyFailed();if(n.webSocketOnly&&(l||rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Kt];else{const u=this.transports_=[];for(const f of Xl.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f);Xl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=6e4,BE=5e3,IE=10*1024,HE=100*1024,gf="t",ap="d",kE="s",rp="r",qE="e",up="o",op="a",cp="n",fp="p",YE="h";class GE{constructor(n,l,a,u,f,h,_,g,m,y){this.id=n,this.repoInfo_=l,this.applicationId_=a,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=h,this.onReady_=_,this.onDisconnect_=g,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wa("c:"+this.id+":"),this.transportManager_=new Xl(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,a)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=ra(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>IE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(gf in n){const l=n[gf];l===op?this.upgradeIfSecondaryHealthy_():l===rp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===up&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=na("t",n),a=na("d",n);if(l==="c")this.onSecondaryControl_(a);else if(l==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:fp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:op,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:cp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=na("t",n),a=na("d",n);l==="c"?this.onControl_(a):l==="d"&&this.onDataMessage_(a)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=na(gf,n);if(ap in n){const a=n[ap];if(l===YE){const u={...a};this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(l===cp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===kE?this.onConnectionShutdown_(a):l===rp?this.onReset_(a):l===qE?Rf("Server Error: "+a):l===up?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rf("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,a=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),sh!==a&&rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,a),ra(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(LE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ra(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(BE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:fp,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{put(n,l,a,u){}merge(n,l,a,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,a){}onDisconnectMerge(n,l,a){}onDisconnectCancel(n,l){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(n){this.allowedEvents_=n,this.listeners_={},L(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const a=[...this.listeners_[n]];for(let u=0;u<a.length;u++)a[u].callback.apply(a[u].context,l)}}on(n,l,a){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:a});const u=this.getInitialEvent(n);u&&l.apply(a,u)}off(n,l,a){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let f=0;f<u.length;f++)if(u[f].callback===l&&(!a||a===u[f].context)){u.splice(f,1);return}}validateEventType_(n){L(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends xy{static getInstance(){return new su}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Qp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return L(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=32,dp=768;class _e{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let a=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[a]=this.pieces_[u],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function he(){return new _e("")}function te(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function yi(s){return s.pieces_.length-s.pieceNum_}function Ce(s){let n=s.pieceNum_;return n<s.pieces_.length&&n++,new _e(s.pieces_,n)}function uh(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function VE(s){let n="";for(let l=s.pieceNum_;l<s.pieces_.length;l++)s.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(s.pieces_[l])));return n||"/"}function ga(s,n=0){return s.pieces_.slice(s.pieceNum_+n)}function zy(s){if(s.pieceNum_>=s.pieces_.length)return null;const n=[];for(let l=s.pieceNum_;l<s.pieces_.length-1;l++)n.push(s.pieces_[l]);return new _e(n,0)}function De(s,n){const l=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)l.push(s.pieces_[a]);if(n instanceof _e)for(let a=n.pieceNum_;a<n.pieces_.length;a++)l.push(n.pieces_[a]);else{const a=n.split("/");for(let u=0;u<a.length;u++)a[u].length>0&&l.push(a[u])}return new _e(l,0)}function ne(s){return s.pieceNum_>=s.pieces_.length}function ct(s,n){const l=te(s),a=te(n);if(l===null)return n;if(l===a)return ct(Ce(s),Ce(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+s+")")}function jE(s,n){const l=ga(s,0),a=ga(n,0);for(let u=0;u<l.length&&u<a.length;u++){const f=Wi(l[u],a[u]);if(f!==0)return f}return l.length===a.length?0:l.length<a.length?-1:1}function oh(s,n){if(yi(s)!==yi(n))return!1;for(let l=s.pieceNum_,a=n.pieceNum_;l<=s.pieces_.length;l++,a++)if(s.pieces_[l]!==n.pieces_[a])return!1;return!0}function Ft(s,n){let l=s.pieceNum_,a=n.pieceNum_;if(yi(s)>yi(n))return!1;for(;l<s.pieces_.length;){if(s.pieces_[l]!==n.pieces_[a])return!1;++l,++a}return!0}class QE{constructor(n,l){this.errorPrefix_=l,this.parts_=ga(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=yu(this.parts_[a]);Uy(this)}}function XE(s,n){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=yu(n),Uy(s)}function PE(s){const n=s.parts_.pop();s.byteLength_-=yu(n),s.parts_.length>0&&(s.byteLength_-=1)}function Uy(s){if(s.byteLength_>dp)throw new Error(s.errorPrefix_+"has a key path longer than "+dp+" bytes ("+s.byteLength_+").");if(s.parts_.length>hp)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+hp+") or object contains a cycle "+ji(s))}function ji(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends xy{static getInstance(){return new ch}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const a=!document[n];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(n){return L(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=1e3,KE=300*1e3,_p=30*1e3,FE=1.3,ZE=3e4,WE="server_kill",mp=3;class Un extends My{constructor(n,l,a,u,f,h,_,g){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=a,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=_,this.authOverride_=g,this.id=Un.nextPersistentConnectionId_++,this.log_=wa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ia,this.maxReconnectDelay_=KE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ch.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&su.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,a){const u=++this.requestNumber_,f={r:u,a:n,b:l};this.log_(Ge(f)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),a&&(this.requestCBHash_[u]=a)}get(n){this.initConnection_();const l=new pt,u={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const _=h.d;h.s==="ok"?l.resolve(_):l.reject(_)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,a,u){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),L(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const _={onComplete:u,hashFn:l,query:n,tag:a};this.listens.get(h).set(f,_),this.connected_&&this.sendListen_(_)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,a=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(a)})}sendListen_(n){const l=n.query,a=l._path.toString(),u=l._queryIdentifier;this.log_("Listen on "+a+" for "+u);const f={p:a},h="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,_=>{const g=_.d,m=_.s;Un.warnOnListenWarnings_(g,l),(this.listens.get(a)&&this.listens.get(a).get(u))===n&&(this.log_("listen response",_),m!=="ok"&&this.removeListen_(a,u),n.onComplete&&n.onComplete(m,g))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&Bt(n,"w")){const a=Pi(n,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const u='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Ob(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=_p)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=Db(n)?"auth":"gauth",a={cred:n};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(l,a,u=>{const f=u.s,h=u.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,a=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,a)})}unlisten(n,l){const a=n._path.toString(),u=n._queryIdentifier;this.log_("Unlisten called for "+a+" "+u),L(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,u)&&this.connected_&&this.sendUnlisten_(a,u,n._queryObject,l)}sendUnlisten_(n,l,a,u){this.log_("Unlisten on "+n+" for "+l);const f={p:n},h="n";u&&(f.q=a,f.t=u),this.sendRequest(h,f)}onDisconnectPut(n,l,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:a})}onDisconnectMerge(n,l,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:a})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,a,u){const f={p:l,d:a};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{u&&setTimeout(()=>{u(h.s,h.d)},Math.floor(0))})}put(n,l,a,u){this.putInternal("p",n,l,a,u)}merge(n,l,a,u){this.putInternal("m",n,l,a,u)}putInternal(n,l,a,u,f){this.initConnection_();const h={p:l,d:a};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:u}),this.outstandingPutCount_++;const _=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(_):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,a=this.outstandingPuts_[n].request,u=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,a,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,a=>{if(a.s!=="ok"){const f=a.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ge(n));const l=n.r,a=this.requestCBHash_[l];a&&(delete this.requestCBHash_[l],a(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):Rf("Unrecognized action received from server: "+Ge(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ia,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ia,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ZE&&(this.reconnectDelay_=ia),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*FE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+Un.nextConnectionId_++,f=this.lastSessionId;let h=!1,_=null;const g=function(){_?_.close():(h=!0,a())},m=function(b){L(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(b)};this.realtime_={close:g,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,S]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);h?Ze("getToken() completed but was canceled"):(Ze("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=S&&S.token,_=new GE(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,a,z=>{rt(z+" ("+this.repoInfo_.toString()+")"),this.interrupt(WE)},f))}catch(b){this.log_("Failed to get token: "+b),h||(this.repoInfo_.nodeAdmin&&rt(b),g())}}}interrupt(n){Ze("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ze("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Ef(this.interruptReasons_)&&(this.reconnectDelay_=ia,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let a;l?a=l.map(f=>lh(f)).join("$"):a="default";const u=this.removeListen_(n,a);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(n,l){const a=new _e(n).toString();let u;if(this.listens.has(a)){const f=this.listens.get(a);u=f.get(l),f.delete(l),f.size===0&&this.listens.delete(a)}else u=void 0;return u}onAuthRevoked_(n,l){Ze("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=mp&&(this.reconnectDelay_=_p,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){Ze("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=mp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+ry.replace(/\./g,"-")]=1,Qp()?n["framework.cordova"]=1:Eb()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=su.getInstance().currentlyOnline();return Ef(this.interruptReasons_)&&n}}Un.nextPersistentConnectionId_=0;Un.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new le(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const a=new le(pi,n),u=new le(pi,l);return this.compare(a,u)!==0}minPost(){return le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zr;class Ly extends Su{static get __EMPTY_NODE(){return Zr}static set __EMPTY_NODE(n){Zr=n}compare(n,l){return Wi(n.name,l.name)}isDefinedOn(n){throw Wl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return le.MIN}maxPost(){return new le(In,Zr)}makePost(n,l){return L(typeof n=="string","KeyIndex indexValue must always be a string."),new le(n,Zr)}toString(){return".key"}}const dn=new Ly;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(n,l,a,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=l?a(n.key,l):1,u&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class Fe{constructor(n,l,a,u,f){this.key=n,this.value=l,this.color=a??Fe.RED,this.left=u??yt.EMPTY_NODE,this.right=f??yt.EMPTY_NODE}copy(n,l,a,u,f){return new Fe(n??this.key,l??this.value,a??this.color,u??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,a){let u=this;const f=a(n,u.key);return f<0?u=u.copy(null,null,null,u.left.insert(n,l,a),null):f===0?u=u.copy(null,l,null,null,null):u=u.copy(null,null,null,null,u.right.insert(n,l,a)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return yt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let a,u;if(a=this,l(n,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(n,l),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),l(n,a.key)===0){if(a.right.isEmpty())return yt.EMPTY_NODE;u=a.right.min_(),a=a.copy(u.key,u.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(n,l))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}Fe.RED=!0;Fe.BLACK=!1;class JE{copy(n,l,a,u,f){return this}insert(n,l,a){return new Fe(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class yt{constructor(n,l=yt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new yt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,Fe.BLACK,null,null))}remove(n){return new yt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Fe.BLACK,null,null))}get(n){let l,a=this.root_;for(;!a.isEmpty();){if(l=this.comparator_(n,a.key),l===0)return a.value;l<0?a=a.left:l>0&&(a=a.right)}return null}getPredecessorKey(n){let l,a=this.root_,u=null;for(;!a.isEmpty();)if(l=this.comparator_(n,a.key),l===0){if(a.left.isEmpty())return u?u.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else l<0?a=a.left:l>0&&(u=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Wr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new Wr(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new Wr(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new Wr(this.root_,null,this.comparator_,!0,n)}}yt.EMPTY_NODE=new JE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(s,n){return Wi(s.name,n.name)}function fh(s,n){return Wi(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of;function eC(s){Of=s}const By=function(s){return typeof s=="number"?"number:"+_y(s):"string:"+s},Iy=function(s){if(s.isLeafNode()){const n=s.val();L(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Bt(n,".sv"),"Priority must be a string or number.")}else L(s===Of||s.isEmpty(),"priority of unexpected type.");L(s===Of||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp;class Pe{static set __childrenNodeConstructor(n){gp=n}static get __childrenNodeConstructor(){return gp}constructor(n,l=Pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Iy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Pe(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ne(n)?this:te(n)===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:Pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const a=te(n);return a===null?l:l.isEmpty()&&a!==".priority"?this:(L(a!==".priority"||yi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,Pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+By(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=_y(this.value_):n+=this.value_,this.lazyHash_=fy(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Pe.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Pe.__childrenNodeConstructor?-1:(L(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,a=typeof this.value_,u=Pe.VALUE_TYPE_ORDER.indexOf(l),f=Pe.VALUE_TYPE_ORDER.indexOf(a);return L(u>=0,"Unknown leaf type: "+l),L(f>=0,"Unknown leaf type: "+a),u===f?a==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}Pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hy,ky;function tC(s){Hy=s}function nC(s){ky=s}class iC extends Su{compare(n,l){const a=n.node.getPriority(),u=l.node.getPriority(),f=a.compareTo(u);return f===0?Wi(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return le.MIN}maxPost(){return new le(In,new Pe("[PRIORITY-POST]",ky))}makePost(n,l){const a=Hy(n);return new le(l,new Pe("[PRIORITY-POST]",a))}toString(){return".priority"}}const we=new iC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=Math.log(2);class sC{constructor(n){const l=f=>parseInt(Math.log(f)/lC,10),a=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const u=a(this.count);this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const au=function(s,n,l,a){s.sort(n);const u=function(g,m){const y=m-g;let b,S;if(y===0)return null;if(y===1)return b=s[g],S=l?l(b):b,new Fe(S,b.node,Fe.BLACK,null,null);{const z=parseInt(y/2,10)+g,B=u(g,z),X=u(z+1,m);return b=s[z],S=l?l(b):b,new Fe(S,b.node,Fe.BLACK,B,X)}},f=function(g){let m=null,y=null,b=s.length;const S=function(B,X){const $=b-B,xe=b;b-=B;const Le=u($+1,xe),ue=s[$],ut=l?l(ue):ue;z(new Fe(ut,ue.node,X,null,Le))},z=function(B){m?(m.left=B,m=B):(y=B,m=B)};for(let B=0;B<g.count;++B){const X=g.nextBitIsOne(),$=Math.pow(2,g.count-(B+1));X?S($,Fe.BLACK):(S($,Fe.BLACK),S($,Fe.RED))}return y},h=new sC(s.length),_=f(h);return new yt(a||n,_)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf;const ql={};class xn{static get Default(){return L(ql&&we,"ChildrenNode.ts has not been loaded"),pf=pf||new xn({".priority":ql},{".priority":we}),pf}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=Pi(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof yt?l:null}hasIndex(n){return Bt(this.indexSet_,n.toString())}addIndex(n,l){L(n!==dn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let u=!1;const f=l.getIterator(le.Wrap);let h=f.getNext();for(;h;)u=u||n.isDefinedOn(h.node),a.push(h),h=f.getNext();let _;u?_=au(a,n.getCompare()):_=ql;const g=n.toString(),m={...this.indexSet_};m[g]=n;const y={...this.indexes_};return y[g]=_,new xn(y,m)}addToIndexes(n,l){const a=tu(this.indexes_,(u,f)=>{const h=Pi(this.indexSet_,f);if(L(h,"Missing index implementation for "+f),u===ql)if(h.isDefinedOn(n.node)){const _=[],g=l.getIterator(le.Wrap);let m=g.getNext();for(;m;)m.name!==n.name&&_.push(m),m=g.getNext();return _.push(n),au(_,h.getCompare())}else return ql;else{const _=l.get(n.name);let g=u;return _&&(g=g.remove(new le(n.name,_))),g.insert(n,n.node)}});return new xn(a,this.indexSet_)}removeFromIndexes(n,l){const a=tu(this.indexes_,u=>{if(u===ql)return u;{const f=l.get(n.name);return f?u.remove(new le(n.name,f)):u}});return new xn(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la;class Q{static get EMPTY_NODE(){return la||(la=new Q(new yt(fh),null,xn.Default))}constructor(n,l,a){this.children_=n,this.priorityNode_=l,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&Iy(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||la}updatePriority(n){return this.children_.isEmpty()?this:new Q(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?la:l}}getChild(n){const l=te(n);return l===null?this:this.getImmediateChild(l).getChild(Ce(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(L(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const a=new le(n,l);let u,f;l.isEmpty()?(u=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(a,this.children_)):(u=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(a,this.children_));const h=u.isEmpty()?la:this.priorityNode_;return new Q(u,h,f)}}updateChild(n,l){const a=te(n);if(a===null)return l;{L(te(n)!==".priority"||yi(n)===1,".priority must be the last token in a path");const u=this.getImmediateChild(a).updateChild(Ce(n),l);return this.updateImmediateChild(a,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let a=0,u=0,f=!0;if(this.forEachChild(we,(h,_)=>{l[h]=_.val(n),a++,f&&Q.INTEGER_REGEXP_.test(h)?u=Math.max(u,Number(h)):f=!1}),!n&&f&&u<2*a){const h=[];for(const _ in l)h[_]=l[_];return h}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+By(this.getPriority().val())+":"),this.forEachChild(we,(l,a)=>{const u=a.hash();u!==""&&(n+=":"+l+":"+u)}),this.lazyHash_=n===""?"":fy(n)}return this.lazyHash_}getPredecessorChildName(n,l,a){const u=this.resolveIndex_(a);if(u){const f=u.getPredecessorKey(new le(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const a=l.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new le(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const a=l.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new le(l,this.children_.get(l)):null}forEachChild(n,l){const a=this.resolveIndex_(n);return a?a.inorderTraversal(u=>l(u.name,u.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const a=this.resolveIndex_(l);if(a)return a.getIteratorFrom(n,u=>u);{const u=this.children_.getIteratorFrom(n.name,le.Wrap);let f=u.peek();for(;f!=null&&l.compare(f,n)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const a=this.resolveIndex_(l);if(a)return a.getReverseIteratorFrom(n,u=>u);{const u=this.children_.getReverseIteratorFrom(n.name,le.Wrap);let f=u.peek();for(;f!=null&&l.compare(f,n)>0;)u.getNext(),f=u.peek();return u}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Na?-1:0}withIndex(n){if(n===dn||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new Q(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===dn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const a=this.getIterator(we),u=l.getIterator(we);let f=a.getNext(),h=u.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=a.getNext(),h=u.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===dn?null:this.indexMap_.get(n.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aC extends Q{constructor(){super(new yt(fh),Q.EMPTY_NODE,xn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Q.EMPTY_NODE}isEmpty(){return!1}}const Na=new aC;Object.defineProperties(le,{MIN:{value:new le(pi,Q.EMPTY_NODE)},MAX:{value:new le(In,Na)}});Ly.__EMPTY_NODE=Q.EMPTY_NODE;Pe.__childrenNodeConstructor=Q;eC(Na);nC(Na);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=!0;function Me(s,n=null){if(s===null)return Q.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(n=s[".priority"]),L(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const l=s;return new Pe(l,Me(n))}if(!(s instanceof Array)&&rC){const l=[];let a=!1;if(We(s,(h,_)=>{if(h.substring(0,1)!=="."){const g=Me(_);g.isEmpty()||(a=a||!g.getPriority().isEmpty(),l.push(new le(h,g)))}}),l.length===0)return Q.EMPTY_NODE;const f=au(l,$E,h=>h.name,fh);if(a){const h=au(l,we.getCompare());return new Q(f,Me(n),new xn({".priority":h},{".priority":we}))}else return new Q(f,Me(n),xn.Default)}else{let l=Q.EMPTY_NODE;return We(s,(a,u)=>{if(Bt(s,a)&&a.substring(0,1)!=="."){const f=Me(u);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(a,f))}}),l.updatePriority(Me(n))}}tC(Me);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends Su{constructor(n){super(),this.indexPath_=n,L(!ne(n)&&te(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const a=this.extractChild(n.node),u=this.extractChild(l.node),f=a.compareTo(u);return f===0?Wi(n.name,l.name):f}makePost(n,l){const a=Me(n),u=Q.EMPTY_NODE.updateChild(this.indexPath_,a);return new le(l,u)}maxPost(){const n=Q.EMPTY_NODE.updateChild(this.indexPath_,Na);return new le(In,n)}toString(){return ga(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC extends Su{compare(n,l){const a=n.node.compareTo(l.node);return a===0?Wi(n.name,l.name):a}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(n,l){const a=Me(n);return new le(l,a)}toString(){return".value"}}const dh=new uC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(s){return{type:"value",snapshotNode:s}}function Pl(s,n){return{type:"child_added",snapshotNode:n,childName:s}}function pa(s,n){return{type:"child_removed",snapshotNode:n,childName:s}}function ya(s,n,l){return{type:"child_changed",snapshotNode:n,childName:s,oldSnap:l}}function oC(s,n){return{type:"child_moved",snapshotNode:n,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(n){this.index_=n}updateChild(n,l,a,u,f,h){L(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=n.getImmediateChild(l);return _.getChild(u).equals(a.getChild(u))&&_.isEmpty()===a.isEmpty()||(h!=null&&(a.isEmpty()?n.hasChild(l)?h.trackChildChange(pa(l,_)):L(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?h.trackChildChange(Pl(l,a)):h.trackChildChange(ya(l,a,_))),n.isLeafNode()&&a.isEmpty())?n:n.updateImmediateChild(l,a).withIndex(this.index_)}updateFullNode(n,l,a){return a!=null&&(n.isLeafNode()||n.forEachChild(we,(u,f)=>{l.hasChild(u)||a.trackChildChange(pa(u,f))}),l.isLeafNode()||l.forEachChild(we,(u,f)=>{if(n.hasChild(u)){const h=n.getImmediateChild(u);h.equals(f)||a.trackChildChange(ya(u,f,h))}else a.trackChildChange(Pl(u,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?Q.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(n){this.indexedFilter_=new _h(n.getIndex()),this.index_=n.getIndex(),this.startPost_=va.getStartPost_(n),this.endPost_=va.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,a=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&a}updateChild(n,l,a,u,f,h){return this.matches(new le(l,a))||(a=Q.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,a,u,f,h)}updateFullNode(n,l,a){l.isLeafNode()&&(l=Q.EMPTY_NODE);let u=l.withIndex(this.index_);u=u.updatePriority(Q.EMPTY_NODE);const f=this;return l.forEachChild(we,(h,_)=>{f.matches(new le(h,_))||(u=u.updateImmediateChild(h,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,a)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=l=>{const a=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new va(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,a,u,f,h){return this.rangedFilter_.matches(new le(l,a))||(a=Q.EMPTY_NODE),n.getImmediateChild(l).equals(a)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,a,u,f,h):this.fullLimitUpdateChild_(n,l,a,f,h)}updateFullNode(n,l,a){let u;if(l.isLeafNode()||l.isEmpty())u=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){u=Q.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const _=f.getNext();if(this.withinDirectionalStart(_))if(this.withinDirectionalEnd(_))u=u.updateImmediateChild(_.name,_.node),h++;else break;else continue}}else{u=l.withIndex(this.index_),u=u.updatePriority(Q.EMPTY_NODE);let f;this.reverse_?f=u.getReverseIterator(this.index_):f=u.getIterator(this.index_);let h=0;for(;f.hasNext();){const _=f.getNext();h<this.limit_&&this.withinDirectionalStart(_)&&this.withinDirectionalEnd(_)?h++:u=u.updateImmediateChild(_.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,a)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,a,u,f){let h;if(this.reverse_){const b=this.index_.getCompare();h=(S,z)=>b(z,S)}else h=this.index_.getCompare();const _=n;L(_.numChildren()===this.limit_,"");const g=new le(l,a),m=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),y=this.rangedFilter_.matches(g);if(_.hasChild(l)){const b=_.getImmediateChild(l);let S=u.getChildAfterChild(this.index_,m,this.reverse_);for(;S!=null&&(S.name===l||_.hasChild(S.name));)S=u.getChildAfterChild(this.index_,S,this.reverse_);const z=S==null?1:h(S,g);if(y&&!a.isEmpty()&&z>=0)return f!=null&&f.trackChildChange(ya(l,a,b)),_.updateImmediateChild(l,a);{f!=null&&f.trackChildChange(pa(l,b));const X=_.updateImmediateChild(l,Q.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(f!=null&&f.trackChildChange(Pl(S.name,S.node)),X.updateImmediateChild(S.name,S.node)):X}}else return a.isEmpty()?n:y&&h(m,g)>=0?(f!=null&&(f.trackChildChange(pa(m.name,m.node)),f.trackChildChange(Pl(l,a))),_.updateImmediateChild(l,a).updateImmediateChild(m.name,Q.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=we}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pi}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:In}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===we}copy(){const n=new Eu;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function fC(s){return s.loadsAllData()?new _h(s.getIndex()):s.hasLimit()?new cC(s):new va(s)}function hC(s,n){const l=s.copy();return l.limitSet_=!0,l.limit_=n,l.viewFrom_="l",l}function dC(s,n){const l=s.copy();return l.limitSet_=!0,l.limit_=n,l.viewFrom_="r",l}function Mf(s,n,l){const a=s.copy();return a.startSet_=!0,n===void 0&&(n=null),a.indexStartValue_=n,l!=null?(a.startNameSet_=!0,a.indexStartName_=l):(a.startNameSet_=!1,a.indexStartName_=""),a}function _C(s,n,l){let a;return s.index_===dn||l?a=Mf(s,n,l):a=Mf(s,n,In),a.startAfterSet_=!0,a}function xf(s,n,l){const a=s.copy();return a.endSet_=!0,n===void 0&&(n=null),a.indexEndValue_=n,l!==void 0?(a.endNameSet_=!0,a.indexEndName_=l):(a.endNameSet_=!1,a.indexEndName_=""),a}function mC(s,n,l){let a;return s.index_===dn||l?a=xf(s,n,l):a=xf(s,n,pi),a.endBeforeSet_=!0,a}function Cu(s,n){const l=s.copy();return l.index_=n,l}function pp(s){const n={};if(s.isDefault())return n;let l;if(s.index_===we?l="$priority":s.index_===dh?l="$value":s.index_===dn?l="$key":(L(s.index_ instanceof hh,"Unrecognized index type!"),l=s.index_.toString()),n.orderBy=Ge(l),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";n[a]=Ge(s.indexStartValue_),s.startNameSet_&&(n[a]+=","+Ge(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";n[a]=Ge(s.indexEndValue_),s.endNameSet_&&(n[a]+=","+Ge(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?n.limitToFirst=s.limit_:n.limitToLast=s.limit_),n}function yp(s){const n={};if(s.startSet_&&(n.sp=s.indexStartValue_,s.startNameSet_&&(n.sn=s.indexStartName_),n.sin=!s.startAfterSet_),s.endSet_&&(n.ep=s.indexEndValue_,s.endNameSet_&&(n.en=s.indexEndName_),n.ein=!s.endBeforeSet_),s.limitSet_){n.l=s.limit_;let l=s.viewFrom_;l===""&&(s.isViewFromLeft()?l="l":l="r"),n.vf=l}return s.index_!==we&&(n.i=s.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends My{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(L(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,a,u){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.log_=wa("p:rest:"),this.listens_={}}listen(n,l,a,u){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=ru.getListenId_(n,a),_={};this.listens_[h]=_;const g=pp(n._queryParams);this.restRequest_(f+".json",g,(m,y)=>{let b=y;if(m===404&&(b=null,m=null),m===null&&this.onDataUpdate_(f,b,!1,a),Pi(this.listens_,h)===_){let S;m?m===401?S="permission_denied":S="rest_error:"+m:S="ok",u(S,null)}})}unlisten(n,l){const a=ru.getListenId_(n,l);delete this.listens_[a]}get(n){const l=pp(n._queryParams),a=n._path.toString(),u=new pt;return this.restRequest_(a+".json",l,(f,h)=>{let _=h;f===404&&(_=null,f=null),f===null?(this.onDataUpdate_(a,_,!1,null),u.resolve(_)):u.reject(new Error(_))}),u.promise}refreshAuthToken(n){}restRequest_(n,l={},a){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(l.auth=u.accessToken),f&&f.token&&(l.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+Mb(l);this.log_("Sending REST request for "+h);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(a&&_.readyState===4){this.log_("REST Response for "+h+" received. status:",_.status,"response:",_.responseText);let g=null;if(_.status>=200&&_.status<300){try{g=ha(_.responseText)}catch{rt("Failed to parse JSON response for "+h+": "+_.responseText)}a(null,g)}else _.status!==401&&_.status!==404&&rt("Got unsuccessful REST response for "+h+" Status: "+_.status),a(_.status);a=null}},_.open("GET",h,!0),_.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(){return{value:null,children:new Map}}function es(s,n,l){if(ne(n))s.value=l,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(n,l);else{const a=te(n);s.children.has(a)||s.children.set(a,uu());const u=s.children.get(a);n=Ce(n),es(u,n,l)}}function zf(s,n){if(ne(n))return s.value=null,s.children.clear(),!0;if(s.value!==null){if(s.value.isLeafNode())return!1;{const l=s.value;return s.value=null,l.forEachChild(we,(a,u)=>{es(s,new _e(a),u)}),zf(s,n)}}else if(s.children.size>0){const l=te(n);return n=Ce(n),s.children.has(l)&&zf(s.children.get(l),n)&&s.children.delete(l),s.children.size===0}else return!0}function Uf(s,n,l){s.value!==null?l(n,s.value):pC(s,(a,u)=>{const f=new _e(n.toString()+"/"+a);Uf(u,f,l)})}function pC(s,n){s.children.forEach((l,a)=>{n(a,l)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&We(this.last_,(a,u)=>{l[a]=l[a]-u}),this.last_=n,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=10*1e3,vC=30*1e3,bC=300*1e3;class SC{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new yC(n);const a=vp+(vC-vp)*Math.random();ra(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const n=this.statsListener_.get(),l={};let a=!1;We(n,(u,f)=>{f>0&&Bt(this.statsToReport_,u)&&(l[u]=f,a=!0)}),a&&this.server_.reportStats(l),ra(this.reportStats_.bind(this),Math.floor(Math.random()*2*bC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(nn||(nn={}));function mh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ph(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(n,l,a){this.path=n,this.affectedTree=l,this.revert=a,this.type=nn.ACK_USER_WRITE,this.source=mh()}operationForChild(n){if(ne(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new _e(n));return new ou(he(),l,this.revert)}}else return L(te(this.path)===n,"operationForChild called for unrelated child."),new ou(Ce(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(n,l){this.source=n,this.path=l,this.type=nn.LISTEN_COMPLETE}operationForChild(n){return ne(this.path)?new ba(this.source,he()):new ba(this.source,Ce(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(n,l,a){this.source=n,this.path=l,this.snap=a,this.type=nn.OVERWRITE}operationForChild(n){return ne(this.path)?new Ki(this.source,he(),this.snap.getImmediateChild(n)):new Ki(this.source,Ce(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(n,l,a){this.source=n,this.path=l,this.children=a,this.type=nn.MERGE}operationForChild(n){if(ne(this.path)){const l=this.children.subtree(new _e(n));return l.isEmpty()?null:l.value?new Ki(this.source,he(),l.value):new Kl(this.source,he(),l)}else return L(te(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Kl(this.source,Ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(n,l,a){this.node_=n,this.fullyInitialized_=l,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(ne(n))return this.isFullyInitialized()&&!this.filtered_;const l=te(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function CC(s,n,l,a){const u=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(oC(h.childName,h.snapshotNode))}),sa(s,u,"child_removed",n,a,l),sa(s,u,"child_added",n,a,l),sa(s,u,"child_moved",f,a,l),sa(s,u,"child_changed",n,a,l),sa(s,u,"value",n,a,l),u}function sa(s,n,l,a,u,f){const h=a.filter(_=>_.type===l);h.sort((_,g)=>AC(s,_,g)),h.forEach(_=>{const g=TC(s,_,f);u.forEach(m=>{m.respondsTo(_.type)&&n.push(m.createEvent(g,s.query_))})})}function TC(s,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,s.index_)),n}function AC(s,n,l){if(n.childName==null||l.childName==null)throw Wl("Should only compare child_ events.");const a=new le(n.childName,n.snapshotNode),u=new le(l.childName,l.snapshotNode);return s.index_.compare(a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(s,n){return{eventCache:s,serverCache:n}}function ua(s,n,l,a){return Tu(new vi(n,l,a),s.serverCache)}function Yy(s,n,l,a){return Tu(s.eventCache,new vi(n,l,a))}function cu(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Fi(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf;const wC=()=>(yf||(yf=new yt(uE)),yf);class Ae{static fromObject(n){let l=new Ae(null);return We(n,(a,u)=>{l=l.set(new _e(a),u)}),l}constructor(n,l=wC()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:he(),value:this.value};if(ne(n))return null;{const a=te(n),u=this.children.get(a);if(u!==null){const f=u.findRootMostMatchingPathAndValue(Ce(n),l);return f!=null?{path:De(new _e(a),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(ne(n))return this;{const l=te(n),a=this.children.get(l);return a!==null?a.subtree(Ce(n)):new Ae(null)}}set(n,l){if(ne(n))return new Ae(l,this.children);{const a=te(n),f=(this.children.get(a)||new Ae(null)).set(Ce(n),l),h=this.children.insert(a,f);return new Ae(this.value,h)}}remove(n){if(ne(n))return this.children.isEmpty()?new Ae(null):new Ae(null,this.children);{const l=te(n),a=this.children.get(l);if(a){const u=a.remove(Ce(n));let f;return u.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,u),this.value===null&&f.isEmpty()?new Ae(null):new Ae(this.value,f)}else return this}}get(n){if(ne(n))return this.value;{const l=te(n),a=this.children.get(l);return a?a.get(Ce(n)):null}}setTree(n,l){if(ne(n))return l;{const a=te(n),f=(this.children.get(a)||new Ae(null)).setTree(Ce(n),l);let h;return f.isEmpty()?h=this.children.remove(a):h=this.children.insert(a,f),new Ae(this.value,h)}}fold(n){return this.fold_(he(),n)}fold_(n,l){const a={};return this.children.inorderTraversal((u,f)=>{a[u]=f.fold_(De(n,u),l)}),l(n,this.value,a)}findOnPath(n,l){return this.findOnPath_(n,he(),l)}findOnPath_(n,l,a){const u=this.value?a(l,this.value):!1;if(u)return u;if(ne(n))return null;{const f=te(n),h=this.children.get(f);return h?h.findOnPath_(Ce(n),De(l,f),a):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,he(),l)}foreachOnPath_(n,l,a){if(ne(n))return this;{this.value&&a(l,this.value);const u=te(n),f=this.children.get(u);return f?f.foreachOnPath_(Ce(n),De(l,u),a):new Ae(null)}}foreach(n){this.foreach_(he(),n)}foreach_(n,l){this.children.inorderTraversal((a,u)=>{u.foreach_(De(n,a),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,a)=>{a.value&&n(l,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(n){this.writeTree_=n}static empty(){return new ln(new Ae(null))}}function oa(s,n,l){if(ne(n))return new ln(new Ae(l));{const a=s.writeTree_.findRootMostValueAndPath(n);if(a!=null){const u=a.path;let f=a.value;const h=ct(u,n);return f=f.updateChild(h,l),new ln(s.writeTree_.set(u,f))}else{const u=new Ae(l),f=s.writeTree_.setTree(n,u);return new ln(f)}}}function Lf(s,n,l){let a=s;return We(l,(u,f)=>{a=oa(a,De(n,u),f)}),a}function bp(s,n){if(ne(n))return ln.empty();{const l=s.writeTree_.setTree(n,new Ae(null));return new ln(l)}}function Bf(s,n){return Ji(s,n)!=null}function Ji(s,n){const l=s.writeTree_.findRootMostValueAndPath(n);return l!=null?s.writeTree_.get(l.path).getChild(ct(l.path,n)):null}function Sp(s){const n=[],l=s.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(we,(a,u)=>{n.push(new le(a,u))}):s.writeTree_.children.inorderTraversal((a,u)=>{u.value!=null&&n.push(new le(a,u.value))}),n}function hi(s,n){if(ne(n))return s;{const l=Ji(s,n);return l!=null?new ln(new Ae(l)):new ln(s.writeTree_.subtree(n))}}function If(s){return s.writeTree_.isEmpty()}function Fl(s,n){return Gy(he(),s.writeTree_,n)}function Gy(s,n,l){if(n.value!=null)return l.updateChild(s,n.value);{let a=null;return n.children.inorderTraversal((u,f)=>{u===".priority"?(L(f.value!==null,"Priority writes must always be leaf nodes"),a=f.value):l=Gy(De(s,u),f,l)}),!l.getChild(s).isEmpty()&&a!==null&&(l=l.updateChild(De(s,".priority"),a)),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(s,n){return Xy(n,s)}function NC(s,n,l,a,u){L(a>s.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),s.allWrites.push({path:n,snap:l,writeId:a,visible:u}),u&&(s.visibleWrites=oa(s.visibleWrites,n,l)),s.lastWriteId=a}function RC(s,n,l,a){L(a>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:n,children:l,writeId:a,visible:!0}),s.visibleWrites=Lf(s.visibleWrites,n,l),s.lastWriteId=a}function DC(s,n){for(let l=0;l<s.allWrites.length;l++){const a=s.allWrites[l];if(a.writeId===n)return a}return null}function OC(s,n){const l=s.allWrites.findIndex(_=>_.writeId===n);L(l>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[l];s.allWrites.splice(l,1);let u=a.visible,f=!1,h=s.allWrites.length-1;for(;u&&h>=0;){const _=s.allWrites[h];_.visible&&(h>=l&&MC(_,a.path)?u=!1:Ft(a.path,_.path)&&(f=!0)),h--}if(u){if(f)return xC(s),!0;if(a.snap)s.visibleWrites=bp(s.visibleWrites,a.path);else{const _=a.children;We(_,g=>{s.visibleWrites=bp(s.visibleWrites,De(a.path,g))})}return!0}else return!1}function MC(s,n){if(s.snap)return Ft(s.path,n);for(const l in s.children)if(s.children.hasOwnProperty(l)&&Ft(De(s.path,l),n))return!0;return!1}function xC(s){s.visibleWrites=Vy(s.allWrites,zC,he()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function zC(s){return s.visible}function Vy(s,n,l){let a=ln.empty();for(let u=0;u<s.length;++u){const f=s[u];if(n(f)){const h=f.path;let _;if(f.snap)Ft(l,h)?(_=ct(l,h),a=oa(a,_,f.snap)):Ft(h,l)&&(_=ct(h,l),a=oa(a,he(),f.snap.getChild(_)));else if(f.children){if(Ft(l,h))_=ct(l,h),a=Lf(a,_,f.children);else if(Ft(h,l))if(_=ct(h,l),ne(_))a=Lf(a,he(),f.children);else{const g=Pi(f.children,te(_));if(g){const m=g.getChild(Ce(_));a=oa(a,he(),m)}}}else throw Wl("WriteRecord should have .snap or .children")}}return a}function jy(s,n,l,a,u){if(!a&&!u){const f=Ji(s.visibleWrites,n);if(f!=null)return f;{const h=hi(s.visibleWrites,n);if(If(h))return l;if(l==null&&!Bf(h,he()))return null;{const _=l||Q.EMPTY_NODE;return Fl(h,_)}}}else{const f=hi(s.visibleWrites,n);if(!u&&If(f))return l;if(!u&&l==null&&!Bf(f,he()))return null;{const h=function(m){return(m.visible||u)&&(!a||!~a.indexOf(m.writeId))&&(Ft(m.path,n)||Ft(n,m.path))},_=Vy(s.allWrites,h,n),g=l||Q.EMPTY_NODE;return Fl(_,g)}}}function UC(s,n,l){let a=Q.EMPTY_NODE;const u=Ji(s.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(we,(f,h)=>{a=a.updateImmediateChild(f,h)}),a;if(l){const f=hi(s.visibleWrites,n);return l.forEachChild(we,(h,_)=>{const g=Fl(hi(f,new _e(h)),_);a=a.updateImmediateChild(h,g)}),Sp(f).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}else{const f=hi(s.visibleWrites,n);return Sp(f).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}}function LC(s,n,l,a,u){L(a||u,"Either existingEventSnap or existingServerSnap must exist");const f=De(n,l);if(Bf(s.visibleWrites,f))return null;{const h=hi(s.visibleWrites,f);return If(h)?u.getChild(l):Fl(h,u.getChild(l))}}function BC(s,n,l,a){const u=De(n,l),f=Ji(s.visibleWrites,u);if(f!=null)return f;if(a.isCompleteForChild(l)){const h=hi(s.visibleWrites,u);return Fl(h,a.getNode().getImmediateChild(l))}else return null}function IC(s,n){return Ji(s.visibleWrites,n)}function HC(s,n,l,a,u,f,h){let _;const g=hi(s.visibleWrites,n),m=Ji(g,he());if(m!=null)_=m;else if(l!=null)_=Fl(g,l);else return[];if(_=_.withIndex(h),!_.isEmpty()&&!_.isLeafNode()){const y=[],b=h.getCompare(),S=f?_.getReverseIteratorFrom(a,h):_.getIteratorFrom(a,h);let z=S.getNext();for(;z&&y.length<u;)b(z,a)!==0&&y.push(z),z=S.getNext();return y}else return[]}function kC(){return{visibleWrites:ln.empty(),allWrites:[],lastWriteId:-1}}function fu(s,n,l,a){return jy(s.writeTree,s.treePath,n,l,a)}function yh(s,n){return UC(s.writeTree,s.treePath,n)}function Ep(s,n,l,a){return LC(s.writeTree,s.treePath,n,l,a)}function hu(s,n){return IC(s.writeTree,De(s.treePath,n))}function qC(s,n,l,a,u,f){return HC(s.writeTree,s.treePath,n,l,a,u,f)}function vh(s,n,l){return BC(s.writeTree,s.treePath,n,l)}function Qy(s,n){return Xy(De(s.treePath,n),s.writeTree)}function Xy(s,n){return{treePath:s,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,a=n.childName;L(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),L(a!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(a);if(u){const f=u.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(a,ya(a,n.snapshotNode,u.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(a);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(a,pa(a,u.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(a,Pl(a,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(a,ya(a,n.snapshotNode,u.oldSnap));else throw Wl("Illegal combination of changes: "+n+" occurred after "+u)}else this.changeMap.set(a,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{getCompleteChild(n){return null}getChildAfterChild(n,l,a){return null}}const Py=new GC;class bh{constructor(n,l,a=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=a}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const a=this.optCompleteServerCache_!=null?new vi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vh(this.writes_,n,a)}}getChildAfterChild(n,l,a){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Fi(this.viewCache_),f=qC(this.writes_,u,l,1,a,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(s){return{filter:s}}function jC(s,n){L(n.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),L(n.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function QC(s,n,l,a,u){const f=new YC;let h,_;if(l.type===nn.OVERWRITE){const m=l;m.source.fromUser?h=Hf(s,n,m.path,m.snap,a,u,f):(L(m.source.fromServer,"Unknown source."),_=m.source.tagged||n.serverCache.isFiltered()&&!ne(m.path),h=du(s,n,m.path,m.snap,a,u,_,f))}else if(l.type===nn.MERGE){const m=l;m.source.fromUser?h=PC(s,n,m.path,m.children,a,u,f):(L(m.source.fromServer,"Unknown source."),_=m.source.tagged||n.serverCache.isFiltered(),h=kf(s,n,m.path,m.children,a,u,_,f))}else if(l.type===nn.ACK_USER_WRITE){const m=l;m.revert?h=ZC(s,n,m.path,a,u,f):h=KC(s,n,m.path,m.affectedTree,a,u,f)}else if(l.type===nn.LISTEN_COMPLETE)h=FC(s,n,l.path,a,f);else throw Wl("Unknown operation type: "+l.type);const g=f.getChanges();return XC(n,h,g),{viewCache:h,changes:g}}function XC(s,n,l){const a=n.eventCache;if(a.isFullyInitialized()){const u=a.getNode().isLeafNode()||a.getNode().isEmpty(),f=cu(s);(l.length>0||!s.eventCache.isFullyInitialized()||u&&!a.getNode().equals(f)||!a.getNode().getPriority().equals(f.getPriority()))&&l.push(qy(cu(n)))}}function Ky(s,n,l,a,u,f){const h=n.eventCache;if(hu(a,l)!=null)return n;{let _,g;if(ne(l))if(L(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const m=Fi(n),y=m instanceof Q?m:Q.EMPTY_NODE,b=yh(a,y);_=s.filter.updateFullNode(n.eventCache.getNode(),b,f)}else{const m=fu(a,Fi(n));_=s.filter.updateFullNode(n.eventCache.getNode(),m,f)}else{const m=te(l);if(m===".priority"){L(yi(l)===1,"Can't have a priority with additional path components");const y=h.getNode();g=n.serverCache.getNode();const b=Ep(a,l,y,g);b!=null?_=s.filter.updatePriority(y,b):_=h.getNode()}else{const y=Ce(l);let b;if(h.isCompleteForChild(m)){g=n.serverCache.getNode();const S=Ep(a,l,h.getNode(),g);S!=null?b=h.getNode().getImmediateChild(m).updateChild(y,S):b=h.getNode().getImmediateChild(m)}else b=vh(a,m,n.serverCache);b!=null?_=s.filter.updateChild(h.getNode(),m,b,y,u,f):_=h.getNode()}}return ua(n,_,h.isFullyInitialized()||ne(l),s.filter.filtersNodes())}}function du(s,n,l,a,u,f,h,_){const g=n.serverCache;let m;const y=h?s.filter:s.filter.getIndexedFilter();if(ne(l))m=y.updateFullNode(g.getNode(),a,null);else if(y.filtersNodes()&&!g.isFiltered()){const z=g.getNode().updateChild(l,a);m=y.updateFullNode(g.getNode(),z,null)}else{const z=te(l);if(!g.isCompleteForPath(l)&&yi(l)>1)return n;const B=Ce(l),$=g.getNode().getImmediateChild(z).updateChild(B,a);z===".priority"?m=y.updatePriority(g.getNode(),$):m=y.updateChild(g.getNode(),z,$,B,Py,null)}const b=Yy(n,m,g.isFullyInitialized()||ne(l),y.filtersNodes()),S=new bh(u,b,f);return Ky(s,b,l,u,S,_)}function Hf(s,n,l,a,u,f,h){const _=n.eventCache;let g,m;const y=new bh(u,n,f);if(ne(l))m=s.filter.updateFullNode(n.eventCache.getNode(),a,h),g=ua(n,m,!0,s.filter.filtersNodes());else{const b=te(l);if(b===".priority")m=s.filter.updatePriority(n.eventCache.getNode(),a),g=ua(n,m,_.isFullyInitialized(),_.isFiltered());else{const S=Ce(l),z=_.getNode().getImmediateChild(b);let B;if(ne(S))B=a;else{const X=y.getCompleteChild(b);X!=null?uh(S)===".priority"&&X.getChild(zy(S)).isEmpty()?B=X:B=X.updateChild(S,a):B=Q.EMPTY_NODE}if(z.equals(B))g=n;else{const X=s.filter.updateChild(_.getNode(),b,B,S,y,h);g=ua(n,X,_.isFullyInitialized(),s.filter.filtersNodes())}}}return g}function Cp(s,n){return s.eventCache.isCompleteForChild(n)}function PC(s,n,l,a,u,f,h){let _=n;return a.foreach((g,m)=>{const y=De(l,g);Cp(n,te(y))&&(_=Hf(s,_,y,m,u,f,h))}),a.foreach((g,m)=>{const y=De(l,g);Cp(n,te(y))||(_=Hf(s,_,y,m,u,f,h))}),_}function Tp(s,n,l){return l.foreach((a,u)=>{n=n.updateChild(a,u)}),n}function kf(s,n,l,a,u,f,h,_){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let g=n,m;ne(l)?m=a:m=new Ae(null).setTree(l,a);const y=n.serverCache.getNode();return m.children.inorderTraversal((b,S)=>{if(y.hasChild(b)){const z=n.serverCache.getNode().getImmediateChild(b),B=Tp(s,z,S);g=du(s,g,new _e(b),B,u,f,h,_)}}),m.children.inorderTraversal((b,S)=>{const z=!n.serverCache.isCompleteForChild(b)&&S.value===null;if(!y.hasChild(b)&&!z){const B=n.serverCache.getNode().getImmediateChild(b),X=Tp(s,B,S);g=du(s,g,new _e(b),X,u,f,h,_)}}),g}function KC(s,n,l,a,u,f,h){if(hu(u,l)!=null)return n;const _=n.serverCache.isFiltered(),g=n.serverCache;if(a.value!=null){if(ne(l)&&g.isFullyInitialized()||g.isCompleteForPath(l))return du(s,n,l,g.getNode().getChild(l),u,f,_,h);if(ne(l)){let m=new Ae(null);return g.getNode().forEachChild(dn,(y,b)=>{m=m.set(new _e(y),b)}),kf(s,n,l,m,u,f,_,h)}else return n}else{let m=new Ae(null);return a.foreach((y,b)=>{const S=De(l,y);g.isCompleteForPath(S)&&(m=m.set(y,g.getNode().getChild(S)))}),kf(s,n,l,m,u,f,_,h)}}function FC(s,n,l,a,u){const f=n.serverCache,h=Yy(n,f.getNode(),f.isFullyInitialized()||ne(l),f.isFiltered());return Ky(s,h,l,a,Py,u)}function ZC(s,n,l,a,u,f){let h;if(hu(a,l)!=null)return n;{const _=new bh(a,n,u),g=n.eventCache.getNode();let m;if(ne(l)||te(l)===".priority"){let y;if(n.serverCache.isFullyInitialized())y=fu(a,Fi(n));else{const b=n.serverCache.getNode();L(b instanceof Q,"serverChildren would be complete if leaf node"),y=yh(a,b)}y=y,m=s.filter.updateFullNode(g,y,f)}else{const y=te(l);let b=vh(a,y,n.serverCache);b==null&&n.serverCache.isCompleteForChild(y)&&(b=g.getImmediateChild(y)),b!=null?m=s.filter.updateChild(g,y,b,Ce(l),_,f):n.eventCache.getNode().hasChild(y)?m=s.filter.updateChild(g,y,Q.EMPTY_NODE,Ce(l),_,f):m=g,m.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=fu(a,Fi(n)),h.isLeafNode()&&(m=s.filter.updateFullNode(m,h,f)))}return h=n.serverCache.isFullyInitialized()||hu(a,he())!=null,ua(n,m,h,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const a=this.query_._queryParams,u=new _h(a.getIndex()),f=fC(a);this.processor_=VC(f);const h=l.serverCache,_=l.eventCache,g=u.updateFullNode(Q.EMPTY_NODE,h.getNode(),null),m=f.updateFullNode(Q.EMPTY_NODE,_.getNode(),null),y=new vi(g,h.isFullyInitialized(),u.filtersNodes()),b=new vi(m,_.isFullyInitialized(),f.filtersNodes());this.viewCache_=Tu(b,y),this.eventGenerator_=new EC(this.query_)}get query(){return this.query_}}function JC(s){return s.viewCache_.serverCache.getNode()}function $C(s){return cu(s.viewCache_)}function eT(s,n){const l=Fi(s.viewCache_);return l&&(s.query._queryParams.loadsAllData()||!ne(n)&&!l.getImmediateChild(te(n)).isEmpty())?l.getChild(n):null}function Ap(s){return s.eventRegistrations_.length===0}function tT(s,n){s.eventRegistrations_.push(n)}function wp(s,n,l){const a=[];if(l){L(n==null,"A cancel should cancel all event registrations.");const u=s.query._path;s.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(l,u);h&&a.push(h)})}if(n){let u=[];for(let f=0;f<s.eventRegistrations_.length;++f){const h=s.eventRegistrations_[f];if(!h.matches(n))u.push(h);else if(n.hasAnyCallback()){u=u.concat(s.eventRegistrations_.slice(f+1));break}}s.eventRegistrations_=u}else s.eventRegistrations_=[];return a}function Np(s,n,l,a){n.type===nn.MERGE&&n.source.queryId!==null&&(L(Fi(s.viewCache_),"We should always have a full cache before handling merges"),L(cu(s.viewCache_),"Missing event cache, even though we have a server cache"));const u=s.viewCache_,f=QC(s.processor_,u,n,l,a);return jC(s.processor_,f.viewCache),L(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=f.viewCache,Fy(s,f.changes,f.viewCache.eventCache.getNode(),null)}function nT(s,n){const l=s.viewCache_.eventCache,a=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(we,(f,h)=>{a.push(Pl(f,h))}),l.isFullyInitialized()&&a.push(qy(l.getNode())),Fy(s,a,l.getNode(),n)}function Fy(s,n,l,a){const u=a?[a]:s.eventRegistrations_;return CC(s.eventGenerator_,n,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u;class Zy{constructor(){this.views=new Map}}function iT(s){L(!_u,"__referenceConstructor has already been defined"),_u=s}function lT(){return L(_u,"Reference.ts has not been loaded"),_u}function sT(s){return s.views.size===0}function Sh(s,n,l,a){const u=n.source.queryId;if(u!==null){const f=s.views.get(u);return L(f!=null,"SyncTree gave us an op for an invalid query."),Np(f,n,l,a)}else{let f=[];for(const h of s.views.values())f=f.concat(Np(h,n,l,a));return f}}function Wy(s,n,l,a,u){const f=n._queryIdentifier,h=s.views.get(f);if(!h){let _=fu(l,u?a:null),g=!1;_?g=!0:a instanceof Q?(_=yh(l,a),g=!1):(_=Q.EMPTY_NODE,g=!1);const m=Tu(new vi(_,g,!1),new vi(a,u,!1));return new WC(n,m)}return h}function aT(s,n,l,a,u,f){const h=Wy(s,n,a,u,f);return s.views.has(n._queryIdentifier)||s.views.set(n._queryIdentifier,h),tT(h,l),nT(h,l)}function rT(s,n,l,a){const u=n._queryIdentifier,f=[];let h=[];const _=bi(s);if(u==="default")for(const[g,m]of s.views.entries())h=h.concat(wp(m,l,a)),Ap(m)&&(s.views.delete(g),m.query._queryParams.loadsAllData()||f.push(m.query));else{const g=s.views.get(u);g&&(h=h.concat(wp(g,l,a)),Ap(g)&&(s.views.delete(u),g.query._queryParams.loadsAllData()||f.push(g.query)))}return _&&!bi(s)&&f.push(new(lT())(n._repo,n._path)),{removed:f,events:h}}function Jy(s){const n=[];for(const l of s.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function di(s,n){let l=null;for(const a of s.views.values())l=l||eT(a,n);return l}function $y(s,n){if(n._queryParams.loadsAllData())return wu(s);{const a=n._queryIdentifier;return s.views.get(a)}}function ev(s,n){return $y(s,n)!=null}function bi(s){return wu(s)!=null}function wu(s){for(const n of s.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu;function uT(s){L(!mu,"__referenceConstructor has already been defined"),mu=s}function oT(){return L(mu,"Reference.ts has not been loaded"),mu}let cT=1;class Rp{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Ae(null),this.pendingWriteTree_=kC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Eh(s,n,l,a,u){return NC(s.pendingWriteTree_,n,l,a,u),u?ts(s,new Ki(mh(),n,l)):[]}function fT(s,n,l,a){RC(s.pendingWriteTree_,n,l,a);const u=Ae.fromObject(l);return ts(s,new Kl(mh(),n,u))}function ci(s,n,l=!1){const a=DC(s.pendingWriteTree_,n);if(OC(s.pendingWriteTree_,n)){let f=new Ae(null);return a.snap!=null?f=f.set(he(),!0):We(a.children,h=>{f=f.set(new _e(h),!0)}),ts(s,new ou(a.path,f,l))}else return[]}function Ra(s,n,l){return ts(s,new Ki(gh(),n,l))}function hT(s,n,l){const a=Ae.fromObject(l);return ts(s,new Kl(gh(),n,a))}function dT(s,n){return ts(s,new ba(gh(),n))}function _T(s,n,l){const a=Ch(s,l);if(a){const u=Th(a),f=u.path,h=u.queryId,_=ct(f,n),g=new ba(ph(h),_);return Ah(s,f,g)}else return[]}function gu(s,n,l,a,u=!1){const f=n._path,h=s.syncPointTree_.get(f);let _=[];if(h&&(n._queryIdentifier==="default"||ev(h,n))){const g=rT(h,n,l,a);sT(h)&&(s.syncPointTree_=s.syncPointTree_.remove(f));const m=g.removed;if(_=g.events,!u){const y=m.findIndex(S=>S._queryParams.loadsAllData())!==-1,b=s.syncPointTree_.findOnPath(f,(S,z)=>bi(z));if(y&&!b){const S=s.syncPointTree_.subtree(f);if(!S.isEmpty()){const z=pT(S);for(let B=0;B<z.length;++B){const X=z[B],$=X.query,xe=lv(s,X);s.listenProvider_.startListening(ca($),Sa(s,$),xe.hashFn,xe.onComplete)}}}!b&&m.length>0&&!a&&(y?s.listenProvider_.stopListening(ca(n),null):m.forEach(S=>{const z=s.queryToTagMap.get(Ru(S));s.listenProvider_.stopListening(ca(S),z)}))}yT(s,m)}return _}function tv(s,n,l,a){const u=Ch(s,a);if(u!=null){const f=Th(u),h=f.path,_=f.queryId,g=ct(h,n),m=new Ki(ph(_),g,l);return Ah(s,h,m)}else return[]}function mT(s,n,l,a){const u=Ch(s,a);if(u){const f=Th(u),h=f.path,_=f.queryId,g=ct(h,n),m=Ae.fromObject(l),y=new Kl(ph(_),g,m);return Ah(s,h,y)}else return[]}function qf(s,n,l,a=!1){const u=n._path;let f=null,h=!1;s.syncPointTree_.foreachOnPath(u,(S,z)=>{const B=ct(S,u);f=f||di(z,B),h=h||bi(z)});let _=s.syncPointTree_.get(u);_?(h=h||bi(_),f=f||di(_,he())):(_=new Zy,s.syncPointTree_=s.syncPointTree_.set(u,_));let g;f!=null?g=!0:(g=!1,f=Q.EMPTY_NODE,s.syncPointTree_.subtree(u).foreachChild((z,B)=>{const X=di(B,he());X&&(f=f.updateImmediateChild(z,X))}));const m=ev(_,n);if(!m&&!n._queryParams.loadsAllData()){const S=Ru(n);L(!s.queryToTagMap.has(S),"View does not exist, but we have a tag");const z=vT();s.queryToTagMap.set(S,z),s.tagToQueryMap.set(z,S)}const y=Au(s.pendingWriteTree_,u);let b=aT(_,n,l,y,f,g);if(!m&&!h&&!a){const S=$y(_,n);b=b.concat(bT(s,n,S))}return b}function Nu(s,n,l){const u=s.pendingWriteTree_,f=s.syncPointTree_.findOnPath(n,(h,_)=>{const g=ct(h,n),m=di(_,g);if(m)return m});return jy(u,n,f,l,!0)}function gT(s,n){const l=n._path;let a=null;s.syncPointTree_.foreachOnPath(l,(m,y)=>{const b=ct(m,l);a=a||di(y,b)});let u=s.syncPointTree_.get(l);u?a=a||di(u,he()):(u=new Zy,s.syncPointTree_=s.syncPointTree_.set(l,u));const f=a!=null,h=f?new vi(a,!0,!1):null,_=Au(s.pendingWriteTree_,n._path),g=Wy(u,n,_,f?h.getNode():Q.EMPTY_NODE,f);return $C(g)}function ts(s,n){return nv(n,s.syncPointTree_,null,Au(s.pendingWriteTree_,he()))}function nv(s,n,l,a){if(ne(s.path))return iv(s,n,l,a);{const u=n.get(he());l==null&&u!=null&&(l=di(u,he()));let f=[];const h=te(s.path),_=s.operationForChild(h),g=n.children.get(h);if(g&&_){const m=l?l.getImmediateChild(h):null,y=Qy(a,h);f=f.concat(nv(_,g,m,y))}return u&&(f=f.concat(Sh(u,s,a,l))),f}}function iv(s,n,l,a){const u=n.get(he());l==null&&u!=null&&(l=di(u,he()));let f=[];return n.children.inorderTraversal((h,_)=>{const g=l?l.getImmediateChild(h):null,m=Qy(a,h),y=s.operationForChild(h);y&&(f=f.concat(iv(y,_,g,m)))}),u&&(f=f.concat(Sh(u,s,a,l))),f}function lv(s,n){const l=n.query,a=Sa(s,l);return{hashFn:()=>(JC(n)||Q.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return a?_T(s,l._path,a):dT(s,l._path);{const f=fE(u,l);return gu(s,l,null,f)}}}}function Sa(s,n){const l=Ru(n);return s.queryToTagMap.get(l)}function Ru(s){return s._path.toString()+"$"+s._queryIdentifier}function Ch(s,n){return s.tagToQueryMap.get(n)}function Th(s){const n=s.indexOf("$");return L(n!==-1&&n<s.length-1,"Bad queryKey."),{queryId:s.substr(n+1),path:new _e(s.substr(0,n))}}function Ah(s,n,l){const a=s.syncPointTree_.get(n);L(a,"Missing sync point for query tag that we're tracking");const u=Au(s.pendingWriteTree_,n);return Sh(a,l,u,null)}function pT(s){return s.fold((n,l,a)=>{if(l&&bi(l))return[wu(l)];{let u=[];return l&&(u=Jy(l)),We(a,(f,h)=>{u=u.concat(h)}),u}})}function ca(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(oT())(s._repo,s._path):s}function yT(s,n){for(let l=0;l<n.length;++l){const a=n[l];if(!a._queryParams.loadsAllData()){const u=Ru(a),f=s.queryToTagMap.get(u);s.queryToTagMap.delete(u),s.tagToQueryMap.delete(f)}}}function vT(){return cT++}function bT(s,n,l){const a=n._path,u=Sa(s,n),f=lv(s,l),h=s.listenProvider_.startListening(ca(n),u,f.hashFn,f.onComplete),_=s.syncPointTree_.subtree(a);if(u)L(!bi(_.value),"If we're adding a query, it shouldn't be shadowed");else{const g=_.fold((m,y,b)=>{if(!ne(m)&&y&&bi(y))return[wu(y).query];{let S=[];return y&&(S=S.concat(Jy(y).map(z=>z.query))),We(b,(z,B)=>{S=S.concat(B)}),S}});for(let m=0;m<g.length;++m){const y=g[m];s.listenProvider_.stopListening(ca(y),Sa(s,y))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new wh(l)}node(){return this.node_}}class Nh{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=De(this.path_,n);return new Nh(this.syncTree_,l)}node(){return Nu(this.syncTree_,this.path_)}}const ST=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Dp=function(s,n,l){if(!s||typeof s!="object")return s;if(L(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return ET(s[".sv"],n,l);if(typeof s[".sv"]=="object")return CT(s[".sv"],n);L(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},ET=function(s,n,l){switch(s){case"timestamp":return l.timestamp;default:L(!1,"Unexpected server value: "+s)}},CT=function(s,n,l){s.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&L(!1,"Unexpected increment value: "+a);const u=n.node();if(L(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return a;const h=u.getValue();return typeof h!="number"?a:h+a},sv=function(s,n,l,a){return Dh(n,new Nh(l,s),a)},Rh=function(s,n,l){return Dh(s,new wh(n),l)};function Dh(s,n,l){const a=s.getPriority().val(),u=Dp(a,n.getImmediateChild(".priority"),l);let f;if(s.isLeafNode()){const h=s,_=Dp(h.getValue(),n,l);return _!==h.getValue()||u!==h.getPriority().val()?new Pe(_,Me(u)):s}else{const h=s;return f=h,u!==h.getPriority().val()&&(f=f.updatePriority(new Pe(u))),h.forEachChild(we,(_,g)=>{const m=Dh(g,n.getImmediateChild(_),l);m!==g&&(f=f.updateImmediateChild(_,m))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(n="",l=null,a={children:{},childCount:0}){this.name=n,this.parent=l,this.node=a}}function Du(s,n){let l=n instanceof _e?n:new _e(n),a=s,u=te(l);for(;u!==null;){const f=Pi(a.node.children,u)||{children:{},childCount:0};a=new Oh(u,a,f),l=Ce(l),u=te(l)}return a}function $i(s){return s.node.value}function Mh(s,n){s.node.value=n,Yf(s)}function av(s){return s.node.childCount>0}function TT(s){return $i(s)===void 0&&!av(s)}function Ou(s,n){We(s.node.children,(l,a)=>{n(new Oh(l,s,a))})}function rv(s,n,l,a){l&&n(s),Ou(s,u=>{rv(u,n,!0)})}function AT(s,n,l){let a=s.parent;for(;a!==null;){if(n(a))return!0;a=a.parent}return!1}function Da(s){return new _e(s.parent===null?s.name:Da(s.parent)+"/"+s.name)}function Yf(s){s.parent!==null&&wT(s.parent,s.name,s)}function wT(s,n,l){const a=TT(l),u=Bt(s.node.children,n);a&&u?(delete s.node.children[n],s.node.childCount--,Yf(s)):!a&&!u&&(s.node.children[n]=l.node,s.node.childCount++,Yf(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=/[\[\].#$\/\u0000-\u001F\u007F]/,RT=/[\[\].#$\u0000-\u001F\u007F]/,vf=10*1024*1024,Mu=function(s){return typeof s=="string"&&s.length!==0&&!NT.test(s)},uv=function(s){return typeof s=="string"&&s.length!==0&&!RT.test(s)},DT=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),uv(s)},Ea=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!bu(s)||s&&typeof s=="object"&&Bt(s,".sv")},mn=function(s,n,l,a){a&&n===void 0||Oa(vt(s,"value"),n,l)},Oa=function(s,n,l){const a=l instanceof _e?new QE(l,s):l;if(n===void 0)throw new Error(s+"contains undefined "+ji(a));if(typeof n=="function")throw new Error(s+"contains a function "+ji(a)+" with contents = "+n.toString());if(bu(n))throw new Error(s+"contains "+n.toString()+" "+ji(a));if(typeof n=="string"&&n.length>vf/3&&yu(n)>vf)throw new Error(s+"contains a string greater than "+vf+" utf8 bytes "+ji(a)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let u=!1,f=!1;if(We(n,(h,_)=>{if(h===".value")u=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!Mu(h)))throw new Error(s+" contains an invalid key ("+h+") "+ji(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);XE(a,h),Oa(s,_,a),PE(a)}),u&&f)throw new Error(s+' contains ".value" child '+ji(a)+" in addition to actual children.")}},OT=function(s,n){let l,a;for(l=0;l<n.length;l++){a=n[l];const f=ga(a);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!Mu(f[h]))throw new Error(s+"contains an invalid key ("+f[h]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(jE);let u=null;for(l=0;l<n.length;l++){if(a=n[l],u!==null&&Ft(u,a))throw new Error(s+"contains a path "+u.toString()+" that is ancestor of another path "+a.toString());u=a}},ov=function(s,n,l,a){const u=vt(s,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(u+" must be an object containing the children to replace.");const f=[];We(n,(h,_)=>{const g=new _e(h);if(Oa(u,_,De(l,g)),uh(g)===".priority"&&!Ea(_))throw new Error(u+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(g)}),OT(u,f)},xh=function(s,n,l){if(bu(n))throw new Error(vt(s,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ea(n))throw new Error(vt(s,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Ma=function(s,n,l,a){if(l!==void 0&&!Mu(l))throw new Error(vt(s,n)+'was an invalid key = "'+l+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Ca=function(s,n,l,a){if(!uv(l))throw new Error(vt(s,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},MT=function(s,n,l,a){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Ca(s,n,l)},Zt=function(s,n){if(te(n)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},cv=function(s,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Mu(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!DT(l))throw new Error(vt(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xu(s,n){let l=null;for(let a=0;a<n.length;a++){const u=n[a],f=u.getPath();l!==null&&!oh(f,l.path)&&(s.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(u)}l&&s.eventLists_.push(l)}function fv(s,n,l){xu(s,l),hv(s,a=>oh(a,n))}function It(s,n,l){xu(s,l),hv(s,a=>Ft(a,n)||Ft(n,a))}function hv(s,n){s.recursionDepth_++;let l=!0;for(let a=0;a<s.eventLists_.length;a++){const u=s.eventLists_[a];if(u){const f=u.path;n(f)?(zT(s.eventLists_[a]),s.eventLists_[a]=null):l=!1}}l&&(s.eventLists_=[]),s.recursionDepth_--}function zT(s){for(let n=0;n<s.events.length;n++){const l=s.events[n];if(l!==null){s.events[n]=null;const a=l.getEventRunner();Xi&&Ze("event: "+l.toString()),$l(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="repo_interrupt",UT=25;class LT{constructor(n,l,a,u){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=a,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uu(),this.transactionQueueTree_=new Oh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function BT(s,n,l){if(s.stats_=ah(s.repoInfo_),s.forceRestClient_||mE())s.server_=new ru(s.repoInfo_,(a,u,f,h)=>{Op(s,a,u,f,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Mp(s,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ge(l)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new Un(s.repoInfo_,n,(a,u,f,h)=>{Op(s,a,u,f,h)},a=>{Mp(s,a)},a=>{IT(s,a)},s.authTokenProvider_,s.appCheckProvider_,l),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=bE(s.repoInfo_,()=>new SC(s.stats_,s.server_)),s.infoData_=new gC,s.infoSyncTree_=new Rp({startListening:(a,u,f,h)=>{let _=[];const g=s.infoData_.getNode(a._path);return g.isEmpty()||(_=Ra(s.infoSyncTree_,a._path,g),setTimeout(()=>{h("ok")},0)),_},stopListening:()=>{}}),zh(s,"connected",!1),s.serverSyncTree_=new Rp({startListening:(a,u,f,h)=>(s.server_.listen(a,f,u,(_,g)=>{const m=h(_,g);It(s.eventQueue_,a._path,m)}),[]),stopListening:(a,u)=>{s.server_.unlisten(a,u)}})}function _v(s){const l=s.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function xa(s){return ST({timestamp:_v(s)})}function Op(s,n,l,a,u){s.dataUpdateCount++;const f=new _e(n);l=s.interceptServerDataCallback_?s.interceptServerDataCallback_(n,l):l;let h=[];if(u)if(a){const g=tu(l,m=>Me(m));h=mT(s.serverSyncTree_,f,g,u)}else{const g=Me(l);h=tv(s.serverSyncTree_,f,g,u)}else if(a){const g=tu(l,m=>Me(m));h=hT(s.serverSyncTree_,f,g)}else{const g=Me(l);h=Ra(s.serverSyncTree_,f,g)}let _=f;h.length>0&&(_=Zl(s,f)),It(s.eventQueue_,_,h)}function Mp(s,n){zh(s,"connected",n),n===!1&&qT(s)}function IT(s,n){We(n,(l,a)=>{zh(s,l,a)})}function zh(s,n,l){const a=new _e("/.info/"+n),u=Me(l);s.infoData_.updateSnapshot(a,u);const f=Ra(s.infoSyncTree_,a,u);It(s.eventQueue_,a,f)}function zu(s){return s.nextWriteId_++}function HT(s,n,l){const a=gT(s.serverSyncTree_,n);return a!=null?Promise.resolve(a):s.server_.get(n).then(u=>{const f=Me(u).withIndex(n._queryParams.getIndex());qf(s.serverSyncTree_,n,l,!0);let h;if(n._queryParams.loadsAllData())h=Ra(s.serverSyncTree_,n._path,f);else{const _=Sa(s.serverSyncTree_,n);h=tv(s.serverSyncTree_,n._path,f,_)}return It(s.eventQueue_,n._path,h),gu(s.serverSyncTree_,n,l,null,!0),f},u=>(ns(s,"get for query "+Ge(n)+" failed: "+u),Promise.reject(new Error(u))))}function Uh(s,n,l,a,u){ns(s,"set",{path:n.toString(),value:l,priority:a});const f=xa(s),h=Me(l,a),_=Nu(s.serverSyncTree_,n),g=Rh(h,_,f),m=zu(s),y=Eh(s.serverSyncTree_,n,g,m,!0);xu(s.eventQueue_,y),s.server_.put(n.toString(),h.val(!0),(S,z)=>{const B=S==="ok";B||rt("set at "+n+" failed: "+S);const X=ci(s.serverSyncTree_,m,!B);It(s.eventQueue_,n,X),Si(s,u,S,z)});const b=Bh(s,n);Zl(s,b),It(s.eventQueue_,b,[])}function kT(s,n,l,a){ns(s,"update",{path:n.toString(),value:l});let u=!0;const f=xa(s),h={};if(We(l,(_,g)=>{u=!1,h[_]=sv(De(n,_),Me(g),s.serverSyncTree_,f)}),u)Ze("update() called with empty data.  Don't do anything."),Si(s,a,"ok",void 0);else{const _=zu(s),g=fT(s.serverSyncTree_,n,h,_);xu(s.eventQueue_,g),s.server_.merge(n.toString(),l,(m,y)=>{const b=m==="ok";b||rt("update at "+n+" failed: "+m);const S=ci(s.serverSyncTree_,_,!b),z=S.length>0?Zl(s,n):n;It(s.eventQueue_,z,S),Si(s,a,m,y)}),We(l,m=>{const y=Bh(s,De(n,m));Zl(s,y)}),It(s.eventQueue_,n,[])}}function qT(s){ns(s,"onDisconnectEvents");const n=xa(s),l=uu();Uf(s.onDisconnect_,he(),(u,f)=>{const h=sv(u,f,s.serverSyncTree_,n);es(l,u,h)});let a=[];Uf(l,he(),(u,f)=>{a=a.concat(Ra(s.serverSyncTree_,u,f));const h=Bh(s,u);Zl(s,h)}),s.onDisconnect_=uu(),It(s.eventQueue_,he(),a)}function YT(s,n,l){s.server_.onDisconnectCancel(n.toString(),(a,u)=>{a==="ok"&&zf(s.onDisconnect_,n),Si(s,l,a,u)})}function xp(s,n,l,a){const u=Me(l);s.server_.onDisconnectPut(n.toString(),u.val(!0),(f,h)=>{f==="ok"&&es(s.onDisconnect_,n,u),Si(s,a,f,h)})}function GT(s,n,l,a,u){const f=Me(l,a);s.server_.onDisconnectPut(n.toString(),f.val(!0),(h,_)=>{h==="ok"&&es(s.onDisconnect_,n,f),Si(s,u,h,_)})}function VT(s,n,l,a){if(Ef(l)){Ze("onDisconnect().update() called with empty data.  Don't do anything."),Si(s,a,"ok",void 0);return}s.server_.onDisconnectMerge(n.toString(),l,(u,f)=>{u==="ok"&&We(l,(h,_)=>{const g=Me(_);es(s.onDisconnect_,De(n,h),g)}),Si(s,a,u,f)})}function jT(s,n,l){let a;te(n._path)===".info"?a=qf(s.infoSyncTree_,n,l):a=qf(s.serverSyncTree_,n,l),fv(s.eventQueue_,n._path,a)}function Gf(s,n,l){let a;te(n._path)===".info"?a=gu(s.infoSyncTree_,n,l):a=gu(s.serverSyncTree_,n,l),fv(s.eventQueue_,n._path,a)}function mv(s){s.persistentConnection_&&s.persistentConnection_.interrupt(dv)}function QT(s){s.persistentConnection_&&s.persistentConnection_.resume(dv)}function ns(s,...n){let l="";s.persistentConnection_&&(l=s.persistentConnection_.id+":"),Ze(l,...n)}function Si(s,n,l,a){n&&$l(()=>{if(l==="ok")n(null);else{const u=(l||"error").toUpperCase();let f=u;a&&(f+=": "+a);const h=new Error(f);h.code=u,n(h)}})}function XT(s,n,l,a,u,f){ns(s,"transaction on "+n);const h={path:n,update:l,onComplete:a,status:null,order:cy(),applyLocally:f,retryCount:0,unwatcher:u,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_=Lh(s,n,void 0);h.currentInputSnapshot=_;const g=h.update(_.val());if(g===void 0)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{Oa("transaction failed: Data returned ",g,h.path),h.status=0;const m=Du(s.transactionQueueTree_,n),y=$i(m)||[];y.push(h),Mh(m,y);let b;typeof g=="object"&&g!==null&&Bt(g,".priority")?(b=Pi(g,".priority"),L(Ea(b),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):b=(Nu(s.serverSyncTree_,n)||Q.EMPTY_NODE).getPriority().val();const S=xa(s),z=Me(g,b),B=Rh(z,_,S);h.currentOutputSnapshotRaw=z,h.currentOutputSnapshotResolved=B,h.currentWriteId=zu(s);const X=Eh(s.serverSyncTree_,n,B,h.currentWriteId,h.applyLocally);It(s.eventQueue_,n,X),Uu(s,s.transactionQueueTree_)}}function Lh(s,n,l){return Nu(s.serverSyncTree_,n,l)||Q.EMPTY_NODE}function Uu(s,n=s.transactionQueueTree_){if(n||Lu(s,n),$i(n)){const l=pv(s,n);L(l.length>0,"Sending zero length transaction queue"),l.every(u=>u.status===0)&&PT(s,Da(n),l)}else av(n)&&Ou(n,l=>{Uu(s,l)})}function PT(s,n,l){const a=l.map(m=>m.currentWriteId),u=Lh(s,n,a);let f=u;const h=u.hash();for(let m=0;m<l.length;m++){const y=l[m];L(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const b=ct(n,y.path);f=f.updateChild(b,y.currentOutputSnapshotRaw)}const _=f.val(!0),g=n;s.server_.put(g.toString(),_,m=>{ns(s,"transaction put response",{path:g.toString(),status:m});let y=[];if(m==="ok"){const b=[];for(let S=0;S<l.length;S++)l[S].status=2,y=y.concat(ci(s.serverSyncTree_,l[S].currentWriteId)),l[S].onComplete&&b.push(()=>l[S].onComplete(null,!0,l[S].currentOutputSnapshotResolved)),l[S].unwatcher();Lu(s,Du(s.transactionQueueTree_,n)),Uu(s,s.transactionQueueTree_),It(s.eventQueue_,n,y);for(let S=0;S<b.length;S++)$l(b[S])}else{if(m==="datastale")for(let b=0;b<l.length;b++)l[b].status===3?l[b].status=4:l[b].status=0;else{rt("transaction at "+g.toString()+" failed: "+m);for(let b=0;b<l.length;b++)l[b].status=4,l[b].abortReason=m}Zl(s,n)}},h)}function Zl(s,n){const l=gv(s,n),a=Da(l),u=pv(s,l);return KT(s,u,a),a}function KT(s,n,l){if(n.length===0)return;const a=[];let u=[];const h=n.filter(_=>_.status===0).map(_=>_.currentWriteId);for(let _=0;_<n.length;_++){const g=n[_],m=ct(l,g.path);let y=!1,b;if(L(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)y=!0,b=g.abortReason,u=u.concat(ci(s.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=UT)y=!0,b="maxretry",u=u.concat(ci(s.serverSyncTree_,g.currentWriteId,!0));else{const S=Lh(s,g.path,h);g.currentInputSnapshot=S;const z=n[_].update(S.val());if(z!==void 0){Oa("transaction failed: Data returned ",z,g.path);let B=Me(z);typeof z=="object"&&z!=null&&Bt(z,".priority")||(B=B.updatePriority(S.getPriority()));const $=g.currentWriteId,xe=xa(s),Le=Rh(B,S,xe);g.currentOutputSnapshotRaw=B,g.currentOutputSnapshotResolved=Le,g.currentWriteId=zu(s),h.splice(h.indexOf($),1),u=u.concat(Eh(s.serverSyncTree_,g.path,Le,g.currentWriteId,g.applyLocally)),u=u.concat(ci(s.serverSyncTree_,$,!0))}else y=!0,b="nodata",u=u.concat(ci(s.serverSyncTree_,g.currentWriteId,!0))}It(s.eventQueue_,l,u),u=[],y&&(n[_].status=2,(function(S){setTimeout(S,Math.floor(0))})(n[_].unwatcher),n[_].onComplete&&(b==="nodata"?a.push(()=>n[_].onComplete(null,!1,n[_].currentInputSnapshot)):a.push(()=>n[_].onComplete(new Error(b),!1,null))))}Lu(s,s.transactionQueueTree_);for(let _=0;_<a.length;_++)$l(a[_]);Uu(s,s.transactionQueueTree_)}function gv(s,n){let l,a=s.transactionQueueTree_;for(l=te(n);l!==null&&$i(a)===void 0;)a=Du(a,l),n=Ce(n),l=te(n);return a}function pv(s,n){const l=[];return yv(s,n,l),l.sort((a,u)=>a.order-u.order),l}function yv(s,n,l){const a=$i(n);if(a)for(let u=0;u<a.length;u++)l.push(a[u]);Ou(n,u=>{yv(s,u,l)})}function Lu(s,n){const l=$i(n);if(l){let a=0;for(let u=0;u<l.length;u++)l[u].status!==2&&(l[a]=l[u],a++);l.length=a,Mh(n,l.length>0?l:void 0)}Ou(n,a=>{Lu(s,a)})}function Bh(s,n){const l=Da(gv(s,n)),a=Du(s.transactionQueueTree_,n);return AT(a,u=>{bf(s,u)}),bf(s,a),rv(a,u=>{bf(s,u)}),l}function bf(s,n){const l=$i(n);if(l){const a=[];let u=[],f=-1;for(let h=0;h<l.length;h++)l[h].status===3||(l[h].status===1?(L(f===h-1,"All SENT items should be at beginning of queue."),f=h,l[h].status=3,l[h].abortReason="set"):(L(l[h].status===0,"Unexpected transaction status in abort"),l[h].unwatcher(),u=u.concat(ci(s.serverSyncTree_,l[h].currentWriteId,!0)),l[h].onComplete&&a.push(l[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?Mh(n,void 0):l.length=f+1,It(s.eventQueue_,Da(n),u);for(let h=0;h<a.length;h++)$l(a[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(s){let n="";const l=s.split("/");for(let a=0;a<l.length;a++)if(l[a].length>0){let u=l[a];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}function ZT(s){const n={};s.charAt(0)==="?"&&(s=s.substring(1));for(const l of s.split("&")){if(l.length===0)continue;const a=l.split("=");a.length===2?n[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):rt(`Invalid query segment '${l}' in query '${s}'`)}return n}const Vf=function(s,n){const l=WT(s),a=l.namespace;l.domain==="firebase.com"&&_n(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&l.domain!=="localhost"&&_n("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||aE();const u=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new Ty(l.host,l.secure,a,u,n,"",a!==l.subdomain),path:new _e(l.pathString)}},WT=function(s){let n="",l="",a="",u="",f="",h=!0,_="https",g=443;if(typeof s=="string"){let m=s.indexOf("//");m>=0&&(_=s.substring(0,m-1),s=s.substring(m+2));let y=s.indexOf("/");y===-1&&(y=s.length);let b=s.indexOf("?");b===-1&&(b=s.length),n=s.substring(0,Math.min(y,b)),y<b&&(u=FT(s.substring(y,b)));const S=ZT(s.substring(Math.min(s.length,b)));m=n.indexOf(":"),m>=0?(h=_==="https"||_==="wss",g=parseInt(n.substring(m+1),10)):m=n.length;const z=n.slice(0,m);if(z.toLowerCase()==="localhost")l="localhost";else if(z.split(".").length<=2)l=z;else{const B=n.indexOf(".");a=n.substring(0,B).toLowerCase(),l=n.substring(B+1),f=a}"ns"in S&&(f=S.ns)}return{host:n,port:g,domain:l,subdomain:a,secure:h,scheme:_,pathString:u,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",JT=(function(){let s=0;const n=[];return function(l){const a=l===s;s=l;let u;const f=new Array(8);for(u=7;u>=0;u--)f[u]=zp.charAt(l%64),l=Math.floor(l/64);L(l===0,"Cannot push at time == 0");let h=f.join("");if(a){for(u=11;u>=0&&n[u]===63;u--)n[u]=0;n[u]++}else for(u=0;u<12;u++)n[u]=Math.floor(Math.random()*64);for(u=0;u<12;u++)h+=zp.charAt(n[u]);return L(h.length===20,"nextPushId: Length should be 20."),h}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(n,l,a,u){this.eventType=n,this.eventRegistration=l,this.snapshot=a,this.prevName=u}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ge(this.snapshot.exportVal())}}class bv{constructor(n,l,a){this.eventRegistration=n,this.error=l,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return L(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $T=class{constructor(n,l){this._repo=n,this._path=l}cancel(){const n=new pt;return YT(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Zt("OnDisconnect.remove",this._path);const n=new pt;return xp(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Zt("OnDisconnect.set",this._path),mn("OnDisconnect.set",n,this._path,!1);const l=new pt;return xp(this._repo,this._path,n,l.wrapCallback(()=>{})),l.promise}setWithPriority(n,l){Zt("OnDisconnect.setWithPriority",this._path),mn("OnDisconnect.setWithPriority",n,this._path,!1),xh("OnDisconnect.setWithPriority",l);const a=new pt;return GT(this._repo,this._path,n,l,a.wrapCallback(()=>{})),a.promise}update(n){Zt("OnDisconnect.update",this._path),ov("OnDisconnect.update",n,this._path);const l=new pt;return VT(this._repo,this._path,n,l.wrapCallback(()=>{})),l.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(n,l,a,u){this._repo=n,this._path=l,this._queryParams=a,this._orderByCalled=u}get key(){return ne(this._path)?null:uh(this._path)}get ref(){return new Wt(this._repo,this._path)}get _queryIdentifier(){const n=yp(this._queryParams),l=lh(n);return l==="{}"?"default":l}get _queryObject(){return yp(this._queryParams)}isEqual(n){if(n=Ht(n),!(n instanceof bt))return!1;const l=this._repo===n._repo,a=oh(this._path,n._path),u=this._queryIdentifier===n._queryIdentifier;return l&&a&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+VE(this._path)}}function Bu(s,n){if(s._orderByCalled===!0)throw new Error(n+": You can't combine multiple orderBy calls.")}function Ei(s){let n=null,l=null;if(s.hasStart()&&(n=s.getIndexStartValue()),s.hasEnd()&&(l=s.getIndexEndValue()),s.getIndex()===dn){const a="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",u="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(s.hasStart()){if(s.getIndexStartName()!==pi)throw new Error(a);if(typeof n!="string")throw new Error(u)}if(s.hasEnd()){if(s.getIndexEndName()!==In)throw new Error(a);if(typeof l!="string")throw new Error(u)}}else if(s.getIndex()===we){if(n!=null&&!Ea(n)||l!=null&&!Ea(l))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(L(s.getIndex()instanceof hh||s.getIndex()===dh,"unknown index type."),n!=null&&typeof n=="object"||l!=null&&typeof l=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Iu(s){if(s.hasStart()&&s.hasEnd()&&s.hasLimit()&&!s.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Wt extends bt{constructor(n,l){super(n,l,new Eu,!1)}get parent(){const n=zy(this._path);return n===null?null:new Wt(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}let Hu=class jf{constructor(n,l,a){this._node=n,this.ref=l,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new _e(n),a=Zi(this.ref,n);return new jf(this._node.getChild(l),a,we)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,u)=>n(new jf(u,Zi(this.ref,a),we)))}hasChild(n){const l=new _e(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Sv(s,n){return s=Ht(s),s._checkNotDeleted("ref"),n!==void 0?Zi(s._root,n):s._root}function Up(s,n){s=Ht(s),s._checkNotDeleted("refFromURL");const l=Vf(n,s._repo.repoInfo_.nodeAdmin);cv("refFromURL",l);const a=l.repoInfo;return!s._repo.repoInfo_.isCustomHost()&&a.host!==s._repo.repoInfo_.host&&_n("refFromURL: Host name does not match the current database: (found "+a.host+" but expected "+s._repo.repoInfo_.host+")"),Sv(s,l.path.toString())}function Zi(s,n){return s=Ht(s),te(s._path)===null?MT("child","path",n):Ca("child","path",n),new Wt(s._repo,De(s._path,n))}function eA(s,n){s=Ht(s),Zt("push",s._path),mn("push",n,s._path,!0);const l=_v(s._repo),a=JT(l),u=Zi(s,a),f=Zi(s,a);let h;return n!=null?h=Hh(f,n).then(()=>f):h=Promise.resolve(f),u.then=h.then.bind(h),u.catch=h.then.bind(h,void 0),u}function tA(s){return Zt("remove",s._path),Hh(s,null)}function Hh(s,n){s=Ht(s),Zt("set",s._path),mn("set",n,s._path,!1);const l=new pt;return Uh(s._repo,s._path,n,null,l.wrapCallback(()=>{})),l.promise}function nA(s,n){s=Ht(s),Zt("setPriority",s._path),xh("setPriority",n);const l=new pt;return Uh(s._repo,De(s._path,".priority"),n,null,l.wrapCallback(()=>{})),l.promise}function iA(s,n,l){if(Zt("setWithPriority",s._path),mn("setWithPriority",n,s._path,!1),xh("setWithPriority",l),s.key===".length"||s.key===".keys")throw"setWithPriority failed: "+s.key+" is a read-only object.";const a=new pt;return Uh(s._repo,s._path,n,l,a.wrapCallback(()=>{})),a.promise}function lA(s,n){ov("update",n,s._path);const l=new pt;return kT(s._repo,s._path,n,l.wrapCallback(()=>{})),l.promise}function sA(s){s=Ht(s);const n=new Ih(()=>{}),l=new za(n);return HT(s._repo,s,l).then(a=>new Hu(a,new Wt(s._repo,s._path),s._queryParams.getIndex()))}class za{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const a=l._queryParams.getIndex();return new vv("value",this,new Hu(n.snapshotNode,new Wt(l._repo,l._path),a))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new bv(this,n,l):null}matches(n){return n instanceof za?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ku{constructor(n,l){this.eventType=n,this.callbackContext=l}respondsTo(n){let l=n==="children_added"?"child_added":n;return l=l==="children_removed"?"child_removed":l,this.eventType===l}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new bv(this,n,l):null}createEvent(n,l){L(n.childName!=null,"Child events should have a childName.");const a=Zi(new Wt(l._repo,l._path),n.childName),u=l._queryParams.getIndex();return new vv(n.type,this,new Hu(n.snapshotNode,a,u),n.prevName)}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof ku?this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Ua(s,n,l,a,u){let f;if(typeof a=="object"&&(f=void 0,u=a),typeof a=="function"&&(f=a),u&&u.onlyOnce){const g=l,m=(y,b)=>{Gf(s._repo,s,_),g(y,b)};m.userCallback=l.userCallback,m.context=l.context,l=m}const h=new Ih(l,f||void 0),_=n==="value"?new za(h):new ku(n,h);return jT(s._repo,s,_),()=>Gf(s._repo,s,_)}function Qf(s,n,l,a){return Ua(s,"value",n,l,a)}function Lp(s,n,l,a){return Ua(s,"child_added",n,l,a)}function Bp(s,n,l,a){return Ua(s,"child_changed",n,l,a)}function Ip(s,n,l,a){return Ua(s,"child_moved",n,l,a)}function Hp(s,n,l,a){return Ua(s,"child_removed",n,l,a)}function kp(s,n,l){let a=null;const u=l?new Ih(l):null;n==="value"?a=new za(u):n&&(a=new ku(n,u)),Gf(s._repo,s,a)}class sn{}class Ev extends sn{constructor(n,l){super(),this._value=n,this._key=l,this.type="endAt"}_apply(n){mn("endAt",this._value,n._path,!0);const l=xf(n._queryParams,this._value,this._key);if(Iu(l),Ei(l),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bt(n._repo,n._path,l,n._orderByCalled)}}function aA(s,n){return Ma("endAt","key",n),new Ev(s,n)}class rA extends sn{constructor(n,l){super(),this._value=n,this._key=l,this.type="endBefore"}_apply(n){mn("endBefore",this._value,n._path,!1);const l=mC(n._queryParams,this._value,this._key);if(Iu(l),Ei(l),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bt(n._repo,n._path,l,n._orderByCalled)}}function uA(s,n){return Ma("endBefore","key",n),new rA(s,n)}class Cv extends sn{constructor(n,l){super(),this._value=n,this._key=l,this.type="startAt"}_apply(n){mn("startAt",this._value,n._path,!0);const l=Mf(n._queryParams,this._value,this._key);if(Iu(l),Ei(l),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new bt(n._repo,n._path,l,n._orderByCalled)}}function oA(s=null,n){return Ma("startAt","key",n),new Cv(s,n)}class cA extends sn{constructor(n,l){super(),this._value=n,this._key=l,this.type="startAfter"}_apply(n){mn("startAfter",this._value,n._path,!1);const l=_C(n._queryParams,this._value,this._key);if(Iu(l),Ei(l),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new bt(n._repo,n._path,l,n._orderByCalled)}}function fA(s,n){return Ma("startAfter","key",n),new cA(s,n)}class hA extends sn{constructor(n){super(),this._limit=n,this.type="limitToFirst"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new bt(n._repo,n._path,hC(n._queryParams,this._limit),n._orderByCalled)}}function dA(s){if(typeof s!="number"||Math.floor(s)!==s||s<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new hA(s)}class _A extends sn{constructor(n){super(),this._limit=n,this.type="limitToLast"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new bt(n._repo,n._path,dC(n._queryParams,this._limit),n._orderByCalled)}}function mA(s){if(typeof s!="number"||Math.floor(s)!==s||s<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _A(s)}class gA extends sn{constructor(n){super(),this._path=n,this.type="orderByChild"}_apply(n){Bu(n,"orderByChild");const l=new _e(this._path);if(ne(l))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const a=new hh(l),u=Cu(n._queryParams,a);return Ei(u),new bt(n._repo,n._path,u,!0)}}function pA(s){if(s==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(s==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(s==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ca("orderByChild","path",s),new gA(s)}class yA extends sn{constructor(){super(...arguments),this.type="orderByKey"}_apply(n){Bu(n,"orderByKey");const l=Cu(n._queryParams,dn);return Ei(l),new bt(n._repo,n._path,l,!0)}}function vA(){return new yA}class bA extends sn{constructor(){super(...arguments),this.type="orderByPriority"}_apply(n){Bu(n,"orderByPriority");const l=Cu(n._queryParams,we);return Ei(l),new bt(n._repo,n._path,l,!0)}}function SA(){return new bA}class EA extends sn{constructor(){super(...arguments),this.type="orderByValue"}_apply(n){Bu(n,"orderByValue");const l=Cu(n._queryParams,dh);return Ei(l),new bt(n._repo,n._path,l,!0)}}function CA(){return new EA}class TA extends sn{constructor(n,l){super(),this._value=n,this._key=l,this.type="equalTo"}_apply(n){if(mn("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ev(this._value,this._key)._apply(new Cv(this._value,this._key)._apply(n))}}function AA(s,n){return Ma("equalTo","key",n),new TA(s,n)}function tn(s,...n){let l=Ht(s);for(const a of n)l=a._apply(l);return l}iT(Wt);uT(Wt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="FIREBASE_DATABASE_EMULATOR_HOST",Xf={};let NA=!1;function RA(s,n,l,a){const u=n.lastIndexOf(":"),f=n.substring(0,u),h=Zf(f);s.repoInfo_=new Ty(n,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,l),a&&(s.authTokenProvider_=a)}function Tv(s,n,l,a,u){let f=a||s.options.databaseURL;f===void 0&&(s.options.projectId||_n("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ze("Using default host for project ",s.options.projectId),f=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=Vf(f,u),_=h.repoInfo,g,m;typeof process<"u"&&ep&&(m=ep[wA]),m?(g=!0,f=`http://${m}?ns=${_.namespace}`,h=Vf(f,u),_=h.repoInfo):g=!h.repoInfo.secure;const y=u&&g?new Gl(Gl.OWNER):new pE(s.name,s.options,n);cv("Invalid Firebase Database URL",h),ne(h.path)||_n("Database URL must point to the root of a Firebase Database (not including a child path).");const b=OA(_,s,y,new gE(s,l));return new MA(b,s)}function DA(s,n){const l=Xf[n];(!l||l[s.key]!==s)&&_n(`Database ${n}(${s.repoInfo_}) has already been deleted.`),mv(s),delete l[s.key]}function OA(s,n,l,a){let u=Xf[n.name];u||(u={},Xf[n.name]=u);let f=u[s.toURLString()];return f&&_n("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new LT(s,NA,l,a),u[s.toURLString()]=f,f}let MA=class{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(BT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wt(this._repo,he())),this._rootInternal}_delete(){return this._rootInternal!==null&&(DA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&_n("Cannot call "+n+" on a deleted database.")}};function Av(){Xl.IS_TRANSPORT_INITIALIZED&&rt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function xA(){Av(),oi.forceDisallow()}function zA(){Av(),Kt.forceDisallow(),oi.forceAllow()}function UA(s,n,l,a={}){s=Ht(s),s._checkNotDeleted("useEmulator");const u=`${n}:${l}`,f=s._repoInternal;if(s._instanceStarted){if(u===s._repoInternal.repoInfo_.host&&nu(a,f.repoInfo_.emulatorOptions))return;_n("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)a.mockUserToken&&_n('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Gl(Gl.OWNER);else if(a.mockUserToken){const _=typeof a.mockUserToken=="string"?a.mockUserToken:gb(a.mockUserToken,s.app.options.projectId);h=new Gl(_)}Zf(n)&&(mb(n),vb("Database",!0)),RA(f,u,a,h)}function LA(s){s=Ht(s),s._checkNotDeleted("goOffline"),mv(s._repo)}function BA(s){s=Ht(s),s._checkNotDeleted("goOnline"),QT(s._repo)}function IA(s,n){hy(s,n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(s){uy(th),Ql(new Ln("database",(n,{instanceIdentifier:l})=>{const a=n.getProvider("app").getImmediate(),u=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return Tv(a,u,f,l)},"PUBLIC").setMultipleInstances(!0)),zn(tp,np,s),zn(tp,np,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA={".sv":"timestamp"};function qA(){return kA}function YA(s){return{".sv":{increment:s}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GA=class{constructor(n,l){this.committed=n,this.snapshot=l}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function VA(s,n,l){if(s=Ht(s),Zt("Reference.transaction",s._path),s.key===".length"||s.key===".keys")throw"Reference.transaction failed: "+s.key+" is a read-only object.";const a=(l==null?void 0:l.applyLocally)??!0,u=new pt,f=(_,g,m)=>{let y=null;_?u.reject(_):(y=new Hu(m,new Wt(s._repo,s._path),we),u.resolve(new GA(g,y)))},h=Qf(s,()=>{});return XT(s._repo,s._path,n,f,h,a),u.promise}Un.prototype.simpleListen=function(s,n){this.sendRequest("q",{p:s},n)};Un.prototype.echo=function(s,n){this.sendRequest("echo",{d:s},n)};HA();const jA="@firebase/database-compat",QA="2.1.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new vu("@firebase/database-compat"),wv=function(s){const n="FIREBASE WARNING: "+s;XA.warn(n)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=function(s,n,l,a){if(l!==void 0&&typeof l!="boolean")throw new Error(vt(s,n)+"must be a boolean.")},KA=function(s,n,l){if(n!==void 0)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(vt(s,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(n){this._delegate=n}cancel(n){K("OnDisconnect.cancel",0,1,arguments.length),Ke("OnDisconnect.cancel","onComplete",n,!0);const l=this._delegate.cancel();return n&&l.then(()=>n(null),a=>n(a)),l}remove(n){K("OnDisconnect.remove",0,1,arguments.length),Ke("OnDisconnect.remove","onComplete",n,!0);const l=this._delegate.remove();return n&&l.then(()=>n(null),a=>n(a)),l}set(n,l){K("OnDisconnect.set",1,2,arguments.length),Ke("OnDisconnect.set","onComplete",l,!0);const a=this._delegate.set(n);return l&&a.then(()=>l(null),u=>l(u)),a}setWithPriority(n,l,a){K("OnDisconnect.setWithPriority",2,3,arguments.length),Ke("OnDisconnect.setWithPriority","onComplete",a,!0);const u=this._delegate.setWithPriority(n,l);return a&&u.then(()=>a(null),f=>a(f)),u}update(n,l){if(K("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const u={};for(let f=0;f<n.length;++f)u[""+f]=n[f];n=u,wv("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ke("OnDisconnect.update","onComplete",l,!0);const a=this._delegate.update(n);return l&&a.then(()=>l(null),u=>l(u)),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(n,l){this.committed=n,this.snapshot=l}toJSON(){return K("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(n,l){this._database=n,this._delegate=l}val(){return K("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return K("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return K("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return K("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return K("DataSnapshot.child",0,1,arguments.length),n=String(n),Ca("DataSnapshot.child","path",n),new _i(this._database,this._delegate.child(n))}hasChild(n){return K("DataSnapshot.hasChild",1,1,arguments.length),Ca("DataSnapshot.hasChild","path",n),this._delegate.hasChild(n)}getPriority(){return K("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return K("DataSnapshot.forEach",1,1,arguments.length),Ke("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(l=>n(new _i(this._database,l)))}hasChildren(){return K("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return K("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return K("DataSnapshot.ref",0,0,arguments.length),new Ut(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class tt{constructor(n,l){this.database=n,this._delegate=l}on(n,l,a,u){var g;K("Query.on",2,4,arguments.length),Ke("Query.on","callback",l,!1);const f=tt.getCancelAndContextArgs_("Query.on",a,u),h=(m,y)=>{l.call(f.context,new _i(this.database,m),y)};h.userCallback=l,h.context=f.context;const _=(g=f.cancel)==null?void 0:g.bind(f.context);switch(n){case"value":return Qf(this._delegate,h,_),l;case"child_added":return Lp(this._delegate,h,_),l;case"child_removed":return Hp(this._delegate,h,_),l;case"child_changed":return Bp(this._delegate,h,_),l;case"child_moved":return Ip(this._delegate,h,_),l;default:throw new Error(vt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,l,a){if(K("Query.off",0,3,arguments.length),KA("Query.off",n),Ke("Query.off","callback",l,!0),jg("Query.off","context",a),l){const u=()=>{};u.userCallback=l,u.context=a,kp(this._delegate,n,u)}else kp(this._delegate,n)}get(){return sA(this._delegate).then(n=>new _i(this.database,n))}once(n,l,a,u){K("Query.once",1,4,arguments.length),Ke("Query.once","callback",l,!0);const f=tt.getCancelAndContextArgs_("Query.once",a,u),h=new pt,_=(m,y)=>{const b=new _i(this.database,m);l&&l.call(f.context,b,y),h.resolve(b)};_.userCallback=l,_.context=f.context;const g=m=>{f.cancel&&f.cancel.call(f.context,m),h.reject(m)};switch(n){case"value":Qf(this._delegate,_,g,{onlyOnce:!0});break;case"child_added":Lp(this._delegate,_,g,{onlyOnce:!0});break;case"child_removed":Hp(this._delegate,_,g,{onlyOnce:!0});break;case"child_changed":Bp(this._delegate,_,g,{onlyOnce:!0});break;case"child_moved":Ip(this._delegate,_,g,{onlyOnce:!0});break;default:throw new Error(vt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(n){return K("Query.limitToFirst",1,1,arguments.length),new tt(this.database,tn(this._delegate,dA(n)))}limitToLast(n){return K("Query.limitToLast",1,1,arguments.length),new tt(this.database,tn(this._delegate,mA(n)))}orderByChild(n){return K("Query.orderByChild",1,1,arguments.length),new tt(this.database,tn(this._delegate,pA(n)))}orderByKey(){return K("Query.orderByKey",0,0,arguments.length),new tt(this.database,tn(this._delegate,vA()))}orderByPriority(){return K("Query.orderByPriority",0,0,arguments.length),new tt(this.database,tn(this._delegate,SA()))}orderByValue(){return K("Query.orderByValue",0,0,arguments.length),new tt(this.database,tn(this._delegate,CA()))}startAt(n=null,l){return K("Query.startAt",0,2,arguments.length),new tt(this.database,tn(this._delegate,oA(n,l)))}startAfter(n=null,l){return K("Query.startAfter",0,2,arguments.length),new tt(this.database,tn(this._delegate,fA(n,l)))}endAt(n=null,l){return K("Query.endAt",0,2,arguments.length),new tt(this.database,tn(this._delegate,aA(n,l)))}endBefore(n=null,l){return K("Query.endBefore",0,2,arguments.length),new tt(this.database,tn(this._delegate,uA(n,l)))}equalTo(n,l){return K("Query.equalTo",1,2,arguments.length),new tt(this.database,tn(this._delegate,AA(n,l)))}toString(){return K("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return K("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if(K("Query.isEqual",1,1,arguments.length),!(n instanceof tt)){const l="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(l)}return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,l,a){const u={cancel:void 0,context:void 0};if(l&&a)u.cancel=l,Ke(n,"cancel",u.cancel,!0),u.context=a,jg(n,"context",u.context);else if(l)if(typeof l=="object"&&l!==null)u.context=l;else if(typeof l=="function")u.cancel=l;else throw new Error(vt(n,"cancelOrContext")+" must either be a cancel callback or a context object.");return u}get ref(){return new Ut(this.database,new Wt(this._delegate._repo,this._delegate._path))}}class Ut extends tt{constructor(n,l){super(n,new bt(l._repo,l._path,new Eu,!1)),this.database=n,this._delegate=l}getKey(){return K("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return K("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new Ut(this.database,Zi(this._delegate,n))}getParent(){K("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Ut(this.database,n):null}getRoot(){return K("Reference.root",0,0,arguments.length),new Ut(this.database,this._delegate.root)}set(n,l){K("Reference.set",1,2,arguments.length),Ke("Reference.set","onComplete",l,!0);const a=Hh(this._delegate,n);return l&&a.then(()=>l(null),u=>l(u)),a}update(n,l){if(K("Reference.update",1,2,arguments.length),Array.isArray(n)){const u={};for(let f=0;f<n.length;++f)u[""+f]=n[f];n=u,wv("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Zt("Reference.update",this._delegate._path),Ke("Reference.update","onComplete",l,!0);const a=lA(this._delegate,n);return l&&a.then(()=>l(null),u=>l(u)),a}setWithPriority(n,l,a){K("Reference.setWithPriority",2,3,arguments.length),Ke("Reference.setWithPriority","onComplete",a,!0);const u=iA(this._delegate,n,l);return a&&u.then(()=>a(null),f=>a(f)),u}remove(n){K("Reference.remove",0,1,arguments.length),Ke("Reference.remove","onComplete",n,!0);const l=tA(this._delegate);return n&&l.then(()=>n(null),a=>n(a)),l}transaction(n,l,a){K("Reference.transaction",1,3,arguments.length),Ke("Reference.transaction","transactionUpdate",n,!1),Ke("Reference.transaction","onComplete",l,!0),PA("Reference.transaction","applyLocally",a);const u=VA(this._delegate,n,{applyLocally:a}).then(f=>new ZA(f.committed,new _i(this.database,f.snapshot)));return l&&u.then(f=>l(null,f.committed,f.snapshot),f=>l(f,!1,null)),u}setPriority(n,l){K("Reference.setPriority",1,2,arguments.length),Ke("Reference.setPriority","onComplete",l,!0);const a=nA(this._delegate,n);return l&&a.then(()=>l(null),u=>l(u)),a}push(n,l){K("Reference.push",0,2,arguments.length),Ke("Reference.push","onComplete",l,!0);const a=eA(this._delegate,n),u=a.then(h=>new Ut(this.database,h));l&&u.then(()=>l(null),h=>l(h));const f=new Ut(this.database,a);return f.then=u.then.bind(u),f.catch=u.catch.bind(u,void 0),f}onDisconnect(){return Zt("Reference.onDisconnect",this._delegate._path),new FA(new $T(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(n,l){this._delegate=n,this.app=l,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:xA,forceLongPolling:zA}}useEmulator(n,l,a={}){UA(this._delegate,n,l,a)}ref(n){if(K("database.ref",0,1,arguments.length),n instanceof Ut){const l=Up(this._delegate,n.toString());return new Ut(this,l)}else{const l=Sv(this._delegate,n);return new Ut(this,l)}}refFromURL(n){K("database.refFromURL",1,1,arguments.length);const a=Up(this._delegate,n);return new Ut(this,a)}goOffline(){return K("database.goOffline",0,0,arguments.length),LA(this._delegate)}goOnline(){return K("database.goOnline",0,0,arguments.length),BA(this._delegate)}}Ta.ServerValue={TIMESTAMP:qA(),increment:s=>YA(s)};function WA({app:s,url:n,version:l,customAuthImpl:a,customAppCheckImpl:u,namespace:f,nodeAdmin:h=!1}){uy(l);const _=new Wf("database-standalone"),g=new Cf("auth-internal",_);g.setComponent(new Ln("auth-internal",()=>a,"PRIVATE"));let m;return u&&(m=new Cf("app-check-internal",_),m.setComponent(new Ln("app-check-internal",()=>u,"PRIVATE"))),{instance:new Ta(Tv(s,g,m,n,h),s),namespace:f}}var JA=Object.freeze({__proto__:null,initStandalone:WA});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=Ta.ServerValue;function ew(s){s.INTERNAL.registerComponent(new Ln("database-compat",(n,{instanceIdentifier:l})=>{const a=n.getProvider("app-compat").getImmediate(),u=n.getProvider("database").getImmediate({identifier:l});return new Ta(u,a)},"PUBLIC").setServiceProps({Reference:Ut,Query:tt,Database:Ta,DataSnapshot:_i,enableLogging:IA,INTERNAL:JA,ServerValue:$A}).setMultipleInstances(!0)),s.registerVersion(jA,QA)}ew(ma);const tw={apiKey:"AIzaSyCK25mmhfyzb80DLo_6o1nbhYIXtCVGawQ",authDomain:"timerprj.firebaseapp.com",projectId:"timerprj",storageBucket:"timerprj.firebasestorage.app",messagingSenderId:"888857813650",appId:"1:888857813650:web:3fb8717cd866536e5f7c4b"};ma.apps.length||ma.initializeApp(tw);const Sf=ma.database(),Jr={meetingName:"팀 주간 회의",totalSeconds:900,remainingSeconds:900,isActive:!1,isPaused:!1},Nv=s=>{const n=Math.floor(s/60),l=s%60;return`${String(n).padStart(2,"0")}:${String(l).padStart(2,"0")}`},nw=(s,n,l)=>!n||l?"grey":s<60?"red":s<300?"yellow":"green",iw=({createAdminSession:s})=>W.jsxs("div",{className:"role-selection",children:[W.jsx("h1",{children:"발표 타이머"}),W.jsx("p",{children:"타이머를 만들거나 공유받은 링크를 통해 참여하세요."}),W.jsx("button",{className:"button button-primary",onClick:s,"aria-label":"타이머 관리하기",children:"새 타이머 만들기"}),W.jsx("p",{className:"description-text",children:"타이머를 보려면 관리자가 공유한 링크 또는 QR 코드가 필요합니다."})]}),qp=({appState:s})=>{const{remainingSeconds:n,meetingName:l,isActive:a,isPaused:u}=s,f=nw(n,a,u);return gt.useEffect(()=>(document.body.className=`status-${f}`,()=>{document.body.className=""}),[f]),W.jsxs("div",{className:"viewer-view",children:[W.jsx("h2",{className:"meeting-name",children:l||"회의"}),W.jsx("div",{className:"timer-display",children:Nv(n)})]})},lw=({appState:s,sessionId:n,updateRealtimeDBState:l})=>{const[a,u]=gt.useState(Math.floor(s.totalSeconds/60)),[f,h]=gt.useState(s.totalSeconds%60),[_,g]=gt.useState(s.meetingName),[m,y]=gt.useState(!1),[b,S]=gt.useState(!1),z=`${window.location.origin}${window.location.pathname}#view/${n}`;gt.useEffect(()=>{u(Math.floor(s.totalSeconds/60)),h(s.totalSeconds%60),g(s.meetingName)},[s.totalSeconds,s.meetingName]);const B=()=>{const ue=a*60+f;l({...Jr,totalSeconds:ue,remainingSeconds:ue,meetingName:_})},X=()=>{s.isActive?l({isPaused:!s.isPaused}):l({isActive:!0,isPaused:!1})},$=()=>{l({isActive:!1,isPaused:!1,remainingSeconds:s.totalSeconds})},xe=()=>{navigator.clipboard.writeText(z).then(()=>{S(!0),setTimeout(()=>S(!1),2e3)})},Le=()=>s.isActive?s.isPaused?"계속":"일시정지":"시작";return W.jsxs("div",{className:"admin-dashboard",children:[W.jsx("button",{onClick:()=>window.location.hash="",className:"back-button","aria-label":"뒤로가기",children:"←"}),W.jsx("h2",{children:"타이머 관리"}),W.jsxs("div",{className:"admin-panel",children:[W.jsx("h3",{children:"설정"}),W.jsxs("div",{className:"input-group",children:[W.jsx("label",{htmlFor:"meetingName",children:"회의명"}),W.jsx("input",{id:"meetingName",type:"text",className:"input-field",value:_,onChange:ue=>g(ue.target.value),placeholder:"회의명을 입력하세요",disabled:s.isActive})]}),W.jsxs("div",{className:"input-group",children:[W.jsx("label",{children:"총 발표 시간"}),W.jsxs("div",{className:"time-input-group",children:[W.jsx("input",{type:"number",value:a,onChange:ue=>u(Math.max(0,parseInt(ue.target.value,10)||0)),"aria-label":"분",disabled:s.isActive}),W.jsx("span",{children:":"}),W.jsx("input",{type:"number",value:f,onChange:ue=>h(Math.max(0,Math.min(59,parseInt(ue.target.value,10)||0))),"aria-label":"초",disabled:s.isActive})]})]}),W.jsx("button",{className:"button button-primary",onClick:B,disabled:s.isActive,children:"설정 적용"})]}),W.jsxs("div",{className:"admin-panel",children:[W.jsx("h3",{children:"제어 및 공유"}),W.jsx("div",{className:"timer-display-small",children:Nv(s.remainingSeconds)}),W.jsxs("div",{className:"controls",children:[W.jsx("button",{className:"button button-primary",onClick:X,disabled:s.totalSeconds===0,children:Le()}),W.jsx("button",{className:"button button-secondary",onClick:$,children:"초기화"})]}),W.jsxs("div",{className:"share-controls",children:[W.jsx("button",{className:"button button-secondary",onClick:xe,children:b?"복사 완료!":"URL 복사"}),W.jsx("button",{className:"button button-secondary",onClick:()=>y(!m),children:m?"QR 숨기기":"QR 코드 보기"})]}),m&&W.jsxs("div",{className:"qr-code-container",children:[W.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(z)}`,alt:"Timer Share QR Code"}),W.jsx("p",{children:"이 QR 코드를 스캔하여 타이머를 공유하세요."})]})]})]})},sw=()=>{const[s,n]=gt.useState("loading"),[l,a]=gt.useState(Jr),[u,f]=gt.useState(null),h=gt.useRef(null),_=gt.useCallback(y=>{u&&Sf.ref("timers/"+u).update(y)},[u]);gt.useEffect(()=>(h.current&&clearInterval(h.current),s==="admin"&&l.isActive&&!l.isPaused&&(h.current=window.setInterval(()=>{const y=l.remainingSeconds-1;y>=0?_({remainingSeconds:y}):(_({remainingSeconds:0,isActive:!1}),h.current&&clearInterval(h.current))},1e3)),()=>{h.current&&clearInterval(h.current)}),[s,l.isActive,l.isPaused,l.remainingSeconds,_]),gt.useEffect(()=>{let y=null;const b=()=>{y&&(y(),y=null);const S=window.location.hash.slice(1),[z,B]=S.split("/");if((z==="admin"||z==="view")&&B){f(B);const X=Sf.ref("timers/"+B),$=xe=>{xe.exists()?a(xe.val()):(console.error("Timer session not found!"),window.location.hash="")};X.on("value",$),y=()=>X.off("value",$),n(z)}else f(null),a(Jr),n("select")};return window.addEventListener("hashchange",b),b(),()=>{window.removeEventListener("hashchange",b),y&&y()}},[]);const g=async()=>{try{const y=Sf.ref("timers").push();await y.set(Jr),y.key&&(window.location.hash=`admin/${y.key}`)}catch(y){console.error("Error creating new session:",y),alert("타이머를 생성하는데 실패했습니다. 다시 시도해주세요.")}},m=()=>{if(s==="loading")return W.jsx("div",{className:"loading",children:"Loading..."});switch(s){case"admin":return W.jsx(lw,{appState:l,sessionId:u,updateRealtimeDBState:_});case"viewer":return W.jsx(qp,{appState:l});case"select":default:return W.jsx(iw,{createAdminSession:g})}};return s==="viewer"?W.jsx(qp,{appState:l}):W.jsx("div",{className:"app-container",children:m()})},aw=document.getElementById("root"),rw=sb.createRoot(aw);rw.render(W.jsx(sw,{}));
